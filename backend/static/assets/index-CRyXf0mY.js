(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function r(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(d){if(d.ep)return;d.ep=!0;const f=r(d);fetch(d.href,f)}})();function Xl(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wd={exports:{}},Zi={};var Mx;function tN(){if(Mx)return Zi;Mx=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(c,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var x in d)x!=="key"&&(f[x]=d[x])}else f=d;return d=f.ref,{$$typeof:s,type:c,key:h,ref:d!==void 0?d:null,props:f}}return Zi.Fragment=i,Zi.jsx=r,Zi.jsxs=r,Zi}var zx;function aN(){return zx||(zx=1,wd.exports=tN()),wd.exports}var a=aN(),Td={exports:{}},Me={};var kx;function nN(){if(kx)return Me;kx=1;var s=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function w(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function D(b,O,I){this.props=b,this.context=O,this.refs=E,this.updater=I||C}D.prototype.isReactComponent={},D.prototype.setState=function(b,O){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,O,"setState")},D.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function T(){}T.prototype=D.prototype;function L(b,O,I){this.props=b,this.context=O,this.refs=E,this.updater=I||C}var _=L.prototype=new T;_.constructor=L,A(_,D.prototype),_.isPureReactComponent=!0;var M=Array.isArray;function H(){}var z={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function J(b,O,I){var ee=I.ref;return{$$typeof:s,type:b,key:O,ref:ee!==void 0?ee:null,props:I}}function q(b,O){return J(b.type,O,b.props)}function X(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function P(b){var O={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(I){return O[I]})}var te=/\/+/g;function de(b,O){return typeof b=="object"&&b!==null&&b.key!=null?P(""+b.key):O.toString(36)}function pe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(H,H):(b.status="pending",b.then(function(O){b.status==="pending"&&(b.status="fulfilled",b.value=O)},function(O){b.status==="pending"&&(b.status="rejected",b.reason=O)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function V(b,O,I,ee,oe){var je=typeof b;(je==="undefined"||je==="boolean")&&(b=null);var G=!1;if(b===null)G=!0;else switch(je){case"bigint":case"string":case"number":G=!0;break;case"object":switch(b.$$typeof){case s:case i:G=!0;break;case j:return G=b._init,V(G(b._payload),O,I,ee,oe)}}if(G)return oe=oe(b),G=ee===""?"."+de(b,0):ee,M(oe)?(I="",G!=null&&(I=G.replace(te,"$&/")+"/"),V(oe,O,I,"",function(_e){return _e})):oe!=null&&(X(oe)&&(oe=q(oe,I+(oe.key==null||b&&b.key===oe.key?"":(""+oe.key).replace(te,"$&/")+"/")+G)),O.push(oe)),1;G=0;var re=ee===""?".":ee+":";if(M(b))for(var me=0;me<b.length;me++)ee=b[me],je=re+de(ee,me),G+=V(ee,O,I,je,oe);else if(me=w(b),typeof me=="function")for(b=me.call(b),me=0;!(ee=b.next()).done;)ee=ee.value,je=re+de(ee,me++),G+=V(ee,O,I,je,oe);else if(je==="object"){if(typeof b.then=="function")return V(pe(b),O,I,ee,oe);throw O=String(b),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return G}function ne(b,O,I){if(b==null)return b;var ee=[],oe=0;return V(b,ee,"","",function(je){return O.call(I,je,oe++)}),ee}function ce(b){if(b._status===-1){var O=b._result;O=O(),O.then(function(I){(b._status===0||b._status===-1)&&(b._status=1,b._result=I)},function(I){(b._status===0||b._status===-1)&&(b._status=2,b._result=I)}),b._status===-1&&(b._status=0,b._result=O)}if(b._status===1)return b._result.default;throw b._result}var ge=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},U={map:ne,forEach:function(b,O,I){ne(b,function(){O.apply(this,arguments)},I)},count:function(b){var O=0;return ne(b,function(){O++}),O},toArray:function(b){return ne(b,function(O){return O})||[]},only:function(b){if(!X(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Me.Activity=y,Me.Children=U,Me.Component=D,Me.Fragment=r,Me.Profiler=d,Me.PureComponent=L,Me.StrictMode=c,Me.Suspense=g,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Me.__COMPILER_RUNTIME={__proto__:null,c:function(b){return z.H.useMemoCache(b)}},Me.cache=function(b){return function(){return b.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(b,O,I){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ee=A({},b.props),oe=b.key;if(O!=null)for(je in O.key!==void 0&&(oe=""+O.key),O)!B.call(O,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&O.ref===void 0||(ee[je]=O[je]);var je=arguments.length-2;if(je===1)ee.children=I;else if(1<je){for(var G=Array(je),re=0;re<je;re++)G[re]=arguments[re+2];ee.children=G}return J(b.type,oe,ee)},Me.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},Me.createElement=function(b,O,I){var ee,oe={},je=null;if(O!=null)for(ee in O.key!==void 0&&(je=""+O.key),O)B.call(O,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(oe[ee]=O[ee]);var G=arguments.length-2;if(G===1)oe.children=I;else if(1<G){for(var re=Array(G),me=0;me<G;me++)re[me]=arguments[me+2];oe.children=re}if(b&&b.defaultProps)for(ee in G=b.defaultProps,G)oe[ee]===void 0&&(oe[ee]=G[ee]);return J(b,je,oe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(b){return{$$typeof:x,render:b}},Me.isValidElement=X,Me.lazy=function(b){return{$$typeof:j,_payload:{_status:-1,_result:b},_init:ce}},Me.memo=function(b,O){return{$$typeof:p,type:b,compare:O===void 0?null:O}},Me.startTransition=function(b){var O=z.T,I={};z.T=I;try{var ee=b(),oe=z.S;oe!==null&&oe(I,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(H,ge)}catch(je){ge(je)}finally{O!==null&&I.types!==null&&(O.types=I.types),z.T=O}},Me.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Me.use=function(b){return z.H.use(b)},Me.useActionState=function(b,O,I){return z.H.useActionState(b,O,I)},Me.useCallback=function(b,O){return z.H.useCallback(b,O)},Me.useContext=function(b){return z.H.useContext(b)},Me.useDebugValue=function(){},Me.useDeferredValue=function(b,O){return z.H.useDeferredValue(b,O)},Me.useEffect=function(b,O){return z.H.useEffect(b,O)},Me.useEffectEvent=function(b){return z.H.useEffectEvent(b)},Me.useId=function(){return z.H.useId()},Me.useImperativeHandle=function(b,O,I){return z.H.useImperativeHandle(b,O,I)},Me.useInsertionEffect=function(b,O){return z.H.useInsertionEffect(b,O)},Me.useLayoutEffect=function(b,O){return z.H.useLayoutEffect(b,O)},Me.useMemo=function(b,O){return z.H.useMemo(b,O)},Me.useOptimistic=function(b,O){return z.H.useOptimistic(b,O)},Me.useReducer=function(b,O,I){return z.H.useReducer(b,O,I)},Me.useRef=function(b){return z.H.useRef(b)},Me.useState=function(b){return z.H.useState(b)},Me.useSyncExternalStore=function(b,O,I){return z.H.useSyncExternalStore(b,O,I)},Me.useTransition=function(){return z.H.useTransition()},Me.version="19.2.0",Me}var Lx;function ff(){return Lx||(Lx=1,Td.exports=nN()),Td.exports}var m=ff();const Ht=Xl(m);var _d={exports:{}},Ji={},Ad={exports:{}},Od={};var $x;function sN(){return $x||($x=1,(function(s){function i(V,ne){var ce=V.length;V.push(ne);e:for(;0<ce;){var ge=ce-1>>>1,U=V[ge];if(0<d(U,ne))V[ge]=ne,V[ce]=U,ce=ge;else break e}}function r(V){return V.length===0?null:V[0]}function c(V){if(V.length===0)return null;var ne=V[0],ce=V.pop();if(ce!==ne){V[0]=ce;e:for(var ge=0,U=V.length,b=U>>>1;ge<b;){var O=2*(ge+1)-1,I=V[O],ee=O+1,oe=V[ee];if(0>d(I,ce))ee<U&&0>d(oe,I)?(V[ge]=oe,V[ee]=ce,ge=ee):(V[ge]=I,V[O]=ce,ge=O);else if(ee<U&&0>d(oe,ce))V[ge]=oe,V[ee]=ce,ge=ee;else break e}}return ne}function d(V,ne){var ce=V.sortIndex-ne.sortIndex;return ce!==0?ce:V.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,x=h.now();s.unstable_now=function(){return h.now()-x}}var g=[],p=[],j=1,y=null,S=3,w=!1,C=!1,A=!1,E=!1,D=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function _(V){for(var ne=r(p);ne!==null;){if(ne.callback===null)c(p);else if(ne.startTime<=V)c(p),ne.sortIndex=ne.expirationTime,i(g,ne);else break;ne=r(p)}}function M(V){if(A=!1,_(V),!C)if(r(g)!==null)C=!0,H||(H=!0,P());else{var ne=r(p);ne!==null&&pe(M,ne.startTime-V)}}var H=!1,z=-1,B=5,J=-1;function q(){return E?!0:!(s.unstable_now()-J<B)}function X(){if(E=!1,H){var V=s.unstable_now();J=V;var ne=!0;try{e:{C=!1,A&&(A=!1,T(z),z=-1),w=!0;var ce=S;try{t:{for(_(V),y=r(g);y!==null&&!(y.expirationTime>V&&q());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,S=y.priorityLevel;var U=ge(y.expirationTime<=V);if(V=s.unstable_now(),typeof U=="function"){y.callback=U,_(V),ne=!0;break t}y===r(g)&&c(g),_(V)}else c(g);y=r(g)}if(y!==null)ne=!0;else{var b=r(p);b!==null&&pe(M,b.startTime-V),ne=!1}}break e}finally{y=null,S=ce,w=!1}ne=void 0}}finally{ne?P():H=!1}}}var P;if(typeof L=="function")P=function(){L(X)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=X,P=function(){de.postMessage(null)}}else P=function(){D(X,0)};function pe(V,ne){z=D(function(){V(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(V){V.callback=null},s.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<V?Math.floor(1e3/V):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(V){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var ce=S;S=ne;try{return V()}finally{S=ce}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=S;S=V;try{return ne()}finally{S=ce}},s.unstable_scheduleCallback=function(V,ne,ce){var ge=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ge+ce:ge):ce=ge,V){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ce+U,V={id:j++,callback:ne,priorityLevel:V,startTime:ce,expirationTime:U,sortIndex:-1},ce>ge?(V.sortIndex=ce,i(p,V),r(g)===null&&V===r(p)&&(A?(T(z),z=-1):A=!0,pe(M,ce-ge))):(V.sortIndex=U,i(g,V),C||w||(C=!0,H||(H=!0,P()))),V},s.unstable_shouldYield=q,s.unstable_wrapCallback=function(V){var ne=S;return function(){var ce=S;S=ne;try{return V.apply(this,arguments)}finally{S=ce}}}})(Od)),Od}var Bx;function lN(){return Bx||(Bx=1,Ad.exports=sN()),Ad.exports}var Rd={exports:{}},Vt={};var Ux;function iN(){if(Ux)return Vt;Ux=1;var s=ff();function i(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)p+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var c={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,p,j){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:y==null?null:""+y,children:g,containerInfo:p,implementation:j}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Vt.createPortal=function(g,p){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(i(299));return f(g,p,null,j)},Vt.flushSync=function(g){var p=h.T,j=c.p;try{if(h.T=null,c.p=2,g)return g()}finally{h.T=p,c.p=j,c.d.f()}},Vt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(g,p))},Vt.prefetchDNS=function(g){typeof g=="string"&&c.d.D(g)},Vt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var j=p.as,y=x(j,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;j==="style"?c.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:w}):j==="script"&&c.d.X(g,{crossOrigin:y,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Vt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var j=x(p.as,p.crossOrigin);c.d.M(g,{crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(g)},Vt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var j=p.as,y=x(j,p.crossOrigin);c.d.L(g,j,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Vt.preloadModule=function(g,p){if(typeof g=="string")if(p){var j=x(p.as,p.crossOrigin);c.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:j,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(g)},Vt.requestFormReset=function(g){c.d.r(g)},Vt.unstable_batchedUpdates=function(g,p){return g(p)},Vt.useFormState=function(g,p,j){return h.H.useFormState(g,p,j)},Vt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Vt.version="19.2.0",Vt}var Hx;function Bv(){if(Hx)return Rd.exports;Hx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),Rd.exports=iN(),Rd.exports}var qx;function rN(){if(qx)return Ji;qx=1;var s=lN(),i=ff(),r=Bv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(c(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return g(o),e;if(u===l)return g(o),t;u=u.sibling}throw Error(c(188))}if(n.return!==l.return)n=o,l=u;else{for(var v=!1,N=o.child;N;){if(N===n){v=!0,n=o,l=u;break}if(N===l){v=!0,l=o,n=u;break}N=N.sibling}if(!v){for(N=u.child;N;){if(N===n){v=!0,n=u,l=o;break}if(N===l){v=!0,l=u,n=o;break}N=N.sibling}if(!v)throw Error(c(189))}}if(n.alternate!==l)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=j(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),L=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var te=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case D:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case H:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case L:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var pe=Array.isArray,V=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ge=[],U=-1;function b(e){return{current:e}}function O(e){0>U||(e.current=ge[U],ge[U]=null,U--)}function I(e,t){U++,ge[U]=e.current,e.current=t}var ee=b(null),oe=b(null),je=b(null),G=b(null);function re(e,t){switch(I(je,t),I(oe,e),I(ee,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ax(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ax(t),e=nx(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(ee),I(ee,e)}function me(){O(ee),O(oe),O(je)}function _e(e){e.memoizedState!==null&&I(G,e);var t=ee.current,n=nx(t,e.type);t!==n&&(I(oe,e),I(ee,n))}function De(e){oe.current===e&&(O(ee),O(oe)),G.current===e&&(O(G),Fi._currentValue=ce)}var ft,pt;function xt(e){if(ft===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ft=t&&t[1]||"",pt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+e+pt}var Ge=!1;function Et(e,t){if(!e||Ge)return"";Ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Z=W}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(W){Z=W}e.call(ie.prototype)}}else{try{throw Error()}catch(W){Z=W}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),v=u[0],N=u[1];if(v&&N){var k=v.split(`
`),K=N.split(`
`);for(o=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;o<K.length&&!K[o].includes("DetermineComponentFrameRoot");)o++;if(l===k.length||o===K.length)for(l=k.length-1,o=K.length-1;1<=l&&0<=o&&k[l]!==K[o];)o--;for(;1<=l&&0<=o;l--,o--)if(k[l]!==K[o]){if(l!==1||o!==1)do if(l--,o--,0>o||k[l]!==K[o]){var ae=`
`+k[l].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=l&&0<=o);break}}}finally{Ge=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?xt(n):""}function Je(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Et(e.type,!1);case 11:return Et(e.type.render,!1);case 1:return Et(e.type,!0);case 31:return xt("Activity");default:return""}}function Ra(e){try{var t="",n=null;do t+=Je(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,se=s.unstable_scheduleCallback,xe=s.unstable_cancelCallback,we=s.unstable_shouldYield,yt=s.unstable_requestPaint,Re=s.unstable_now,Jt=s.unstable_getCurrentPriorityLevel,Oe=s.unstable_ImmediatePriority,at=s.unstable_UserBlockingPriority,ga=s.unstable_NormalPriority,ei=s.unstable_LowPriority,Js=s.unstable_IdlePriority,Ss=s.log,ti=s.unstable_setDisableYieldValue,Ln=null,It=null;function qt(e){if(typeof Ss=="function"&&ti(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Ln,e)}catch{}}var Rt=Math.clz32?Math.clz32:ai,Er=Math.log,Ya=Math.LN2;function ai(e){return e>>>=0,e===0?32:31-(Er(e)/Ya|0)|0}var Da=256,$n=262144,Bn=4194304;function Dt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ma(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var N=l&134217727;return N!==0?(l=N&~u,l!==0?o=Dt(l):(v&=N,v!==0?o=Dt(v):n||(n=N&~e,n!==0&&(o=Dt(n))))):(N=l&~u,N!==0?o=Dt(N):v!==0?o=Dt(v):n||(n=l&~e,n!==0&&(o=Dt(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function za(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Un(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mt(){var e=Bn;return Bn<<=1,(Bn&62914560)===0&&(Bn=4194304),e}function Va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function No(e,t,n,l,o,u){var v=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var N=e.entanglements,k=e.expirationTimes,K=e.hiddenUpdates;for(n=v&~n;0<n;){var ae=31-Rt(n),ie=1<<ae;N[ae]=0,k[ae]=-1;var Z=K[ae];if(Z!==null)for(K[ae]=null,ae=0;ae<Z.length;ae++){var W=Z[ae];W!==null&&(W.lane&=-536870913)}n&=~ie}l!==0&&Is(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(v&~t))}function Is(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Rt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Ps(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Rt(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Hn(e,t){var n=t&-t;return n=(n&42)!==0?1:ln(n),(n&(e.suspendedLanes|t))!==0?0:n}function ln(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ws(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ni(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:wx(e.type))}function si(e,t){var n=ne.p;try{return ne.p=e,t()}finally{ne.p=n}}var ka=Math.random().toString(36).slice(2),ot="__reactFiber$"+ka,ut="__reactProps$"+ka,Gt="__reactContainer$"+ka,rn="__reactEvents$"+ka,So="__reactListeners$"+ka,Yt="__reactHandles$"+ka,Fa="__reactResources$"+ka,La="__reactMarker$"+ka;function Xa(e){delete e[ot],delete e[ut],delete e[rn],delete e[So],delete e[Yt]}function qn(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ux(e);e!==null;){if(n=e[ot])return n;e=ux(e)}return t}e=n,n=e.parentNode}return null}function Gn(e){if(e=e[ot]||e[Gt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Cs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Qa(e){var t=e[Fa];return t||(t=e[Fa]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ct(e){e[La]=!0}var Cr=new Set,wr={};function cn(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(wr[e]=t,e=0;e<t.length;e++)Cr.add(t[e])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ws={},el={};function tl(e){return vt.call(el,e)?!0:vt.call(ws,e)?!1:Eo.test(e)?el[e]=!0:(ws[e]=!0,!1)}function Ts(e,t,n){if(tl(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function al(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ba(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function ea(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function li(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tr(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,u=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(v){n=""+v,u.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nl(e){if(!e._valueTracker){var t=li(e)?"checked":"value";e._valueTracker=Tr(e,t,""+e[t])}}function _r(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=li(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ll=/[\n"\\]/g;function Pt(e){return e.replace(ll,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ii(e,t,n,l,o,u,v,N){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ea(t)):e.value!==""+ea(t)&&(e.value=""+ea(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?il(e,v,ea(t)):n!=null?il(e,v,ea(n)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+ea(N):e.removeAttribute("name")}function Ar(e,t,n,l,o,u,v,N){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){nl(e);return}n=n!=null?""+ea(n):"",t=t!=null?""+ea(t):n,N||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),nl(e)}function il(e,t,n){t==="number"&&sl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Yn(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+ea(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ri(e,t,n){if(t!=null&&(t=""+ea(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ea(n):""}function Or(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(c(92));if(pe(l)){if(1<l.length)throw Error(c(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=ea(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),nl(e)}function Vn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function un(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Co.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ci(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&un(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&un(e,u,t[u])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _s(e){return Dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $a(){}var R=null;function ue(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ae=null,Ee=null;function Ke(e){var t=Gn(e);if(t&&(e=t.stateNode)){var n=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(ii(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[ut]||null;if(!o)throw Error(c(90));ii(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&_r(l)}break e;case"textarea":ri(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Yn(e,!!n.multiple,t,!1)}}}var Ve=!1;function lt(e,t,n){if(Ve)return e(t,n);Ve=!0;try{var l=e(t);return l}finally{if(Ve=!1,(Ae!==null||Ee!==null)&&(bc(),Ae&&(t=Ae,e=Ee,Ee=Ae=null,Ke(t),e)))for(t=0;t<e.length;t++)Ke(e[t])}}function gt(e,t){var n=e.stateNode;if(n===null)return null;var l=n[ut]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=!1;if(dn)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){wo=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{wo=!1}var Fn=null,To=null,Mr=null;function nm(){if(Mr)return Mr;var e,t=To,n=t.length,l,o="value"in Fn?Fn.value:Fn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var v=n-e;for(l=1;l<=v&&t[n-l]===o[u-l];l++);return Mr=o.slice(e,1<l?1-l:void 0)}function zr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kr(){return!0}function sm(){return!1}function ta(e){function t(n,l,o,u,v){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=v,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(n=e[N],this[N]=n?n(u):u[N]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?kr:sm,this.isPropagationStopped=sm,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lr=ta(As),ui=y({},As,{view:0,detail:0}),Wb=ta(ui),_o,Ao,di,$r=y({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(_o=e.screenX-di.screenX,Ao=e.screenY-di.screenY):Ao=_o=0,di=e),_o)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),lm=ta($r),ej=y({},$r,{dataTransfer:0}),tj=ta(ej),aj=y({},ui,{relatedTarget:0}),Oo=ta(aj),nj=y({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),sj=ta(nj),lj=y({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ij=ta(lj),rj=y({},As,{data:0}),im=ta(rj),cj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uj[e])?!!t[e]:!1}function Ro(){return dj}var fj=y({},ui,{key:function(e){if(e.key){var t=cj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mj=ta(fj),hj=y({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=ta(hj),pj=y({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),xj=ta(pj),vj=y({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),gj=ta(vj),bj=y({},$r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jj=ta(bj),yj=y({},As,{newState:0,oldState:0}),Nj=ta(yj),Sj=[9,13,27,32],Do=dn&&"CompositionEvent"in window,fi=null;dn&&"documentMode"in document&&(fi=document.documentMode);var Ej=dn&&"TextEvent"in window&&!fi,cm=dn&&(!Do||fi&&8<fi&&11>=fi),om=" ",um=!1;function dm(e,t){switch(e){case"keyup":return Sj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function Cj(e,t){switch(e){case"compositionend":return fm(t);case"keypress":return t.which!==32?null:(um=!0,om);case"textInput":return e=t.data,e===om&&um?null:e;default:return null}}function wj(e,t){if(cl)return e==="compositionend"||!Do&&dm(e,t)?(e=nm(),Mr=To=Fn=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cm&&t.locale!=="ko"?null:t.data;default:return null}}var Tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tj[e.type]:t==="textarea"}function hm(e,t,n,l){Ae?Ee?Ee.push(l):Ee=[l]:Ae=l,t=wc(t,"onChange"),0<t.length&&(n=new Lr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var mi=null,hi=null;function _j(e){Jp(e,0)}function Br(e){var t=Cs(e);if(_r(t))return e}function pm(e,t){if(e==="change")return t}var xm=!1;if(dn){var Mo;if(dn){var zo="oninput"in document;if(!zo){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),zo=typeof vm.oninput=="function"}Mo=zo}else Mo=!1;xm=Mo&&(!document.documentMode||9<document.documentMode)}function gm(){mi&&(mi.detachEvent("onpropertychange",bm),hi=mi=null)}function bm(e){if(e.propertyName==="value"&&Br(hi)){var t=[];hm(t,hi,e,ue(e)),lt(_j,t)}}function Aj(e,t,n){e==="focusin"?(gm(),mi=t,hi=n,mi.attachEvent("onpropertychange",bm)):e==="focusout"&&gm()}function Oj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Br(hi)}function Rj(e,t){if(e==="click")return Br(t)}function Dj(e,t){if(e==="input"||e==="change")return Br(t)}function Mj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var oa=typeof Object.is=="function"?Object.is:Mj;function pi(e,t){if(oa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!vt.call(t,o)||!oa(e[o],t[o]))return!1}return!0}function jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ym(e,t){var n=jm(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jm(n)}}function Nm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sl(e.document)}return t}function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zj=dn&&"documentMode"in document&&11>=document.documentMode,ol=null,Lo=null,xi=null,$o=!1;function Em(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$o||ol==null||ol!==sl(l)||(l=ol,"selectionStart"in l&&ko(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xi&&pi(xi,l)||(xi=l,l=wc(Lo,"onSelect"),0<l.length&&(t=new Lr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=ol)))}function Os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ul={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Bo={},Cm={};dn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Rs(e){if(Bo[e])return Bo[e];if(!ul[e])return e;var t=ul[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cm)return Bo[e]=t[n];return e}var wm=Rs("animationend"),Tm=Rs("animationiteration"),_m=Rs("animationstart"),kj=Rs("transitionrun"),Lj=Rs("transitionstart"),$j=Rs("transitioncancel"),Am=Rs("transitionend"),Om=new Map,Uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uo.push("scrollEnd");function Ba(e,t){Om.set(e,t),cn(t,[e])}var Ur=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ja=[],dl=0,Ho=0;function Hr(){for(var e=dl,t=Ho=dl=0;t<e;){var n=ja[t];ja[t++]=null;var l=ja[t];ja[t++]=null;var o=ja[t];ja[t++]=null;var u=ja[t];if(ja[t++]=null,l!==null&&o!==null){var v=l.pending;v===null?o.next=o:(o.next=v.next,v.next=o),l.pending=o}u!==0&&Rm(n,o,u)}}function qr(e,t,n,l){ja[dl++]=e,ja[dl++]=t,ja[dl++]=n,ja[dl++]=l,Ho|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qo(e,t,n,l){return qr(e,t,n,l),Gr(e)}function Ds(e,t){return qr(e,null,null,t),Gr(e)}function Rm(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Rt(n),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),u):null}function Gr(e){if(50<Bi)throw Bi=0,Ju=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var fl={};function Bj(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,n,l){return new Bj(e,t,n,l)}function Go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fn(e,t){var n=e.alternate;return n===null?(n=ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Dm(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yr(e,t,n,l,o,u){var v=0;if(l=e,typeof e=="function")Go(e)&&(v=1);else if(typeof e=="string")v=Yy(e,n,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=ua(31,n,t,o),e.elementType=J,e.lanes=u,e;case A:return Ms(n.children,o,u,t);case E:v=8,o|=24;break;case D:return e=ua(12,n,t,o|2),e.elementType=D,e.lanes=u,e;case M:return e=ua(13,n,t,o),e.elementType=M,e.lanes=u,e;case H:return e=ua(19,n,t,o),e.elementType=H,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:v=10;break e;case T:v=9;break e;case _:v=11;break e;case z:v=14;break e;case B:v=16,l=null;break e}v=29,n=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=ua(v,n,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function Ms(e,t,n,l){return e=ua(7,e,l,t),e.lanes=n,e}function Yo(e,t,n){return e=ua(6,e,null,t),e.lanes=n,e}function Mm(e){var t=ua(18,null,null,0);return t.stateNode=e,t}function Vo(e,t,n){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zm=new WeakMap;function ya(e,t){if(typeof e=="object"&&e!==null){var n=zm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ra(t)},zm.set(e,t),t)}return{value:e,source:t,stack:Ra(t)}}var ml=[],hl=0,Vr=null,vi=0,Na=[],Sa=0,Xn=null,Ka=1,Za="";function mn(e,t){ml[hl++]=vi,ml[hl++]=Vr,Vr=e,vi=t}function km(e,t,n){Na[Sa++]=Ka,Na[Sa++]=Za,Na[Sa++]=Xn,Xn=e;var l=Ka;e=Za;var o=32-Rt(l)-1;l&=~(1<<o),n+=1;var u=32-Rt(t)+o;if(30<u){var v=o-o%5;u=(l&(1<<v)-1).toString(32),l>>=v,o-=v,Ka=1<<32-Rt(t)+o|n<<o|l,Za=u+e}else Ka=1<<u|n<<o|l,Za=e}function Fo(e){e.return!==null&&(mn(e,1),km(e,1,0))}function Xo(e){for(;e===Vr;)Vr=ml[--hl],ml[hl]=null,vi=ml[--hl],ml[hl]=null;for(;e===Xn;)Xn=Na[--Sa],Na[Sa]=null,Za=Na[--Sa],Na[Sa]=null,Ka=Na[--Sa],Na[Sa]=null}function Lm(e,t){Na[Sa++]=Ka,Na[Sa++]=Za,Na[Sa++]=Xn,Ka=t.id,Za=t.overflow,Xn=e}var Lt=null,it=null,Ye=!1,Qn=null,Ea=!1,Qo=Error(c(519));function Kn(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gi(ya(t,e)),Qo}function $m(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ot]=e,t[ut]=l,n){case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":case"embed":Ue("load",t);break;case"video":case"audio":for(n=0;n<Hi.length;n++)Ue(Hi[n],t);break;case"source":Ue("error",t);break;case"img":case"image":case"link":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"input":Ue("invalid",t),Ar(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ue("invalid",t);break;case"textarea":Ue("invalid",t),Or(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||ex(t.textContent,n)?(l.popover!=null&&(Ue("beforetoggle",t),Ue("toggle",t)),l.onScroll!=null&&Ue("scroll",t),l.onScrollEnd!=null&&Ue("scrollend",t),l.onClick!=null&&(t.onclick=$a),t=!0):t=!1,t||Kn(e,!0)}function Bm(e){for(Lt=e.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:Lt=Lt.return}}function pl(e){if(e!==Lt)return!1;if(!Ye)return Bm(e),Ye=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||dd(e.type,e.memoizedProps)),n=!n),n&&it&&Kn(e),Bm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));it=ox(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));it=ox(e)}else t===27?(t=it,cs(e.type)?(e=xd,xd=null,it=e):it=t):it=Lt?wa(e.stateNode.nextSibling):null;return!0}function zs(){it=Lt=null,Ye=!1}function Ko(){var e=Qn;return e!==null&&(la===null?la=e:la.push.apply(la,e),Qn=null),e}function gi(e){Qn===null?Qn=[e]:Qn.push(e)}var Zo=b(null),ks=null,hn=null;function Zn(e,t,n){I(Zo,t._currentValue),t._currentValue=n}function pn(e){e._currentValue=Zo.current,O(Zo)}function Jo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Io(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var v=o.child;u=u.firstContext;e:for(;u!==null;){var N=u;u=o;for(var k=0;k<t.length;k++)if(N.context===t[k]){u.lanes|=n,N=u.alternate,N!==null&&(N.lanes|=n),Jo(u.return,n,e),l||(v=null);break e}u=N.next}}else if(o.tag===18){if(v=o.return,v===null)throw Error(c(341));v.lanes|=n,u=v.alternate,u!==null&&(u.lanes|=n),Jo(v,n,e),v=null}else v=o.child;if(v!==null)v.return=o;else for(v=o;v!==null;){if(v===e){v=null;break}if(o=v.sibling,o!==null){o.return=v.return,v=o;break}v=v.return}o=v}}function xl(e,t,n,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var v=o.alternate;if(v===null)throw Error(c(387));if(v=v.memoizedProps,v!==null){var N=o.type;oa(o.pendingProps.value,v.value)||(e!==null?e.push(N):e=[N])}}else if(o===G.current){if(v=o.alternate,v===null)throw Error(c(387));v.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Fi):e=[Fi])}o=o.return}e!==null&&Io(t,e,n,l),t.flags|=262144}function Fr(e){for(e=e.firstContext;e!==null;){if(!oa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return Um(ks,e)}function Xr(e,t){return ks===null&&Ls(e),Um(e,t)}function Um(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},hn===null){if(e===null)throw Error(c(308));hn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hn=hn.next=t;return n}var Uj=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Hj=s.unstable_scheduleCallback,qj=s.unstable_NormalPriority,wt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new Uj,data:new Map,refCount:0}}function bi(e){e.refCount--,e.refCount===0&&Hj(qj,function(){e.controller.abort()})}var ji=null,Wo=0,vl=0,gl=null;function Gj(e,t){if(ji===null){var n=ji=[];Wo=0,vl=ad(),gl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Wo++,t.then(Hm,Hm),t}function Hm(){if(--Wo===0&&ji!==null){gl!==null&&(gl.status="fulfilled");var e=ji;ji=null,vl=0,gl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yj(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var qm=V.S;V.S=function(e,t){Ep=Re(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Gj(e,t),qm!==null&&qm(e,t)};var $s=b(null);function eu(){var e=$s.current;return e!==null?e:nt.pooledCache}function Qr(e,t){t===null?I($s,$s.current):I($s,t.pool)}function Gm(){var e=eu();return e===null?null:{parent:wt._currentValue,pool:e}}var bl=Error(c(460)),tu=Error(c(474)),Kr=Error(c(542)),Zr={then:function(){}};function Ym(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then($a,$a),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xm(e),e;default:if(typeof t.status=="string")t.then($a,$a);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xm(e),e}throw Us=t,bl}}function Bs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Us=n,bl):n}}var Us=null;function Fm(){if(Us===null)throw Error(c(459));var e=Us;return Us=null,e}function Xm(e){if(e===bl||e===Kr)throw Error(c(483))}var jl=null,yi=0;function Jr(e){var t=yi;return yi+=1,jl===null&&(jl=[]),Vm(jl,e,t)}function Ni(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ir(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qm(e){function t(Y,$){if(e){var Q=Y.deletions;Q===null?(Y.deletions=[$],Y.flags|=16):Q.push($)}}function n(Y,$){if(!e)return null;for(;$!==null;)t(Y,$),$=$.sibling;return null}function l(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function o(Y,$){return Y=fn(Y,$),Y.index=0,Y.sibling=null,Y}function u(Y,$,Q){return Y.index=Q,e?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<$?(Y.flags|=67108866,$):Q):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function v(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function N(Y,$,Q,le){return $===null||$.tag!==6?($=Yo(Q,Y.mode,le),$.return=Y,$):($=o($,Q),$.return=Y,$)}function k(Y,$,Q,le){var Ce=Q.type;return Ce===A?ae(Y,$,Q.props.children,le,Q.key):$!==null&&($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===B&&Bs(Ce)===$.type)?($=o($,Q.props),Ni($,Q),$.return=Y,$):($=Yr(Q.type,Q.key,Q.props,null,Y.mode,le),Ni($,Q),$.return=Y,$)}function K(Y,$,Q,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Vo(Q,Y.mode,le),$.return=Y,$):($=o($,Q.children||[]),$.return=Y,$)}function ae(Y,$,Q,le,Ce){return $===null||$.tag!==7?($=Ms(Q,Y.mode,le,Ce),$.return=Y,$):($=o($,Q),$.return=Y,$)}function ie(Y,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Yo(""+$,Y.mode,Q),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return Q=Yr($.type,$.key,$.props,null,Y.mode,Q),Ni(Q,$),Q.return=Y,Q;case C:return $=Vo($,Y.mode,Q),$.return=Y,$;case B:return $=Bs($),ie(Y,$,Q)}if(pe($)||P($))return $=Ms($,Y.mode,Q,null),$.return=Y,$;if(typeof $.then=="function")return ie(Y,Jr($),Q);if($.$$typeof===L)return ie(Y,Xr(Y,$),Q);Ir(Y,$)}return null}function Z(Y,$,Q,le){var Ce=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ce!==null?null:N(Y,$,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===Ce?k(Y,$,Q,le):null;case C:return Q.key===Ce?K(Y,$,Q,le):null;case B:return Q=Bs(Q),Z(Y,$,Q,le)}if(pe(Q)||P(Q))return Ce!==null?null:ae(Y,$,Q,le,null);if(typeof Q.then=="function")return Z(Y,$,Jr(Q),le);if(Q.$$typeof===L)return Z(Y,$,Xr(Y,Q),le);Ir(Y,Q)}return null}function W(Y,$,Q,le,Ce){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Y=Y.get(Q)||null,N($,Y,""+le,Ce);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return Y=Y.get(le.key===null?Q:le.key)||null,k($,Y,le,Ce);case C:return Y=Y.get(le.key===null?Q:le.key)||null,K($,Y,le,Ce);case B:return le=Bs(le),W(Y,$,Q,le,Ce)}if(pe(le)||P(le))return Y=Y.get(Q)||null,ae($,Y,le,Ce,null);if(typeof le.then=="function")return W(Y,$,Q,Jr(le),Ce);if(le.$$typeof===L)return W(Y,$,Q,Xr($,le),Ce);Ir($,le)}return null}function Ne(Y,$,Q,le){for(var Ce=null,Xe=null,Se=$,ke=$=0,qe=null;Se!==null&&ke<Q.length;ke++){Se.index>ke?(qe=Se,Se=null):qe=Se.sibling;var Qe=Z(Y,Se,Q[ke],le);if(Qe===null){Se===null&&(Se=qe);break}e&&Se&&Qe.alternate===null&&t(Y,Se),$=u(Qe,$,ke),Xe===null?Ce=Qe:Xe.sibling=Qe,Xe=Qe,Se=qe}if(ke===Q.length)return n(Y,Se),Ye&&mn(Y,ke),Ce;if(Se===null){for(;ke<Q.length;ke++)Se=ie(Y,Q[ke],le),Se!==null&&($=u(Se,$,ke),Xe===null?Ce=Se:Xe.sibling=Se,Xe=Se);return Ye&&mn(Y,ke),Ce}for(Se=l(Se);ke<Q.length;ke++)qe=W(Se,Y,ke,Q[ke],le),qe!==null&&(e&&qe.alternate!==null&&Se.delete(qe.key===null?ke:qe.key),$=u(qe,$,ke),Xe===null?Ce=qe:Xe.sibling=qe,Xe=qe);return e&&Se.forEach(function(ms){return t(Y,ms)}),Ye&&mn(Y,ke),Ce}function Te(Y,$,Q,le){if(Q==null)throw Error(c(151));for(var Ce=null,Xe=null,Se=$,ke=$=0,qe=null,Qe=Q.next();Se!==null&&!Qe.done;ke++,Qe=Q.next()){Se.index>ke?(qe=Se,Se=null):qe=Se.sibling;var ms=Z(Y,Se,Qe.value,le);if(ms===null){Se===null&&(Se=qe);break}e&&Se&&ms.alternate===null&&t(Y,Se),$=u(ms,$,ke),Xe===null?Ce=ms:Xe.sibling=ms,Xe=ms,Se=qe}if(Qe.done)return n(Y,Se),Ye&&mn(Y,ke),Ce;if(Se===null){for(;!Qe.done;ke++,Qe=Q.next())Qe=ie(Y,Qe.value,le),Qe!==null&&($=u(Qe,$,ke),Xe===null?Ce=Qe:Xe.sibling=Qe,Xe=Qe);return Ye&&mn(Y,ke),Ce}for(Se=l(Se);!Qe.done;ke++,Qe=Q.next())Qe=W(Se,Y,ke,Qe.value,le),Qe!==null&&(e&&Qe.alternate!==null&&Se.delete(Qe.key===null?ke:Qe.key),$=u(Qe,$,ke),Xe===null?Ce=Qe:Xe.sibling=Qe,Xe=Qe);return e&&Se.forEach(function(eN){return t(Y,eN)}),Ye&&mn(Y,ke),Ce}function tt(Y,$,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var Ce=Q.key;$!==null;){if($.key===Ce){if(Ce=Q.type,Ce===A){if($.tag===7){n(Y,$.sibling),le=o($,Q.props.children),le.return=Y,Y=le;break e}}else if($.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===B&&Bs(Ce)===$.type){n(Y,$.sibling),le=o($,Q.props),Ni(le,Q),le.return=Y,Y=le;break e}n(Y,$);break}else t(Y,$);$=$.sibling}Q.type===A?(le=Ms(Q.props.children,Y.mode,le,Q.key),le.return=Y,Y=le):(le=Yr(Q.type,Q.key,Q.props,null,Y.mode,le),Ni(le,Q),le.return=Y,Y=le)}return v(Y);case C:e:{for(Ce=Q.key;$!==null;){if($.key===Ce)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){n(Y,$.sibling),le=o($,Q.children||[]),le.return=Y,Y=le;break e}else{n(Y,$);break}else t(Y,$);$=$.sibling}le=Vo(Q,Y.mode,le),le.return=Y,Y=le}return v(Y);case B:return Q=Bs(Q),tt(Y,$,Q,le)}if(pe(Q))return Ne(Y,$,Q,le);if(P(Q)){if(Ce=P(Q),typeof Ce!="function")throw Error(c(150));return Q=Ce.call(Q),Te(Y,$,Q,le)}if(typeof Q.then=="function")return tt(Y,$,Jr(Q),le);if(Q.$$typeof===L)return tt(Y,$,Xr(Y,Q),le);Ir(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,$!==null&&$.tag===6?(n(Y,$.sibling),le=o($,Q),le.return=Y,Y=le):(n(Y,$),le=Yo(Q,Y.mode,le),le.return=Y,Y=le),v(Y)):n(Y,$)}return function(Y,$,Q,le){try{yi=0;var Ce=tt(Y,$,Q,le);return jl=null,Ce}catch(Se){if(Se===bl||Se===Kr)throw Se;var Xe=ua(29,Se,null,Y.mode);return Xe.lanes=le,Xe.return=Y,Xe}finally{}}}var Hs=Qm(!0),Km=Qm(!1),Jn=!1;function au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=Gr(e),Rm(e,null,n),t}return qr(e,l,t,n),Gr(e)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Ps(e,n)}}function su(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=v:u=u.next=v,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lu=!1;function Ei(){if(lu){var e=gl;if(e!==null)throw e}}function Ci(e,t,n,l){lu=!1;var o=e.updateQueue;Jn=!1;var u=o.firstBaseUpdate,v=o.lastBaseUpdate,N=o.shared.pending;if(N!==null){o.shared.pending=null;var k=N,K=k.next;k.next=null,v===null?u=K:v.next=K,v=k;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==v&&(N===null?ae.firstBaseUpdate=K:N.next=K,ae.lastBaseUpdate=k))}if(u!==null){var ie=o.baseState;v=0,ae=K=k=null,N=u;do{var Z=N.lane&-536870913,W=Z!==N.lane;if(W?(He&Z)===Z:(l&Z)===Z){Z!==0&&Z===vl&&(lu=!0),ae!==null&&(ae=ae.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=e,Te=N;Z=t;var tt=n;switch(Te.tag){case 1:if(Ne=Te.payload,typeof Ne=="function"){ie=Ne.call(tt,ie,Z);break e}ie=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Te.payload,Z=typeof Ne=="function"?Ne.call(tt,ie,Z):Ne,Z==null)break e;ie=y({},ie,Z);break e;case 2:Jn=!0}}Z=N.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=o.callbacks,W===null?o.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(K=ae=W,k=ie):ae=ae.next=W,v|=Z;if(N=N.next,N===null){if(N=o.shared.pending,N===null)break;W=N,N=W.next,W.next=null,o.lastBaseUpdate=W,o.shared.pending=null}}while(!0);ae===null&&(k=ie),o.baseState=k,o.firstBaseUpdate=K,o.lastBaseUpdate=ae,u===null&&(o.shared.lanes=0),ns|=v,e.lanes=v,e.memoizedState=ie}}function Zm(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Jm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Zm(n[e],t)}var yl=b(null),Pr=b(0);function Im(e,t){e=En,I(Pr,e),I(yl,t),En=e|t.baseLanes}function iu(){I(Pr,En),I(yl,yl.current)}function ru(){En=Pr.current,O(yl),O(Pr)}var da=b(null),Ca=null;function Wn(e){var t=e.alternate;I(Nt,Nt.current&1),I(da,e),Ca===null&&(t===null||yl.current!==null||t.memoizedState!==null)&&(Ca=e)}function cu(e){I(Nt,Nt.current),I(da,e),Ca===null&&(Ca=e)}function Pm(e){e.tag===22?(I(Nt,Nt.current),I(da,e),Ca===null&&(Ca=e)):es()}function es(){I(Nt,Nt.current),I(da,da.current)}function fa(e){O(da),Ca===e&&(Ca=null),O(Nt)}var Nt=b(0);function Wr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hd(n)||pd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xn=0,ze=null,We=null,Tt=null,ec=!1,Nl=!1,qs=!1,tc=0,wi=0,Sl=null,Vj=0;function bt(){throw Error(c(321))}function ou(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function uu(e,t,n,l,o,u){return xn=u,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?kh:Cu,qs=!1,u=n(l,o),qs=!1,Nl&&(u=eh(t,n,l,o)),Wm(e),u}function Wm(e){V.H=Ai;var t=We!==null&&We.next!==null;if(xn=0,Tt=We=ze=null,ec=!1,wi=0,Sl=null,t)throw Error(c(300));e===null||_t||(e=e.dependencies,e!==null&&Fr(e)&&(_t=!0))}function eh(e,t,n,l){ze=e;var o=0;do{if(Nl&&(Sl=null),wi=0,Nl=!1,25<=o)throw Error(c(301));if(o+=1,Tt=We=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}V.H=Lh,u=t(n,l)}while(Nl);return u}function Fj(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?Ti(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(ze.flags|=1024),t}function du(){var e=tc!==0;return tc=0,e}function fu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mu(e){if(ec){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ec=!1}xn=0,Tt=We=ze=null,Nl=!1,wi=tc=0,Sl=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ze.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function St(){if(We===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Tt===null?ze.memoizedState:Tt.next;if(t!==null)Tt=t,We=e;else{if(e===null)throw ze.alternate===null?Error(c(467)):Error(c(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Tt===null?ze.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(e){var t=wi;return wi+=1,Sl===null&&(Sl=[]),e=Vm(Sl,e,t),t=ze,(Tt===null?t.memoizedState:Tt.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?kh:Cu),e}function nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ti(e);if(e.$$typeof===L)return $t(e)}throw Error(c(438,String(e)))}function hu(e){var t=null,n=ze.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ac(),ze.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=q;return t.index++,n}function vn(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=St();return pu(t,We,e)}function pu(e,t,n){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=n;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var v=o.next;o.next=u.next,u.next=v}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var N=v=null,k=null,K=t,ae=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(He&ie)===ie:(xn&ie)===ie){var Z=K.revertLane;if(Z===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===vl&&(ae=!0);else if((xn&Z)===Z){K=K.next,Z===vl&&(ae=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(N=k=ie,v=u):k=k.next=ie,ze.lanes|=Z,ns|=Z;ie=K.action,qs&&n(u,ie),u=K.hasEagerState?K.eagerState:n(u,ie)}else Z={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(N=k=Z,v=u):k=k.next=Z,ze.lanes|=ie,ns|=ie;K=K.next}while(K!==null&&K!==t);if(k===null?v=u:k.next=N,!oa(u,e.memoizedState)&&(_t=!0,ae&&(n=gl,n!==null)))throw n;e.memoizedState=u,e.baseState=v,e.baseQueue=k,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xu(e){var t=St(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var v=o=o.next;do u=e(u,v.action),v=v.next;while(v!==o);oa(u,t.memoizedState)||(_t=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function th(e,t,n){var l=ze,o=St(),u=Ye;if(u){if(n===void 0)throw Error(c(407));n=n()}else n=t();var v=!oa((We||o).memoizedState,n);if(v&&(o.memoizedState=n,_t=!0),o=o.queue,bu(sh.bind(null,l,o,e),[e]),o.getSnapshot!==t||v||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,El(9,{destroy:void 0},nh.bind(null,l,o,n,t),null),nt===null)throw Error(c(349));u||(xn&127)!==0||ah(l,t,n)}return n}function ah(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t=ac(),ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nh(e,t,n,l){t.value=n,t.getSnapshot=l,lh(t)&&ih(e)}function sh(e,t,n){return n(function(){lh(t)&&ih(e)})}function lh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch{return!0}}function ih(e){var t=Ds(e,2);t!==null&&ia(t,e,2)}function vu(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),qs){qt(!0);try{n()}finally{qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function rh(e,t,n,l){return e.baseState=n,pu(e,We,typeof l=="function"?l:vn)}function Xj(e,t,n,l,o){if(rc(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){u.listeners.push(v)}};V.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,ch(t,u)):(u.next=n.next,t.pending=n.next=u)}}function ch(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=V.T,v={};V.T=v;try{var N=n(o,l),k=V.S;k!==null&&k(v,N),oh(e,t,N)}catch(K){gu(e,t,K)}finally{u!==null&&v.types!==null&&(u.types=v.types),V.T=u}}else try{u=n(o,l),oh(e,t,u)}catch(K){gu(e,t,K)}}function oh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){uh(e,t,l)},function(l){return gu(e,t,l)}):uh(e,t,n)}function uh(e,t,n){t.status="fulfilled",t.value=n,dh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ch(e,n)))}function gu(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,dh(t),t=t.next;while(t!==l)}e.action=null}function dh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fh(e,t){return t}function mh(e,t){if(Ye){var n=nt.formState;if(n!==null){e:{var l=ze;if(Ye){if(it){t:{for(var o=it,u=Ea;o.nodeType!==8;){if(!u){o=null;break t}if(o=wa(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){it=wa(o.nextSibling),l=o.data==="F!";break e}}Kn(l)}l=!1}l&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:t},n.queue=l,n=Dh.bind(null,ze,l),l.dispatch=n,l=vu(!1),u=Eu.bind(null,ze,!1,l.queue),l=Wt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=Xj.bind(null,ze,o,u,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function hh(e){var t=St();return ph(t,We,e)}function ph(e,t,n){if(t=pu(e,t,fh)[0],e=sc(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ti(t)}catch(v){throw v===bl?Kr:v}else l=t;t=St();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ze.flags|=2048,El(9,{destroy:void 0},Qj.bind(null,o,n),null)),[l,u,e]}function Qj(e,t){e.action=t}function xh(e){var t=St(),n=We;if(n!==null)return ph(t,n,e);St(),t=t.memoizedState,n=St();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function El(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ze.updateQueue,t===null&&(t=ac(),ze.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function vh(){return St().memoizedState}function lc(e,t,n,l){var o=Wt();ze.flags|=e,o.memoizedState=El(1|t,{destroy:void 0},n,l===void 0?null:l)}function ic(e,t,n,l){var o=St();l=l===void 0?null:l;var u=o.memoizedState.inst;We!==null&&l!==null&&ou(l,We.memoizedState.deps)?o.memoizedState=El(t,u,n,l):(ze.flags|=e,o.memoizedState=El(1|t,u,n,l))}function gh(e,t){lc(8390656,8,e,t)}function bu(e,t){ic(2048,8,e,t)}function Kj(e){ze.flags|=4;var t=ze.updateQueue;if(t===null)t=ac(),ze.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function bh(e){var t=St().memoizedState;return Kj({ref:t,nextImpl:e}),function(){if((Ze&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function jh(e,t){return ic(4,2,e,t)}function yh(e,t){return ic(4,4,e,t)}function Nh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sh(e,t,n){n=n!=null?n.concat([e]):null,ic(4,4,Nh.bind(null,t,e),n)}function ju(){}function Eh(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&ou(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Ch(e,t){var n=St();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&ou(t,l[1]))return l[0];if(l=e(),qs){qt(!0);try{e()}finally{qt(!1)}}return n.memoizedState=[l,t],l}function yu(e,t,n){return n===void 0||(xn&1073741824)!==0&&(He&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=wp(),ze.lanes|=e,ns|=e,n)}function wh(e,t,n,l){return oa(n,t)?n:yl.current!==null?(e=yu(e,n,l),oa(e,t)||(_t=!0),e):(xn&42)===0||(xn&1073741824)!==0&&(He&261930)===0?(_t=!0,e.memoizedState=n):(e=wp(),ze.lanes|=e,ns|=e,t)}function Th(e,t,n,l,o){var u=ne.p;ne.p=u!==0&&8>u?u:8;var v=V.T,N={};V.T=N,Eu(e,!1,t,n);try{var k=o(),K=V.S;if(K!==null&&K(N,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ae=Yj(k,l);_i(e,t,ae,pa(e))}else _i(e,t,l,pa(e))}catch(ie){_i(e,t,{then:function(){},status:"rejected",reason:ie},pa())}finally{ne.p=u,v!==null&&N.types!==null&&(v.types=N.types),V.T=v}}function Zj(){}function Nu(e,t,n,l){if(e.tag!==5)throw Error(c(476));var o=_h(e).queue;Th(e,o,t,ce,n===null?Zj:function(){return Ah(e),n(l)})}function _h(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:ce},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ah(e){var t=_h(e);t.next===null&&(t=e.alternate.memoizedState),_i(e,t.next.queue,{},pa())}function Su(){return $t(Fi)}function Oh(){return St().memoizedState}function Rh(){return St().memoizedState}function Jj(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=pa();e=In(n);var l=Pn(t,e,n);l!==null&&(ia(l,t,n),Si(l,t,n)),t={cache:Po()},e.payload=t;return}t=t.return}}function Ij(e,t,n){var l=pa();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},rc(e)?Mh(t,n):(n=qo(e,t,n,l),n!==null&&(ia(n,e,l),zh(n,t,l)))}function Dh(e,t,n){var l=pa();_i(e,t,n,l)}function _i(e,t,n,l){var o={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(rc(e))Mh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var v=t.lastRenderedState,N=u(v,n);if(o.hasEagerState=!0,o.eagerState=N,oa(N,v))return qr(e,t,o,0),nt===null&&Hr(),!1}catch{}finally{}if(n=qo(e,t,o,l),n!==null)return ia(n,e,l),zh(n,t,l),!0}return!1}function Eu(e,t,n,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(t)throw Error(c(479))}else t=qo(e,n,l,2),t!==null&&ia(t,e,2)}function rc(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Mh(e,t){Nl=ec=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Ps(e,n)}}var Ai={readContext:$t,use:nc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Ai.useEffectEvent=bt;var kh={readContext:$t,use:nc,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:gh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,lc(4194308,4,Nh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lc(4194308,4,e,t)},useInsertionEffect:function(e,t){lc(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var l=e();if(qs){qt(!0);try{e()}finally{qt(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Wt();if(n!==void 0){var o=n(t);if(qs){qt(!0);try{n(t)}finally{qt(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Ij.bind(null,ze,e),[l.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=vu(e);var t=e.queue,n=Dh.bind(null,ze,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ju,useDeferredValue:function(e,t){var n=Wt();return yu(n,e,t)},useTransition:function(){var e=vu(!1);return e=Th.bind(null,ze,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ze,o=Wt();if(Ye){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),nt===null)throw Error(c(349));(He&127)!==0||ah(l,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,gh(sh.bind(null,l,u,e),[e]),l.flags|=2048,El(9,{destroy:void 0},nh.bind(null,l,u,n,t),null),n},useId:function(){var e=Wt(),t=nt.identifierPrefix;if(Ye){var n=Za,l=Ka;n=(l&~(1<<32-Rt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=tc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Vj++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Su,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Eu.bind(null,ze,!0,n),n.dispatch=t,[e,t]},useMemoCache:hu,useCacheRefresh:function(){return Wt().memoizedState=Jj.bind(null,ze)},useEffectEvent:function(e){var t=Wt(),n={impl:e};return t.memoizedState=n,function(){if((Ze&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},Cu={readContext:$t,use:nc,useCallback:Eh,useContext:$t,useEffect:bu,useImperativeHandle:Sh,useInsertionEffect:jh,useLayoutEffect:yh,useMemo:Ch,useReducer:sc,useRef:vh,useState:function(){return sc(vn)},useDebugValue:ju,useDeferredValue:function(e,t){var n=St();return wh(n,We.memoizedState,e,t)},useTransition:function(){var e=sc(vn)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:th,useId:Oh,useHostTransitionStatus:Su,useFormState:hh,useActionState:hh,useOptimistic:function(e,t){var n=St();return rh(n,We,e,t)},useMemoCache:hu,useCacheRefresh:Rh};Cu.useEffectEvent=bh;var Lh={readContext:$t,use:nc,useCallback:Eh,useContext:$t,useEffect:bu,useImperativeHandle:Sh,useInsertionEffect:jh,useLayoutEffect:yh,useMemo:Ch,useReducer:xu,useRef:vh,useState:function(){return xu(vn)},useDebugValue:ju,useDeferredValue:function(e,t){var n=St();return We===null?yu(n,e,t):wh(n,We.memoizedState,e,t)},useTransition:function(){var e=xu(vn)[0],t=St().memoizedState;return[typeof e=="boolean"?e:Ti(e),t]},useSyncExternalStore:th,useId:Oh,useHostTransitionStatus:Su,useFormState:xh,useActionState:xh,useOptimistic:function(e,t){var n=St();return We!==null?rh(n,We,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hu,useCacheRefresh:Rh};Lh.useEffectEvent=bh;function wu(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tu={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=pa(),o=In(l);o.payload=t,n!=null&&(o.callback=n),t=Pn(e,o,l),t!==null&&(ia(t,e,l),Si(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=pa(),o=In(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pn(e,o,l),t!==null&&(ia(t,e,l),Si(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pa(),l=In(n);l.tag=2,t!=null&&(l.callback=t),t=Pn(e,l,n),t!==null&&(ia(t,e,n),Si(t,e,n))}};function $h(e,t,n,l,o,u,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,v):t.prototype&&t.prototype.isPureReactComponent?!pi(n,l)||!pi(o,u):!0}function Bh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function Gs(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Uh(e){Ur(e)}function Hh(e){console.error(e)}function qh(e){Ur(e)}function cc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Gh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function _u(e,t,n){return n=In(n),n.tag=3,n.payload={element:null},n.callback=function(){cc(e,t)},n}function Yh(e){return e=In(e),e.tag=3,e}function Vh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Gh(t,n,l)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Gh(t,n,l),typeof o!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Pj(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&xl(t,n,o,!0),n=da.current,n!==null){switch(n.tag){case 31:case 13:return Ca===null?jc():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===Zr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Wu(e,l,o)),!1;case 22:return n.flags|=65536,l===Zr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Wu(e,l,o)),!1}throw Error(c(435,n.tag))}return Wu(e,l,o),jc(),!1}if(Ye)return t=da.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Qo&&(e=Error(c(422),{cause:l}),gi(ya(e,n)))):(l!==Qo&&(t=Error(c(423),{cause:l}),gi(ya(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=ya(l,n),o=_u(e.stateNode,l,o),su(e,o),jt!==4&&(jt=2)),!1;var u=Error(c(520),{cause:l});if(u=ya(u,n),$i===null?$i=[u]:$i.push(u),jt!==4&&(jt=2),t===null)return!0;l=ya(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=_u(n.stateNode,l,e),su(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ss===null||!ss.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Yh(o),Vh(o,e,n,l),su(n,o),!1}n=n.return}while(n!==null);return!1}var Au=Error(c(461)),_t=!1;function Bt(e,t,n,l){t.child=e===null?Km(t,null,n,l):Hs(t,e.child,n,l)}function Fh(e,t,n,l,o){n=n.render;var u=t.ref;if("ref"in l){var v={};for(var N in l)N!=="ref"&&(v[N]=l[N])}else v=l;return Ls(t),l=uu(e,t,n,v,u,o),N=du(),e!==null&&!_t?(fu(e,t,o),gn(e,t,o)):(Ye&&N&&Fo(t),t.flags|=1,Bt(e,t,l,o),t.child)}function Xh(e,t,n,l,o){if(e===null){var u=n.type;return typeof u=="function"&&!Go(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Qh(e,t,u,l,o)):(e=Yr(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!$u(e,o)){var v=u.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(v,l)&&e.ref===t.ref)return gn(e,t,o)}return t.flags|=1,e=fn(u,l),e.ref=t.ref,e.return=t,t.child=e}function Qh(e,t,n,l,o){if(e!==null){var u=e.memoizedProps;if(pi(u,l)&&e.ref===t.ref)if(_t=!1,t.pendingProps=l=u,$u(e,o))(e.flags&131072)!==0&&(_t=!0);else return t.lanes=e.lanes,gn(e,t,o)}return Ou(e,t,n,l,o)}function Kh(e,t,n,l){var o=l.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~u}else l=0,t.child=null;return Zh(e,t,u,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qr(t,u!==null?u.cachePool:null),u!==null?Im(t,u):iu(),Pm(t);else return l=t.lanes=536870912,Zh(e,t,u!==null?u.baseLanes|n:n,n,l)}else u!==null?(Qr(t,u.cachePool),Im(t,u),es(),t.memoizedState=null):(e!==null&&Qr(t,null),iu(),es());return Bt(e,t,o,n),t.child}function Oi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zh(e,t,n,l,o){var u=eu();return u=u===null?null:{parent:wt._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Qr(t,null),iu(),Pm(t),e!==null&&xl(e,t,l,!0),t.childLanes=o,null}function oc(e,t){return t=dc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jh(e,t,n){return Hs(t,e.child,null,n),e=oc(t,t.pendingProps),e.flags|=2,fa(t),t.memoizedState=null,e}function Wj(e,t,n){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ye){if(l.mode==="hidden")return e=oc(t,l),t.lanes=536870912,Oi(null,e);if(cu(t),(e=it)?(e=cx(e,Ea),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:Ka,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},n=Mm(e),n.return=t,t.child=n,Lt=t,it=null)):e=null,e===null)throw Kn(t);return t.lanes=536870912,null}return oc(t,l)}var u=e.memoizedState;if(u!==null){var v=u.dehydrated;if(cu(t),o)if(t.flags&256)t.flags&=-257,t=Jh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(_t||xl(e,t,n,!1),o=(n&e.childLanes)!==0,_t||o){if(l=nt,l!==null&&(v=Hn(l,n),v!==0&&v!==u.retryLane))throw u.retryLane=v,Ds(e,v),ia(l,e,v),Au;jc(),t=Jh(e,t,n)}else e=u.treeContext,it=wa(v.nextSibling),Lt=t,Ye=!0,Qn=null,Ea=!1,e!==null&&Lm(t,e),t=oc(t,l),t.flags|=4096;return t}return e=fn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function uc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ou(e,t,n,l,o){return Ls(t),n=uu(e,t,n,l,void 0,o),l=du(),e!==null&&!_t?(fu(e,t,o),gn(e,t,o)):(Ye&&l&&Fo(t),t.flags|=1,Bt(e,t,n,o),t.child)}function Ih(e,t,n,l,o,u){return Ls(t),t.updateQueue=null,n=eh(t,l,n,o),Wm(e),l=du(),e!==null&&!_t?(fu(e,t,u),gn(e,t,u)):(Ye&&l&&Fo(t),t.flags|=1,Bt(e,t,n,u),t.child)}function Ph(e,t,n,l,o){if(Ls(t),t.stateNode===null){var u=fl,v=n.contextType;typeof v=="object"&&v!==null&&(u=$t(v)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Tu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},au(t),v=n.contextType,u.context=typeof v=="object"&&v!==null?$t(v):fl,u.state=t.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(wu(t,n,v,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(v=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),v!==u.state&&Tu.enqueueReplaceState(u,u.state,null),Ci(t,l,u,o),Ei(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var N=t.memoizedProps,k=Gs(n,N);u.props=k;var K=u.context,ae=n.contextType;v=fl,typeof ae=="object"&&ae!==null&&(v=$t(ae));var ie=n.getDerivedStateFromProps;ae=typeof ie=="function"||typeof u.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,ae||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(N||K!==v)&&Bh(t,u,l,v),Jn=!1;var Z=t.memoizedState;u.state=Z,Ci(t,l,u,o),Ei(),K=t.memoizedState,N||Z!==K||Jn?(typeof ie=="function"&&(wu(t,n,ie,l),K=t.memoizedState),(k=Jn||$h(t,n,k,l,Z,K,v))?(ae||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=K),u.props=l,u.state=K,u.context=v,l=k):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,nu(e,t),v=t.memoizedProps,ae=Gs(n,v),u.props=ae,ie=t.pendingProps,Z=u.context,K=n.contextType,k=fl,typeof K=="object"&&K!==null&&(k=$t(K)),N=n.getDerivedStateFromProps,(K=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v!==ie||Z!==k)&&Bh(t,u,l,k),Jn=!1,Z=t.memoizedState,u.state=Z,Ci(t,l,u,o),Ei();var W=t.memoizedState;v!==ie||Z!==W||Jn||e!==null&&e.dependencies!==null&&Fr(e.dependencies)?(typeof N=="function"&&(wu(t,n,N,l),W=t.memoizedState),(ae=Jn||$h(t,n,ae,l,Z,W,k)||e!==null&&e.dependencies!==null&&Fr(e.dependencies))?(K||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,W,k),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,W,k)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=W),u.props=l,u.state=W,u.context=k,l=ae):(typeof u.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,uc(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=Hs(t,e.child,null,o),t.child=Hs(t,null,n,o)):Bt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=gn(e,t,o),e}function Wh(e,t,n,l){return zs(),t.flags|=256,Bt(e,t,n,l),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Du(e){return{baseLanes:e,cachePool:Gm()}}function Mu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=ha),e}function ep(e,t,n){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,v;if((v=u)||(v=e!==null&&e.memoizedState===null?!1:(Nt.current&2)!==0),v&&(o=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ye){if(o?Wn(t):es(),(e=it)?(e=cx(e,Ea),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:Ka,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},n=Mm(e),n.return=t,t.child=n,Lt=t,it=null)):e=null,e===null)throw Kn(t);return pd(e)?t.lanes=32:t.lanes=536870912,null}var N=l.children;return l=l.fallback,o?(es(),o=t.mode,N=dc({mode:"hidden",children:N},o),l=Ms(l,o,n,null),N.return=t,l.return=t,N.sibling=l,t.child=N,l=t.child,l.memoizedState=Du(n),l.childLanes=Mu(e,v,n),t.memoizedState=Ru,Oi(null,l)):(Wn(t),zu(t,N))}var k=e.memoizedState;if(k!==null&&(N=k.dehydrated,N!==null)){if(u)t.flags&256?(Wn(t),t.flags&=-257,t=ku(e,t,n)):t.memoizedState!==null?(es(),t.child=e.child,t.flags|=128,t=null):(es(),N=l.fallback,o=t.mode,l=dc({mode:"visible",children:l.children},o),N=Ms(N,o,n,null),N.flags|=2,l.return=t,N.return=t,l.sibling=N,t.child=l,Hs(t,e.child,null,n),l=t.child,l.memoizedState=Du(n),l.childLanes=Mu(e,v,n),t.memoizedState=Ru,t=Oi(null,l));else if(Wn(t),pd(N)){if(v=N.nextSibling&&N.nextSibling.dataset,v)var K=v.dgst;v=K,l=Error(c(419)),l.stack="",l.digest=v,gi({value:l,source:null,stack:null}),t=ku(e,t,n)}else if(_t||xl(e,t,n,!1),v=(n&e.childLanes)!==0,_t||v){if(v=nt,v!==null&&(l=Hn(v,n),l!==0&&l!==k.retryLane))throw k.retryLane=l,Ds(e,l),ia(v,e,l),Au;hd(N)||jc(),t=ku(e,t,n)}else hd(N)?(t.flags|=192,t.child=e.child,t=null):(e=k.treeContext,it=wa(N.nextSibling),Lt=t,Ye=!0,Qn=null,Ea=!1,e!==null&&Lm(t,e),t=zu(t,l.children),t.flags|=4096);return t}return o?(es(),N=l.fallback,o=t.mode,k=e.child,K=k.sibling,l=fn(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,K!==null?N=fn(K,N):(N=Ms(N,o,n,null),N.flags|=2),N.return=t,l.return=t,l.sibling=N,t.child=l,Oi(null,l),l=t.child,N=e.child.memoizedState,N===null?N=Du(n):(o=N.cachePool,o!==null?(k=wt._currentValue,o=o.parent!==k?{parent:k,pool:k}:o):o=Gm(),N={baseLanes:N.baseLanes|n,cachePool:o}),l.memoizedState=N,l.childLanes=Mu(e,v,n),t.memoizedState=Ru,Oi(e.child,l)):(Wn(t),n=e.child,e=n.sibling,n=fn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=n,t.memoizedState=null,n)}function zu(e,t){return t=dc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dc(e,t){return e=ua(22,e,null,t),e.lanes=0,e}function ku(e,t,n){return Hs(t,e.child,null,n),e=zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tp(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Jo(e.return,t,n)}function Lu(e,t,n,l,o,u){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o,treeForkCount:u}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=n,v.tailMode=o,v.treeForkCount=u)}function ap(e,t,n){var l=t.pendingProps,o=l.revealOrder,u=l.tail;l=l.children;var v=Nt.current,N=(v&2)!==0;if(N?(v=v&1|2,t.flags|=128):v&=1,I(Nt,v),Bt(e,t,l,n),l=Ye?vi:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tp(e,n,t);else if(e.tag===19)tp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Wr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Lu(t,!1,o,n,u,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Wr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Lu(t,!0,n,null,u,l);break;case"together":Lu(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ns|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(xl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $u(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fr(e)))}function ey(e,t,n){switch(t.tag){case 3:re(t,t.stateNode.containerInfo),Zn(t,wt,e.memoizedState.cache),zs();break;case 27:case 5:_e(t);break;case 4:re(t,t.stateNode.containerInfo);break;case 10:Zn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,cu(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Wn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ep(e,t,n):(Wn(t),e=gn(e,t,n),e!==null?e.sibling:null);Wn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(xl(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return ap(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Nt,Nt.current),l)break;return null;case 22:return t.lanes=0,Kh(e,t,n,t.pendingProps);case 24:Zn(t,wt,e.memoizedState.cache)}return gn(e,t,n)}function np(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)_t=!0;else{if(!$u(e,n)&&(t.flags&128)===0)return _t=!1,ey(e,t,n);_t=(e.flags&131072)!==0}else _t=!1,Ye&&(t.flags&1048576)!==0&&km(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Bs(t.elementType),t.type=e,typeof e=="function")Go(e)?(l=Gs(e,l),t.tag=1,t=Ph(null,t,e,l,n)):(t.tag=0,t=Ou(null,t,e,l,n));else{if(e!=null){var o=e.$$typeof;if(o===_){t.tag=11,t=Fh(null,t,e,l,n);break e}else if(o===z){t.tag=14,t=Xh(null,t,e,l,n);break e}}throw t=de(e)||e,Error(c(306,t,""))}}return t;case 0:return Ou(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=Gs(l,t.pendingProps),Ph(e,t,l,o,n);case 3:e:{if(re(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,nu(e,t),Ci(t,l,null,n);var v=t.memoizedState;if(l=v.cache,Zn(t,wt,l),l!==u.cache&&Io(t,[wt],n,!0),Ei(),l=v.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Wh(e,t,l,n);break e}else if(l!==o){o=ya(Error(c(424)),t),gi(o),t=Wh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=wa(e.firstChild),Lt=t,Ye=!0,Qn=null,Ea=!0,n=Km(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(zs(),l===o){t=gn(e,t,n);break e}Bt(e,t,l,n)}t=t.child}return t;case 26:return uc(e,t),e===null?(n=hx(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ye||(n=t.type,e=t.pendingProps,l=Tc(je.current).createElement(n),l[ot]=t,l[ut]=e,Ut(l,n,e),Ct(l),t.stateNode=l):t.memoizedState=hx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&Ye&&(l=t.stateNode=dx(t.type,t.pendingProps,je.current),Lt=t,Ea=!0,o=it,cs(t.type)?(xd=o,it=wa(l.firstChild)):it=o),Bt(e,t,t.pendingProps.children,n),uc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ye&&((o=l=it)&&(l=Oy(l,t.type,t.pendingProps,Ea),l!==null?(t.stateNode=l,Lt=t,it=wa(l.firstChild),Ea=!1,o=!0):o=!1),o||Kn(t)),_e(t),o=t.type,u=t.pendingProps,v=e!==null?e.memoizedProps:null,l=u.children,dd(o,u)?l=null:v!==null&&dd(o,v)&&(t.flags|=32),t.memoizedState!==null&&(o=uu(e,t,Fj,null,null,n),Fi._currentValue=o),uc(e,t),Bt(e,t,l,n),t.child;case 6:return e===null&&Ye&&((e=n=it)&&(n=Ry(n,t.pendingProps,Ea),n!==null?(t.stateNode=n,Lt=t,it=null,e=!0):e=!1),e||Kn(t)),null;case 13:return ep(e,t,n);case 4:return re(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Hs(t,null,l,n):Bt(e,t,l,n),t.child;case 11:return Fh(e,t,t.type,t.pendingProps,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Zn(t,t.type,l.value),Bt(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,Ls(t),o=$t(o),l=l(o),t.flags|=1,Bt(e,t,l,n),t.child;case 14:return Xh(e,t,t.type,t.pendingProps,n);case 15:return Qh(e,t,t.type,t.pendingProps,n);case 19:return ap(e,t,n);case 31:return Wj(e,t,n);case 22:return Kh(e,t,n,t.pendingProps);case 24:return Ls(t),l=$t(wt),e===null?(o=eu(),o===null&&(o=nt,u=Po(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:l,cache:o},au(t),Zn(t,wt,o)):((e.lanes&n)!==0&&(nu(e,t),Ci(t,null,null,n),Ei()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Zn(t,wt,l)):(l=u.cache,Zn(t,wt,l),l!==o.cache&&Io(t,[wt],n,!0))),Bt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function bn(e){e.flags|=4}function Bu(e,t,n,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Op())e.flags|=8192;else throw Us=Zr,tu}else e.flags&=-16777217}function sp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bx(t))if(Op())e.flags|=8192;else throw Us=Zr,tu}function fc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?mt():536870912,e.lanes|=t,_l|=t)}function Ri(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function ty(e,t,n){var l=t.pendingProps;switch(Xo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return rt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),pn(wt),me(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pl(t)?bn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ko())),rt(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(bn(t),u!==null?(rt(t),sp(t,u)):(rt(t),Bu(t,o,null,l,n))):u?u!==e.memoizedState?(bn(t),rt(t),sp(t,u)):(rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&bn(t),rt(t),Bu(t,o,e,l,n)),null;case 27:if(De(t),n=je.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&bn(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return rt(t),null}e=ee.current,pl(t)?$m(t):(e=dx(o,l,n),t.stateNode=e,bn(t))}return rt(t),null;case 5:if(De(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&bn(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return rt(t),null}if(u=ee.current,pl(t))$m(t);else{var v=Tc(je.current);switch(u){case 1:u=v.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=v.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=v.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=v.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?v.createElement(o,{is:l.is}):v.createElement(o)}}u[ot]=t,u[ut]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=u;e:switch(Ut(u,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bn(t)}}return rt(t),Bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&bn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=je.current,pl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=Lt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||ex(e.nodeValue,n)),e||Kn(t,!0)}else e=Tc(e).createTextNode(l),e[ot]=t,t.stateNode=e}return rt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=pl(t),n!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[ot]=t}else zs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),e=!1}else n=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(fa(t),t):(fa(t),null);if((t.flags&128)!==0)throw Error(c(558))}return rt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=pl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[ot]=t}else zs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),o=!1}else o=Ko(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(fa(t),t):(fa(t),null)}return fa(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fc(t,t.updateQueue),rt(t),null);case 4:return me(),e===null&&id(t.stateNode.containerInfo),rt(t),null;case 10:return pn(t.type),rt(t),null;case 19:if(O(Nt),l=t.memoizedState,l===null)return rt(t),null;if(o=(t.flags&128)!==0,u=l.rendering,u===null)if(o)Ri(l,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Wr(e),u!==null){for(t.flags|=128,Ri(l,!1),e=u.updateQueue,t.updateQueue=e,fc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Dm(n,e),n=n.sibling;return I(Nt,Nt.current&1|2),Ye&&mn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Re()>vc&&(t.flags|=128,o=!0,Ri(l,!1),t.lanes=4194304)}else{if(!o)if(e=Wr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,fc(t,e),Ri(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Ye)return rt(t),null}else 2*Re()-l.renderingStartTime>vc&&n!==536870912&&(t.flags|=128,o=!0,Ri(l,!1),t.lanes=4194304);l.isBackwards?(u.sibling=t.child,t.child=u):(e=l.last,e!==null?e.sibling=u:t.child=u,l.last=u)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Re(),e.sibling=null,n=Nt.current,I(Nt,o?n&1|2:n&1),Ye&&mn(t,l.treeForkCount),e):(rt(t),null);case 22:case 23:return fa(t),ru(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),n=t.updateQueue,n!==null&&fc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&O($s),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(wt),rt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function ay(e,t){switch(Xo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(wt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return De(t),null;case 31:if(t.memoizedState!==null){if(fa(t),t.alternate===null)throw Error(c(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return O(Nt),null;case 4:return me(),null;case 10:return pn(t.type),null;case 22:case 23:return fa(t),ru(),e!==null&&O($s),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(wt),null;case 25:return null;default:return null}}function lp(e,t){switch(Xo(t),t.tag){case 3:pn(wt),me();break;case 26:case 27:case 5:De(t);break;case 4:me();break;case 31:t.memoizedState!==null&&fa(t);break;case 13:fa(t);break;case 19:O(Nt);break;case 10:pn(t.type);break;case 22:case 23:fa(t),ru(),e!==null&&O($s);break;case 24:pn(wt)}}function Di(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var u=n.create,v=n.inst;l=u(),v.destroy=l}n=n.next}while(n!==o)}}catch(N){Pe(t,t.return,N)}}function ts(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var v=l.inst,N=v.destroy;if(N!==void 0){v.destroy=void 0,o=t;var k=n,K=N;try{K()}catch(ae){Pe(o,k,ae)}}}l=l.next}while(l!==u)}}catch(ae){Pe(t,t.return,ae)}}function ip(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Jm(t,n)}catch(l){Pe(e,e.return,l)}}}function rp(e,t,n){n.props=Gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Pe(e,t,l)}}function Mi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){Pe(e,t,o)}}function Ja(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){Pe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Pe(e,t,o)}else n.current=null}function cp(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){Pe(e,e.return,o)}}function Uu(e,t,n){try{var l=e.stateNode;Ey(l,e.type,n,t),l[ut]=t}catch(o){Pe(e,e.return,o)}}function op(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cs(e.type)||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||op(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$a));else if(l!==4&&(l===27&&cs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,n),e=e.sibling;e!==null;)qu(e,t,n),e=e.sibling}function mc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&cs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(mc(e,t,n),e=e.sibling;e!==null;)mc(e,t,n),e=e.sibling}function up(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ut(t,l,n),t[ot]=e,t[ut]=n}catch(u){Pe(e,e.return,u)}}var jn=!1,At=!1,Gu=!1,dp=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function ny(e,t){if(e=e.containerInfo,od=zc,e=Sm(e),ko(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var v=0,N=-1,k=-1,K=0,ae=0,ie=e,Z=null;t:for(;;){for(var W;ie!==n||o!==0&&ie.nodeType!==3||(N=v+o),ie!==u||l!==0&&ie.nodeType!==3||(k=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Z=ie,ie=W;for(;;){if(ie===e)break t;if(Z===n&&++K===o&&(N=v),Z===u&&++ae===l&&(k=v),(W=ie.nextSibling)!==null)break;ie=Z,Z=ie.parentNode}ie=W}n=N===-1||k===-1?null:{start:N,end:k}}else n=null}n=n||{start:0,end:0}}else n=null;for(ud={focusedElem:e,selectionRange:n},zc=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var Ne=Gs(n.type,o);e=l.getSnapshotBeforeUpdate(Ne,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(Te){Pe(n,n.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)md(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function fp(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(e,n),l&4&&Di(5,n);break;case 1:if(Nn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(v){Pe(n,n.return,v)}else{var o=Gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Pe(n,n.return,v)}}l&64&&ip(n),l&512&&Mi(n,n.return);break;case 3:if(Nn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Jm(e,t)}catch(v){Pe(n,n.return,v)}}break;case 27:t===null&&l&4&&up(n);case 26:case 5:Nn(e,n),t===null&&l&4&&cp(n),l&512&&Mi(n,n.return);break;case 12:Nn(e,n);break;case 31:Nn(e,n),l&4&&pp(e,n);break;case 13:Nn(e,n),l&4&&xp(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fy.bind(null,n),Dy(e,n))));break;case 22:if(l=n.memoizedState!==null||jn,!l){t=t!==null&&t.memoizedState!==null||At,o=jn;var u=At;jn=l,(At=t)&&!u?Sn(e,n,(n.subtreeFlags&8772)!==0):Nn(e,n),jn=o,At=u}break;case 30:break;default:Nn(e,n)}}function mp(e){var t=e.alternate;t!==null&&(e.alternate=null,mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var dt=null,aa=!1;function yn(e,t,n){for(n=n.child;n!==null;)hp(e,t,n),n=n.sibling}function hp(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ln,n)}catch{}switch(n.tag){case 26:At||Ja(n,t),yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:At||Ja(n,t);var l=dt,o=aa;cs(n.type)&&(dt=n.stateNode,aa=!1),yn(e,t,n),Gi(n.stateNode),dt=l,aa=o;break;case 5:At||Ja(n,t);case 6:if(l=dt,o=aa,dt=null,yn(e,t,n),dt=l,aa=o,dt!==null)if(aa)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(n.stateNode)}catch(u){Pe(n,t,u)}else try{dt.removeChild(n.stateNode)}catch(u){Pe(n,t,u)}break;case 18:dt!==null&&(aa?(e=dt,ix(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ll(e)):ix(dt,n.stateNode));break;case 4:l=dt,o=aa,dt=n.stateNode.containerInfo,aa=!0,yn(e,t,n),dt=l,aa=o;break;case 0:case 11:case 14:case 15:ts(2,n,t),At||ts(4,n,t),yn(e,t,n);break;case 1:At||(Ja(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&rp(n,t,l)),yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:At=(l=At)||n.memoizedState!==null,yn(e,t,n),At=l;break;default:yn(e,t,n)}}function pp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ll(e)}catch(n){Pe(t,t.return,n)}}}function xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ll(e)}catch(n){Pe(t,t.return,n)}}function sy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dp),t;default:throw Error(c(435,e.tag))}}function hc(e,t){var n=sy(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var o=my.bind(null,e,l);l.then(o,o)}})}function na(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],u=e,v=t,N=v;e:for(;N!==null;){switch(N.tag){case 27:if(cs(N.type)){dt=N.stateNode,aa=!1;break e}break;case 5:dt=N.stateNode,aa=!1;break e;case 3:case 4:dt=N.stateNode.containerInfo,aa=!0;break e}N=N.return}if(dt===null)throw Error(c(160));hp(u,v,o),dt=null,aa=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vp(t,e),t=t.sibling}var Ua=null;function vp(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:na(t,e),sa(e),l&4&&(ts(3,e,e.return),Di(3,e),ts(5,e,e.return));break;case 1:na(t,e),sa(e),l&512&&(At||n===null||Ja(n,n.return)),l&64&&jn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=Ua;if(na(t,e),sa(e),l&512&&(At||n===null||Ja(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[La]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),Ut(u,l,n),u[ot]=e,Ct(u),l=u;break e;case"link":var v=vx("link","href",o).get(l+(n.href||""));if(v){for(var N=0;N<v.length;N++)if(u=v[N],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(N,1);break t}}u=o.createElement(l),Ut(u,l,n),o.head.appendChild(u);break;case"meta":if(v=vx("meta","content",o).get(l+(n.content||""))){for(N=0;N<v.length;N++)if(u=v[N],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(N,1);break t}}u=o.createElement(l),Ut(u,l,n),o.head.appendChild(u);break;default:throw Error(c(468,l))}u[ot]=e,Ct(u),l=u}e.stateNode=l}else gx(o,e.type,e.stateNode);else e.stateNode=xx(o,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?gx(o,e.type,e.stateNode):xx(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Uu(e,e.memoizedProps,n.memoizedProps)}break;case 27:na(t,e),sa(e),l&512&&(At||n===null||Ja(n,n.return)),n!==null&&l&4&&Uu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(na(t,e),sa(e),l&512&&(At||n===null||Ja(n,n.return)),e.flags&32){o=e.stateNode;try{Vn(o,"")}catch(Ne){Pe(e,e.return,Ne)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Uu(e,o,n!==null?n.memoizedProps:o)),l&1024&&(Gu=!0);break;case 6:if(na(t,e),sa(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Ne){Pe(e,e.return,Ne)}}break;case 3:if(Oc=null,o=Ua,Ua=_c(t.containerInfo),na(t,e),Ua=o,sa(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(Ne){Pe(e,e.return,Ne)}Gu&&(Gu=!1,gp(e));break;case 4:l=Ua,Ua=_c(e.stateNode.containerInfo),na(t,e),sa(e),Ua=l;break;case 12:na(t,e),sa(e);break;case 31:na(t,e),sa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hc(e,l)));break;case 13:na(t,e),sa(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xc=Re()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hc(e,l)));break;case 22:o=e.memoizedState!==null;var k=n!==null&&n.memoizedState!==null,K=jn,ae=At;if(jn=K||o,At=ae||k,na(t,e),At=ae,jn=K,sa(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||k||jn||At||Ys(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){k=n=t;try{if(u=k.stateNode,o)v=u.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{N=k.stateNode;var ie=k.memoizedProps.style,Z=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ne){Pe(k,k.return,Ne)}}}else if(t.tag===6){if(n===null){k=t;try{k.stateNode.nodeValue=o?"":k.memoizedProps}catch(Ne){Pe(k,k.return,Ne)}}}else if(t.tag===18){if(n===null){k=t;try{var W=k.stateNode;o?rx(W,!0):rx(k.stateNode,!1)}catch(Ne){Pe(k,k.return,Ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,hc(e,n))));break;case 19:na(t,e),sa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hc(e,l)));break;case 30:break;case 21:break;default:na(t,e),sa(e)}}function sa(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(op(l)){n=l;break}l=l.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var o=n.stateNode,u=Hu(e);mc(e,u,o);break;case 5:var v=n.stateNode;n.flags&32&&(Vn(v,""),n.flags&=-33);var N=Hu(e);mc(e,N,v);break;case 3:case 4:var k=n.stateNode.containerInfo,K=Hu(e);qu(e,K,k);break;default:throw Error(c(161))}}catch(ae){Pe(e,e.return,ae)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fp(e,t.alternate,t),t=t.sibling}function Ys(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ts(4,t,t.return),Ys(t);break;case 1:Ja(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rp(t,t.return,n),Ys(t);break;case 27:Gi(t.stateNode);case 26:case 5:Ja(t,t.return),Ys(t);break;case 22:t.memoizedState===null&&Ys(t);break;case 30:Ys(t);break;default:Ys(t)}e=e.sibling}}function Sn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,v=u.flags;switch(u.tag){case 0:case 11:case 15:Sn(o,u,n),Di(4,u);break;case 1:if(Sn(o,u,n),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(K){Pe(l,l.return,K)}if(l=u,o=l.updateQueue,o!==null){var N=l.stateNode;try{var k=o.shared.hiddenCallbacks;if(k!==null)for(o.shared.hiddenCallbacks=null,o=0;o<k.length;o++)Zm(k[o],N)}catch(K){Pe(l,l.return,K)}}n&&v&64&&ip(u),Mi(u,u.return);break;case 27:up(u);case 26:case 5:Sn(o,u,n),n&&l===null&&v&4&&cp(u),Mi(u,u.return);break;case 12:Sn(o,u,n);break;case 31:Sn(o,u,n),n&&v&4&&pp(o,u);break;case 13:Sn(o,u,n),n&&v&4&&xp(o,u);break;case 22:u.memoizedState===null&&Sn(o,u,n),Mi(u,u.return);break;case 30:break;default:Sn(o,u,n)}t=t.sibling}}function Yu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&bi(n))}function Vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bi(e))}function Ha(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bp(e,t,n,l),t=t.sibling}function bp(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ha(e,t,n,l),o&2048&&Di(9,t);break;case 1:Ha(e,t,n,l);break;case 3:Ha(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bi(e)));break;case 12:if(o&2048){Ha(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,v=u.id,N=u.onPostCommit;typeof N=="function"&&N(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Pe(t,t.return,k)}}else Ha(e,t,n,l);break;case 31:Ha(e,t,n,l);break;case 13:Ha(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,v=t.alternate,t.memoizedState!==null?u._visibility&2?Ha(e,t,n,l):zi(e,t):u._visibility&2?Ha(e,t,n,l):(u._visibility|=2,Cl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Yu(v,t);break;case 24:Ha(e,t,n,l),o&2048&&Vu(t.alternate,t);break;default:Ha(e,t,n,l)}}function Cl(e,t,n,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,v=t,N=n,k=l,K=v.flags;switch(v.tag){case 0:case 11:case 15:Cl(u,v,N,k,o),Di(8,v);break;case 23:break;case 22:var ae=v.stateNode;v.memoizedState!==null?ae._visibility&2?Cl(u,v,N,k,o):zi(u,v):(ae._visibility|=2,Cl(u,v,N,k,o)),o&&K&2048&&Yu(v.alternate,v);break;case 24:Cl(u,v,N,k,o),o&&K&2048&&Vu(v.alternate,v);break;default:Cl(u,v,N,k,o)}t=t.sibling}}function zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:zi(n,l),o&2048&&Yu(l.alternate,l);break;case 24:zi(n,l),o&2048&&Vu(l.alternate,l);break;default:zi(n,l)}t=t.sibling}}var ki=8192;function wl(e,t,n){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)jp(e,t,n),e=e.sibling}function jp(e,t,n){switch(e.tag){case 26:wl(e,t,n),e.flags&ki&&e.memoizedState!==null&&Vy(n,Ua,e.memoizedState,e.memoizedProps);break;case 5:wl(e,t,n);break;case 3:case 4:var l=Ua;Ua=_c(e.stateNode.containerInfo),wl(e,t,n),Ua=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=ki,ki=16777216,wl(e,t,n),ki=l):wl(e,t,n));break;default:wl(e,t,n)}}function yp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Mt=l,Sp(l,e)}yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Np(e),e=e.sibling}function Np(e){switch(e.tag){case 0:case 11:case 15:Li(e),e.flags&2048&&ts(9,e,e.return);break;case 3:Li(e);break;case 12:Li(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pc(e)):Li(e);break;default:Li(e)}}function pc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Mt=l,Sp(l,e)}yp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ts(8,t,t.return),pc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,pc(t));break;default:pc(t)}e=e.sibling}}function Sp(e,t){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:ts(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Mt=l;else e:for(n=e;Mt!==null;){l=Mt;var o=l.sibling,u=l.return;if(mp(l),l===n){Mt=null;break e}if(o!==null){o.return=u,Mt=o;break e}Mt=u}}}var ly={getCacheForType:function(e){var t=$t(wt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return $t(wt).controller.signal}},iy=typeof WeakMap=="function"?WeakMap:Map,Ze=0,nt=null,Be=null,He=0,Ie=0,ma=null,as=!1,Tl=!1,Fu=!1,En=0,jt=0,ns=0,Vs=0,Xu=0,ha=0,_l=0,$i=null,la=null,Qu=!1,xc=0,Ep=0,vc=1/0,gc=null,ss=null,Ot=0,ls=null,Al=null,Cn=0,Ku=0,Zu=null,Cp=null,Bi=0,Ju=null;function pa(){return(Ze&2)!==0&&He!==0?He&-He:V.T!==null?ad():ni()}function wp(){if(ha===0)if((He&536870912)===0||Ye){var e=$n;$n<<=1,($n&3932160)===0&&($n=262144),ha=e}else ha=536870912;return e=da.current,e!==null&&(e.flags|=32),ha}function ia(e,t,n){(e===nt&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)&&(Ol(e,0),is(e,He,ha,!1)),Es(e,n),((Ze&2)===0||e!==nt)&&(e===nt&&((Ze&2)===0&&(Vs|=n),jt===4&&is(e,He,ha,!1)),Ia(e))}function Tp(e,t,n){if((Ze&6)!==0)throw Error(c(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||za(e,t),o=l?oy(e,t):Pu(e,t,!0),u=l;do{if(o===0){Tl&&!l&&is(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!ry(n)){o=Pu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var N=e;o=$i;var k=N.current.memoizedState.isDehydrated;if(k&&(Ol(N,v).flags|=256),v=Pu(N,v,!1),v!==2){if(Fu&&!k){N.errorRecoveryDisabledLanes|=u,Vs|=u,o=4;break e}u=la,la=o,u!==null&&(la===null?la=u:la.push.apply(la,u))}o=v}if(u=!1,o!==2)continue}}if(o===1){Ol(e,0),is(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:is(l,t,ha,!as);break e;case 2:la=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(o=xc+300-Re(),10<o)){if(is(l,t,ha,!as),Ma(l,0,!0)!==0)break e;Cn=t,l.timeoutHandle=sx(_p.bind(null,l,n,la,gc,Qu,t,ha,Vs,_l,as,u,"Throttled",-0,0),o);break e}_p(l,n,la,gc,Qu,t,ha,Vs,_l,as,u,null,-0,0)}}break}while(!0);Ia(e)}function _p(e,t,n,l,o,u,v,N,k,K,ae,ie,Z,W){if(e.timeoutHandle=-1,ie=t.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$a},jp(t,u,ie);var Ne=(u&62914560)===u?xc-Re():(u&4194048)===u?Ep-Re():0;if(Ne=Fy(ie,Ne),Ne!==null){Cn=u,e.cancelPendingCommit=Ne(Lp.bind(null,e,t,u,n,l,o,v,N,k,ae,ie,null,Z,W)),is(e,u,v,!K);return}}Lp(e,t,u,n,l,o,v,N,k)}function ry(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],u=o.getSnapshot;o=o.value;try{if(!oa(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,n,l){t&=~Xu,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-Rt(o),v=1<<u;l[u]=-1,o&=~v}n!==0&&Is(e,n,t)}function bc(){return(Ze&6)===0?(Ui(0),!1):!0}function Iu(){if(Be!==null){if(Ie===0)var e=Be.return;else e=Be,hn=ks=null,mu(e),jl=null,yi=0,e=Be;for(;e!==null;)lp(e.alternate,e),e=e.return;Be=null}}function Ol(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Ty(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cn=0,Iu(),nt=e,Be=n=fn(e.current,null),He=t,Ie=0,ma=null,as=!1,Tl=za(e,t),Fu=!1,_l=ha=Xu=Vs=ns=jt=0,la=$i=null,Qu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Rt(l),u=1<<o;t|=e[o],l&=~u}return En=t,Hr(),n}function Ap(e,t){ze=null,V.H=Ai,t===bl||t===Kr?(t=Fm(),Ie=3):t===tu?(t=Fm(),Ie=4):Ie=t===Au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ma=t,Be===null&&(jt=1,cc(e,ya(t,e.current)))}function Op(){var e=da.current;return e===null?!0:(He&4194048)===He?Ca===null:(He&62914560)===He||(He&536870912)!==0?e===Ca:!1}function Rp(){var e=V.H;return V.H=Ai,e===null?Ai:e}function Dp(){var e=V.A;return V.A=ly,e}function jc(){jt=4,as||(He&4194048)!==He&&da.current!==null||(Tl=!0),(ns&134217727)===0&&(Vs&134217727)===0||nt===null||is(nt,He,ha,!1)}function Pu(e,t,n){var l=Ze;Ze|=2;var o=Rp(),u=Dp();(nt!==e||He!==t)&&(gc=null,Ol(e,t)),t=!1;var v=jt;e:do try{if(Ie!==0&&Be!==null){var N=Be,k=ma;switch(Ie){case 8:Iu(),v=6;break e;case 3:case 2:case 9:case 6:da.current===null&&(t=!0);var K=Ie;if(Ie=0,ma=null,Rl(e,N,k,K),n&&Tl){v=0;break e}break;default:K=Ie,Ie=0,ma=null,Rl(e,N,k,K)}}cy(),v=jt;break}catch(ae){Ap(e,ae)}while(!0);return t&&e.shellSuspendCounter++,hn=ks=null,Ze=l,V.H=o,V.A=u,Be===null&&(nt=null,He=0,Hr()),v}function cy(){for(;Be!==null;)Mp(Be)}function oy(e,t){var n=Ze;Ze|=2;var l=Rp(),o=Dp();nt!==e||He!==t?(gc=null,vc=Re()+500,Ol(e,t)):Tl=za(e,t);e:do try{if(Ie!==0&&Be!==null){t=Be;var u=ma;t:switch(Ie){case 1:Ie=0,ma=null,Rl(e,t,u,1);break;case 2:case 9:if(Ym(u)){Ie=0,ma=null,zp(t);break}t=function(){Ie!==2&&Ie!==9||nt!==e||(Ie=7),Ia(e)},u.then(t,t);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Ym(u)?(Ie=0,ma=null,zp(t)):(Ie=0,ma=null,Rl(e,t,u,7));break;case 5:var v=null;switch(Be.tag){case 26:v=Be.memoizedState;case 5:case 27:var N=Be;if(v?bx(v):N.stateNode.complete){Ie=0,ma=null;var k=N.sibling;if(k!==null)Be=k;else{var K=N.return;K!==null?(Be=K,yc(K)):Be=null}break t}}Ie=0,ma=null,Rl(e,t,u,5);break;case 6:Ie=0,ma=null,Rl(e,t,u,6);break;case 8:Iu(),jt=6;break e;default:throw Error(c(462))}}uy();break}catch(ae){Ap(e,ae)}while(!0);return hn=ks=null,V.H=l,V.A=o,Ze=n,Be!==null?0:(nt=null,He=0,Hr(),jt)}function uy(){for(;Be!==null&&!we();)Mp(Be)}function Mp(e){var t=np(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?yc(e):Be=t}function zp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ih(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Ih(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:mu(t);default:lp(n,t),t=Be=Dm(t,En),t=np(n,t,En)}e.memoizedProps=e.pendingProps,t===null?yc(e):Be=t}function Rl(e,t,n,l){hn=ks=null,mu(t),jl=null,yi=0;var o=t.return;try{if(Pj(e,o,t,n,He)){jt=1,cc(e,ya(n,e.current)),Be=null;return}}catch(u){if(o!==null)throw Be=o,u;jt=1,cc(e,ya(n,e.current)),Be=null;return}t.flags&32768?(Ye||l===1?e=!0:Tl||(He&536870912)!==0?e=!1:(as=e=!0,(l===2||l===9||l===3||l===6)&&(l=da.current,l!==null&&l.tag===13&&(l.flags|=16384))),kp(t,e)):yc(t)}function yc(e){var t=e;do{if((t.flags&32768)!==0){kp(t,as);return}e=t.return;var n=ty(t.alternate,t,En);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);jt===0&&(jt=5)}function kp(e,t){do{var n=ay(e.alternate,e);if(n!==null){n.flags&=32767,Be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Be=e;return}Be=e=n}while(e!==null);jt=6,Be=null}function Lp(e,t,n,l,o,u,v,N,k){e.cancelPendingCommit=null;do Nc();while(Ot!==0);if((Ze&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=Ho,No(e,n,u,v,N,k),e===nt&&(Be=nt=null,He=0),Al=t,ls=e,Cn=n,Ku=u,Zu=o,Cp=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hy(ga,function(){return qp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,o=ne.p,ne.p=2,v=Ze,Ze|=4;try{ny(e,t,n)}finally{Ze=v,ne.p=o,V.T=l}}Ot=1,$p(),Bp(),Up()}}function $p(){if(Ot===1){Ot=0;var e=ls,t=Al,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=V.T,V.T=null;var l=ne.p;ne.p=2;var o=Ze;Ze|=4;try{vp(t,e);var u=ud,v=Sm(e.containerInfo),N=u.focusedElem,k=u.selectionRange;if(v!==N&&N&&N.ownerDocument&&Nm(N.ownerDocument.documentElement,N)){if(k!==null&&ko(N)){var K=k.start,ae=k.end;if(ae===void 0&&(ae=K),"selectionStart"in N)N.selectionStart=K,N.selectionEnd=Math.min(ae,N.value.length);else{var ie=N.ownerDocument||document,Z=ie&&ie.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),Ne=N.textContent.length,Te=Math.min(k.start,Ne),tt=k.end===void 0?Te:Math.min(k.end,Ne);!W.extend&&Te>tt&&(v=tt,tt=Te,Te=v);var Y=ym(N,Te),$=ym(N,tt);if(Y&&$&&(W.rangeCount!==1||W.anchorNode!==Y.node||W.anchorOffset!==Y.offset||W.focusNode!==$.node||W.focusOffset!==$.offset)){var Q=ie.createRange();Q.setStart(Y.node,Y.offset),W.removeAllRanges(),Te>tt?(W.addRange(Q),W.extend($.node,$.offset)):(Q.setEnd($.node,$.offset),W.addRange(Q))}}}}for(ie=[],W=N;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ie.length;N++){var le=ie[N];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}zc=!!od,ud=od=null}finally{Ze=o,ne.p=l,V.T=n}}e.current=t,Ot=2}}function Bp(){if(Ot===2){Ot=0;var e=ls,t=Al,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=V.T,V.T=null;var l=ne.p;ne.p=2;var o=Ze;Ze|=4;try{fp(e,t.alternate,t)}finally{Ze=o,ne.p=l,V.T=n}}Ot=3}}function Up(){if(Ot===4||Ot===3){Ot=0,yt();var e=ls,t=Al,n=Cn,l=Cp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ot=5:(Ot=0,Al=ls=null,Hp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ss=null),Ws(n),t=t.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ln,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=V.T,o=ne.p,ne.p=2,V.T=null;try{for(var u=e.onRecoverableError,v=0;v<l.length;v++){var N=l[v];u(N.value,{componentStack:N.stack})}}finally{V.T=t,ne.p=o}}(Cn&3)!==0&&Nc(),Ia(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Ju?Bi++:(Bi=0,Ju=e):Bi=0,Ui(0)}}function Hp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bi(t)))}function Nc(){return $p(),Bp(),Up(),qp()}function qp(){if(Ot!==5)return!1;var e=ls,t=Ku;Ku=0;var n=Ws(Cn),l=V.T,o=ne.p;try{ne.p=32>n?32:n,V.T=null,n=Zu,Zu=null;var u=ls,v=Cn;if(Ot=0,Al=ls=null,Cn=0,(Ze&6)!==0)throw Error(c(331));var N=Ze;if(Ze|=4,Np(u.current),bp(u,u.current,v,n),Ze=N,Ui(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ln,u)}catch{}return!0}finally{ne.p=o,V.T=l,Hp(e,t)}}function Gp(e,t,n){t=ya(n,t),t=_u(e.stateNode,t,2),e=Pn(e,t,2),e!==null&&(Es(e,2),Ia(e))}function Pe(e,t,n){if(e.tag===3)Gp(e,e,n);else for(;t!==null;){if(t.tag===3){Gp(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ss===null||!ss.has(l))){e=ya(n,e),n=Yh(2),l=Pn(t,n,2),l!==null&&(Vh(n,l,t,e),Es(l,2),Ia(l));break}}t=t.return}}function Wu(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new iy;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(Fu=!0,o.add(n),e=dy.bind(null,e,t,n),t.then(e,e))}function dy(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nt===e&&(He&n)===n&&(jt===4||jt===3&&(He&62914560)===He&&300>Re()-xc?(Ze&2)===0&&Ol(e,0):Xu|=n,_l===He&&(_l=0)),Ia(e)}function Yp(e,t){t===0&&(t=mt()),e=Ds(e,t),e!==null&&(Es(e,t),Ia(e))}function fy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yp(e,n)}function my(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),Yp(e,n)}function hy(e,t){return se(e,t)}var Sc=null,Dl=null,ed=!1,Ec=!1,td=!1,rs=0;function Ia(e){e!==Dl&&e.next===null&&(Dl===null?Sc=Dl=e:Dl=Dl.next=e),Ec=!0,ed||(ed=!0,xy())}function Ui(e,t){if(!td&&Ec){td=!0;do for(var n=!1,l=Sc;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var v=l.suspendedLanes,N=l.pingedLanes;u=(1<<31-Rt(42|e)+1)-1,u&=o&~(v&~N),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Qp(l,u))}else u=He,u=Ma(l,l===nt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||za(l,u)||(n=!0,Qp(l,u));l=l.next}while(n);td=!1}}function py(){Vp()}function Vp(){Ec=ed=!1;var e=0;rs!==0&&wy()&&(e=rs);for(var t=Re(),n=null,l=Sc;l!==null;){var o=l.next,u=Fp(l,t);u===0?(l.next=null,n===null?Sc=o:n.next=o,o===null&&(Dl=n)):(n=l,(e!==0||(u&3)!==0)&&(Ec=!0)),l=o}Ot!==0&&Ot!==5||Ui(e),rs!==0&&(rs=0)}function Fp(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var v=31-Rt(u),N=1<<v,k=o[v];k===-1?((N&n)===0||(N&l)!==0)&&(o[v]=Un(N,t)):k<=t&&(e.expiredLanes|=N),u&=~N}if(t=nt,n=He,n=Ma(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Ie===2||Ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&xe(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||za(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&xe(l),Ws(n)){case 2:case 8:n=at;break;case 32:n=ga;break;case 268435456:n=Js;break;default:n=ga}return l=Xp.bind(null,e),n=se(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&xe(l),e.callbackPriority=2,e.callbackNode=null,2}function Xp(e,t){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var l=He;return l=Ma(e,e===nt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tp(e,l,t),Fp(e,Re()),e.callbackNode!=null&&e.callbackNode===n?Xp.bind(null,e):null)}function Qp(e,t){if(Nc())return null;Tp(e,t,!0)}function xy(){_y(function(){(Ze&6)!==0?se(Oe,py):Vp()})}function ad(){if(rs===0){var e=vl;e===0&&(e=Da,Da<<=1,(Da&261888)===0&&(Da=256)),rs=e}return rs}function Kp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_s(""+e)}function Zp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vy(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var u=Kp((o[ut]||null).action),v=l.submitter;v&&(t=(t=v[ut]||null)?Kp(t.formAction):v.getAttribute("formAction"),t!==null&&(u=t,v=null));var N=new Lr("action","action",null,l,o);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rs!==0){var k=v?Zp(o,v):new FormData(o);Nu(n,{pending:!0,data:k,method:o.method,action:u},null,k)}}else typeof u=="function"&&(N.preventDefault(),k=v?Zp(o,v):new FormData(o),Nu(n,{pending:!0,data:k,method:o.method,action:u},u,k))},currentTarget:o}]})}}for(var nd=0;nd<Uo.length;nd++){var sd=Uo[nd],gy=sd.toLowerCase(),by=sd[0].toUpperCase()+sd.slice(1);Ba(gy,"on"+by)}Ba(wm,"onAnimationEnd"),Ba(Tm,"onAnimationIteration"),Ba(_m,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(kj,"onTransitionRun"),Ba(Lj,"onTransitionStart"),Ba($j,"onTransitionCancel"),Ba(Am,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hi));function Jp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var v=l.length-1;0<=v;v--){var N=l[v],k=N.instance,K=N.currentTarget;if(N=N.listener,k!==u&&o.isPropagationStopped())break e;u=N,o.currentTarget=K;try{u(o)}catch(ae){Ur(ae)}o.currentTarget=null,u=k}else for(v=0;v<l.length;v++){if(N=l[v],k=N.instance,K=N.currentTarget,N=N.listener,k!==u&&o.isPropagationStopped())break e;u=N,o.currentTarget=K;try{u(o)}catch(ae){Ur(ae)}o.currentTarget=null,u=k}}}}function Ue(e,t){var n=t[rn];n===void 0&&(n=t[rn]=new Set);var l=e+"__bubble";n.has(l)||(Ip(t,e,2,!1),n.add(l))}function ld(e,t,n){var l=0;t&&(l|=4),Ip(n,e,l,t)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[Cc]){e[Cc]=!0,Cr.forEach(function(n){n!=="selectionchange"&&(jy.has(n)||ld(n,!1,e),ld(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cc]||(t[Cc]=!0,ld("selectionchange",!1,t))}}function Ip(e,t,n,l){switch(wx(t)){case 2:var o=Ky;break;case 8:o=Zy;break;default:o=yd}n=o.bind(null,t,n,e),o=void 0,!wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function rd(e,t,n,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var N=l.stateNode.containerInfo;if(N===o)break;if(v===4)for(v=l.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===o)return;v=v.return}for(;N!==null;){if(v=qn(N),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){l=u=v;continue e}N=N.parentNode}}l=l.return}lt(function(){var K=u,ae=ue(n),ie=[];e:{var Z=Om.get(e);if(Z!==void 0){var W=Lr,Ne=e;switch(e){case"keypress":if(zr(n)===0)break e;case"keydown":case"keyup":W=mj;break;case"focusin":Ne="focus",W=Oo;break;case"focusout":Ne="blur",W=Oo;break;case"beforeblur":case"afterblur":W=Oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=tj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=xj;break;case wm:case Tm:case _m:W=sj;break;case Am:W=gj;break;case"scroll":case"scrollend":W=Wb;break;case"wheel":W=jj;break;case"copy":case"cut":case"paste":W=ij;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=rm;break;case"toggle":case"beforetoggle":W=Nj}var Te=(t&4)!==0,tt=!Te&&(e==="scroll"||e==="scrollend"),Y=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var $=K,Q;$!==null;){var le=$;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||Y===null||(le=gt($,Y),le!=null&&Te.push(qi($,le,Q))),tt)break;$=$.return}0<Te.length&&(Z=new W(Z,Ne,null,n,ae),ie.push({event:Z,listeners:Te}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&n!==R&&(Ne=n.relatedTarget||n.fromElement)&&(qn(Ne)||Ne[Gt]))break e;if((W||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(Ne=n.relatedTarget||n.toElement,W=K,Ne=Ne?qn(Ne):null,Ne!==null&&(tt=f(Ne),Te=Ne.tag,Ne!==tt||Te!==5&&Te!==27&&Te!==6)&&(Ne=null)):(W=null,Ne=K),W!==Ne)){if(Te=lm,le="onMouseLeave",Y="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(Te=rm,le="onPointerLeave",Y="onPointerEnter",$="pointer"),tt=W==null?Z:Cs(W),Q=Ne==null?Z:Cs(Ne),Z=new Te(le,$+"leave",W,n,ae),Z.target=tt,Z.relatedTarget=Q,le=null,qn(ae)===K&&(Te=new Te(Y,$+"enter",Ne,n,ae),Te.target=Q,Te.relatedTarget=tt,le=Te),tt=le,W&&Ne)t:{for(Te=yy,Y=W,$=Ne,Q=0,le=Y;le;le=Te(le))Q++;le=0;for(var Ce=$;Ce;Ce=Te(Ce))le++;for(;0<Q-le;)Y=Te(Y),Q--;for(;0<le-Q;)$=Te($),le--;for(;Q--;){if(Y===$||$!==null&&Y===$.alternate){Te=Y;break t}Y=Te(Y),$=Te($)}Te=null}else Te=null;W!==null&&Pp(ie,Z,W,Te,!1),Ne!==null&&tt!==null&&Pp(ie,tt,Ne,Te,!0)}}e:{if(Z=K?Cs(K):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var Xe=pm;else if(mm(Z))if(xm)Xe=Dj;else{Xe=Oj;var Se=Aj}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&rl(K.elementType)&&(Xe=pm):Xe=Rj;if(Xe&&(Xe=Xe(e,K))){hm(ie,Xe,n,ae);break e}Se&&Se(e,Z,K),e==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&il(Z,"number",Z.value)}switch(Se=K?Cs(K):window,e){case"focusin":(mm(Se)||Se.contentEditable==="true")&&(ol=Se,Lo=K,xi=null);break;case"focusout":xi=Lo=ol=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Em(ie,n,ae);break;case"selectionchange":if(zj)break;case"keydown":case"keyup":Em(ie,n,ae)}var ke;if(Do)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else cl?dm(e,n)&&(qe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(qe="onCompositionStart");qe&&(cm&&n.locale!=="ko"&&(cl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&cl&&(ke=nm()):(Fn=ae,To="value"in Fn?Fn.value:Fn.textContent,cl=!0)),Se=wc(K,qe),0<Se.length&&(qe=new im(qe,e,null,n,ae),ie.push({event:qe,listeners:Se}),ke?qe.data=ke:(ke=fm(n),ke!==null&&(qe.data=ke)))),(ke=Ej?Cj(e,n):wj(e,n))&&(qe=wc(K,"onBeforeInput"),0<qe.length&&(Se=new im("onBeforeInput","beforeinput",null,n,ae),ie.push({event:Se,listeners:qe}),Se.data=ke)),vy(ie,e,K,n,ae)}Jp(ie,t)})}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wc(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=gt(e,n),o!=null&&l.unshift(qi(e,o,u)),o=gt(e,t),o!=null&&l.push(qi(e,o,u))),e.tag===3)return l;e=e.return}return[]}function yy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pp(e,t,n,l,o){for(var u=t._reactName,v=[];n!==null&&n!==l;){var N=n,k=N.alternate,K=N.stateNode;if(N=N.tag,k!==null&&k===l)break;N!==5&&N!==26&&N!==27||K===null||(k=K,o?(K=gt(n,u),K!=null&&v.unshift(qi(n,K,k))):o||(K=gt(n,u),K!=null&&v.push(qi(n,K,k)))),n=n.return}v.length!==0&&e.push({event:t,listeners:v})}var Ny=/\r\n?/g,Sy=/\u0000|\uFFFD/g;function Wp(e){return(typeof e=="string"?e:""+e).replace(Ny,`
`).replace(Sy,"")}function ex(e,t){return t=Wp(t),Wp(e)===t}function et(e,t,n,l,o,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Vn(e,""+l);break;case"className":al(e,"class",l);break;case"tabIndex":al(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":al(e,n,l);break;case"style":ci(e,l,u);break;case"data":if(t!=="object"){al(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=_s(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&et(e,t,"name",o.name,o,null),et(e,t,"formEncType",o.formEncType,o,null),et(e,t,"formMethod",o.formMethod,o,null),et(e,t,"formTarget",o.formTarget,o,null)):(et(e,t,"encType",o.encType,o,null),et(e,t,"method",o.method,o,null),et(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=_s(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=$a);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=_s(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ue("beforetoggle",e),Ue("toggle",e),Ts(e,"popover",l);break;case"xlinkActuate":ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ba(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ba(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ba(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ba(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ts(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Rr.get(n)||n,Ts(e,n,l))}}function cd(e,t,n,l,o,u){switch(n){case"style":ci(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&Ue("scroll",e);break;case"onScrollEnd":l!=null&&Ue("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[ut]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):Ts(e,n,l)}}}function Ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",e),Ue("load",e);var l=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var v=n[u];if(v!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:et(e,t,u,v,n,null)}}o&&et(e,t,"srcSet",n.srcSet,n,null),l&&et(e,t,"src",n.src,n,null);return;case"input":Ue("invalid",e);var N=u=v=o=null,k=null,K=null;for(l in n)if(n.hasOwnProperty(l)){var ae=n[l];if(ae!=null)switch(l){case"name":o=ae;break;case"type":v=ae;break;case"checked":k=ae;break;case"defaultChecked":K=ae;break;case"value":u=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(c(137,t));break;default:et(e,t,l,ae,n,null)}}Ar(e,u,N,k,K,v,o,!1);return;case"select":Ue("invalid",e),l=v=u=null;for(o in n)if(n.hasOwnProperty(o)&&(N=n[o],N!=null))switch(o){case"value":u=N;break;case"defaultValue":v=N;break;case"multiple":l=N;default:et(e,t,o,N,n,null)}t=u,n=v,e.multiple=!!l,t!=null?Yn(e,!!l,t,!1):n!=null&&Yn(e,!!l,n,!0);return;case"textarea":Ue("invalid",e),u=o=l=null;for(v in n)if(n.hasOwnProperty(v)&&(N=n[v],N!=null))switch(v){case"value":l=N;break;case"defaultValue":o=N;break;case"children":u=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(c(91));break;default:et(e,t,v,N,n,null)}Or(e,l,o,u);return;case"option":for(k in n)if(n.hasOwnProperty(k)&&(l=n[k],l!=null))switch(k){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(e,t,k,l,n,null)}return;case"dialog":Ue("beforetoggle",e),Ue("toggle",e),Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":Ue("load",e);break;case"video":case"audio":for(l=0;l<Hi.length;l++)Ue(Hi[l],e);break;case"image":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"embed":case"source":case"link":Ue("error",e),Ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in n)if(n.hasOwnProperty(K)&&(l=n[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:et(e,t,K,l,n,null)}return;default:if(rl(t)){for(ae in n)n.hasOwnProperty(ae)&&(l=n[ae],l!==void 0&&cd(e,t,ae,l,n,void 0));return}}for(N in n)n.hasOwnProperty(N)&&(l=n[N],l!=null&&et(e,t,N,l,n,null))}function Ey(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,v=null,N=null,k=null,K=null,ae=null;for(W in n){var ie=n[W];if(n.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=ie;default:l.hasOwnProperty(W)||et(e,t,W,null,l,ie)}}for(var Z in l){var W=l[Z];if(ie=n[Z],l.hasOwnProperty(Z)&&(W!=null||ie!=null))switch(Z){case"type":u=W;break;case"name":o=W;break;case"checked":K=W;break;case"defaultChecked":ae=W;break;case"value":v=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(c(137,t));break;default:W!==ie&&et(e,t,Z,W,l,ie)}}ii(e,v,N,k,K,ae,u,o);return;case"select":W=v=N=Z=null;for(u in n)if(k=n[u],n.hasOwnProperty(u)&&k!=null)switch(u){case"value":break;case"multiple":W=k;default:l.hasOwnProperty(u)||et(e,t,u,null,l,k)}for(o in l)if(u=l[o],k=n[o],l.hasOwnProperty(o)&&(u!=null||k!=null))switch(o){case"value":Z=u;break;case"defaultValue":N=u;break;case"multiple":v=u;default:u!==k&&et(e,t,o,u,l,k)}t=N,n=v,l=W,Z!=null?Yn(e,!!n,Z,!1):!!l!=!!n&&(t!=null?Yn(e,!!n,t,!0):Yn(e,!!n,n?[]:"",!1));return;case"textarea":W=Z=null;for(N in n)if(o=n[N],n.hasOwnProperty(N)&&o!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:et(e,t,N,null,l,o)}for(v in l)if(o=l[v],u=n[v],l.hasOwnProperty(v)&&(o!=null||u!=null))switch(v){case"value":Z=o;break;case"defaultValue":W=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==u&&et(e,t,v,o,l,u)}ri(e,Z,W);return;case"option":for(var Ne in n)if(Z=n[Ne],n.hasOwnProperty(Ne)&&Z!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:et(e,t,Ne,null,l,Z)}for(k in l)if(Z=l[k],W=n[k],l.hasOwnProperty(k)&&Z!==W&&(Z!=null||W!=null))switch(k){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:et(e,t,k,Z,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in n)Z=n[Te],n.hasOwnProperty(Te)&&Z!=null&&!l.hasOwnProperty(Te)&&et(e,t,Te,null,l,Z);for(K in l)if(Z=l[K],W=n[K],l.hasOwnProperty(K)&&Z!==W&&(Z!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,t));break;default:et(e,t,K,Z,l,W)}return;default:if(rl(t)){for(var tt in n)Z=n[tt],n.hasOwnProperty(tt)&&Z!==void 0&&!l.hasOwnProperty(tt)&&cd(e,t,tt,void 0,l,Z);for(ae in l)Z=l[ae],W=n[ae],!l.hasOwnProperty(ae)||Z===W||Z===void 0&&W===void 0||cd(e,t,ae,Z,l,W);return}}for(var Y in n)Z=n[Y],n.hasOwnProperty(Y)&&Z!=null&&!l.hasOwnProperty(Y)&&et(e,t,Y,null,l,Z);for(ie in l)Z=l[ie],W=n[ie],!l.hasOwnProperty(ie)||Z===W||Z==null&&W==null||et(e,t,ie,Z,l,W)}function tx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var o=n[l],u=o.transferSize,v=o.initiatorType,N=o.duration;if(u&&N&&tx(v)){for(v=0,N=o.responseEnd,l+=1;l<n.length;l++){var k=n[l],K=k.startTime;if(K>N)break;var ae=k.transferSize,ie=k.initiatorType;ae&&tx(ie)&&(k=k.responseEnd,v+=ae*(k<N?1:(N-K)/(k-K)))}if(--l,t+=8*(u+v)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ud=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function ax(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nx(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function wy(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var sx=typeof setTimeout=="function"?setTimeout:void 0,Ty=typeof clearTimeout=="function"?clearTimeout:void 0,lx=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof lx<"u"?function(e){return lx.resolve(null).then(e).catch(Ay)}:sx;function Ay(e){setTimeout(function(){throw e})}function cs(e){return e==="head"}function ix(e,t){var n=t,l=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(o),Ll(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Gi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Gi(n);for(var u=n.firstChild;u;){var v=u.nextSibling,N=u.nodeName;u[La]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=v}}else n==="body"&&Gi(e.ownerDocument.body);n=o}while(n);Ll(t)}function rx(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Xa(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Oy(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[La])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=wa(e.nextSibling),e===null)break}return null}function Ry(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wa(e.nextSibling),e===null))return null;return e}function cx(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=wa(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var xd=null;function ox(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return wa(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ux(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function dx(e,t,n){switch(t=Tc(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Gi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xa(e)}var Ta=new Map,fx=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=ne.d;ne.d={f:My,r:zy,D:ky,C:Ly,L:$y,m:By,X:Hy,S:Uy,M:qy};function My(){var e=wn.f(),t=bc();return e||t}function zy(e){var t=Gn(e);t!==null&&t.tag===5&&t.type==="form"?Ah(t):wn.r(e)}var Ml=typeof document>"u"?null:document;function mx(e,t,n){var l=Ml;if(l&&typeof t=="string"&&t){var o=Pt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),fx.has(o)||(fx.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),Ut(t,"link",e),Ct(t),l.head.appendChild(t)))}}function ky(e){wn.D(e),mx("dns-prefetch",e,null)}function Ly(e,t){wn.C(e,t),mx("preconnect",e,t)}function $y(e,t,n){wn.L(e,t,n);var l=Ml;if(l&&e&&t){var o='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Pt(n.imageSizes)+'"]')):o+='[href="'+Pt(e)+'"]';var u=o;switch(t){case"style":u=zl(e);break;case"script":u=kl(e)}Ta.has(u)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ta.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Yi(u))||t==="script"&&l.querySelector(Vi(u))||(t=l.createElement("link"),Ut(t,"link",e),Ct(t),l.head.appendChild(t)))}}function By(e,t){wn.m(e,t);var n=Ml;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=kl(e)}if(!Ta.has(u)&&(e=y({rel:"modulepreload",href:e},t),Ta.set(u,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Vi(u)))return}l=n.createElement("link"),Ut(l,"link",e),Ct(l),n.head.appendChild(l)}}}function Uy(e,t,n){wn.S(e,t,n);var l=Ml;if(l&&e){var o=Qa(l).hoistableStyles,u=zl(e);t=t||"default";var v=o.get(u);if(!v){var N={loading:0,preload:null};if(v=l.querySelector(Yi(u)))N.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ta.get(u))&&vd(e,n);var k=v=l.createElement("link");Ct(k),Ut(k,"link",e),k._p=new Promise(function(K,ae){k.onload=K,k.onerror=ae}),k.addEventListener("load",function(){N.loading|=1}),k.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Ac(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:N},o.set(u,v)}}}function Hy(e,t){wn.X(e,t);var n=Ml;if(n&&e){var l=Qa(n).hoistableScripts,o=kl(e),u=l.get(o);u||(u=n.querySelector(Vi(o)),u||(e=y({src:e,async:!0},t),(t=Ta.get(o))&&gd(e,t),u=n.createElement("script"),Ct(u),Ut(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function qy(e,t){wn.M(e,t);var n=Ml;if(n&&e){var l=Qa(n).hoistableScripts,o=kl(e),u=l.get(o);u||(u=n.querySelector(Vi(o)),u||(e=y({src:e,async:!0,type:"module"},t),(t=Ta.get(o))&&gd(e,t),u=n.createElement("script"),Ct(u),Ut(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function hx(e,t,n,l){var o=(o=je.current)?_c(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=zl(n.href),n=Qa(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=zl(n.href);var u=Qa(o).hoistableStyles,v=u.get(e);if(v||(o=o.ownerDocument||o,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,v),(u=o.querySelector(Yi(e)))&&!u._p&&(v.instance=u,v.state.loading=5),Ta.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ta.set(e,n),u||Gy(o,e,n,v.state))),t&&l===null)throw Error(c(528,""));return v}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=kl(n),n=Qa(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function zl(e){return'href="'+Pt(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function px(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Gy(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ut(t,"link",n),Ct(t),e.head.appendChild(t))}function kl(e){return'[src="'+Pt(e)+'"]'}function Vi(e){return"script[async]"+e}function xx(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Pt(n.href)+'"]');if(l)return t.instance=l,Ct(l),l;var o=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ct(l),Ut(l,"style",o),Ac(l,n.precedence,e),t.instance=l;case"stylesheet":o=zl(n.href);var u=e.querySelector(Yi(o));if(u)return t.state.loading|=4,t.instance=u,Ct(u),u;l=px(n),(o=Ta.get(o))&&vd(l,o),u=(e.ownerDocument||e).createElement("link"),Ct(u);var v=u;return v._p=new Promise(function(N,k){v.onload=N,v.onerror=k}),Ut(u,"link",l),t.state.loading|=4,Ac(u,n.precedence,e),t.instance=u;case"script":return u=kl(n.src),(o=e.querySelector(Vi(u)))?(t.instance=o,Ct(o),o):(l=n,(o=Ta.get(u))&&(l=y({},n),gd(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ct(o),Ut(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Ac(l,n.precedence,e));return t.instance}function Ac(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,v=0;v<l.length;v++){var N=l[v];if(N.dataset.precedence===t)u=N;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function vd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Oc=null;function vx(e,t,n){if(Oc===null){var l=new Map,o=Oc=new Map;o.set(n,l)}else o=Oc,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[La]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var v=u.getAttribute(t)||"";v=e+v;var N=l.get(v);N?N.push(u):l.set(v,[u])}}return l}function gx(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Yy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vy(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=zl(l.href),u=t.querySelector(Yi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Rc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Ct(u);return}u=t.ownerDocument||t,l=px(l),(o=Ta.get(o))&&vd(l,o),u=u.createElement("link"),Ct(u);var v=u;v._p=new Promise(function(N,k){v.onload=N,v.onerror=k}),Ut(u,"link",l),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Rc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var bd=0;function Fy(e,t){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&bd===0&&(bd=62500*Cy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>bd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function Mc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,t.forEach(Xy,e),Dc=null,Rc.call(e))}function Xy(e,t){if(!(t.state.loading&4)){var n=Dc.get(e);if(n)var l=n.get(null);else{n=new Map,Dc.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var v=o[u];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),l=v)}l&&n.set(null,l)}o=t.instance,v=o.getAttribute("data-precedence"),u=n.get(v)||l,u===l&&n.set(null,o),n.set(v,o),this.count++,l=Rc.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Fi={$$typeof:L,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Qy(e,t,n,l,o,u,v,N,k){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function jx(e,t,n,l,o,u,v,N,k,K,ae,ie){return e=new Qy(e,t,n,v,k,K,ae,ie,N),t=1,u===!0&&(t|=24),u=ua(3,null,null,t),e.current=u,u.stateNode=e,t=Po(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},au(u),e}function yx(e){return e?(e=fl,e):fl}function Nx(e,t,n,l,o,u){o=yx(o),l.context===null?l.context=o:l.pendingContext=o,l=In(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=Pn(e,l,t),n!==null&&(ia(n,e,t),Si(n,e,t))}function Sx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jd(e,t){Sx(e,t),(e=e.alternate)&&Sx(e,t)}function Ex(e){if(e.tag===13||e.tag===31){var t=Ds(e,67108864);t!==null&&ia(t,e,67108864),jd(e,67108864)}}function Cx(e){if(e.tag===13||e.tag===31){var t=pa();t=ln(t);var n=Ds(e,t);n!==null&&ia(n,e,t),jd(e,t)}}var zc=!0;function Ky(e,t,n,l){var o=V.T;V.T=null;var u=ne.p;try{ne.p=2,yd(e,t,n,l)}finally{ne.p=u,V.T=o}}function Zy(e,t,n,l){var o=V.T;V.T=null;var u=ne.p;try{ne.p=8,yd(e,t,n,l)}finally{ne.p=u,V.T=o}}function yd(e,t,n,l){if(zc){var o=Nd(l);if(o===null)rd(e,t,l,kc,n),Tx(e,l);else if(Iy(o,e,t,n,l))l.stopPropagation();else if(Tx(e,l),t&4&&-1<Jy.indexOf(e)){for(;o!==null;){var u=Gn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var v=Dt(u.pendingLanes);if(v!==0){var N=u;for(N.pendingLanes|=2,N.entangledLanes|=2;v;){var k=1<<31-Rt(v);N.entanglements[1]|=k,v&=~k}Ia(u),(Ze&6)===0&&(vc=Re()+500,Ui(0))}}break;case 31:case 13:N=Ds(u,2),N!==null&&ia(N,u,2),bc(),jd(u,2)}if(u=Nd(l),u===null&&rd(e,t,l,kc,n),u===o)break;o=u}o!==null&&l.stopPropagation()}else rd(e,t,l,null,n)}}function Nd(e){return e=ue(e),Sd(e)}var kc=null;function Sd(e){if(kc=null,e=qn(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=x(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kc=e,null}function wx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Oe:return 2;case at:return 8;case ga:case ei:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Ed=!1,os=null,us=null,ds=null,Xi=new Map,Qi=new Map,fs=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tx(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Ki(e,t,n,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Gn(t),t!==null&&Ex(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Iy(e,t,n,l,o){switch(t){case"focusin":return os=Ki(os,e,t,n,l,o),!0;case"dragenter":return us=Ki(us,e,t,n,l,o),!0;case"mouseover":return ds=Ki(ds,e,t,n,l,o),!0;case"pointerover":var u=o.pointerId;return Xi.set(u,Ki(Xi.get(u)||null,e,t,n,l,o)),!0;case"gotpointercapture":return u=o.pointerId,Qi.set(u,Ki(Qi.get(u)||null,e,t,n,l,o)),!0}return!1}function _x(e){var t=qn(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,si(e.priority,function(){Cx(n)});return}}else if(t===31){if(t=x(n),t!==null){e.blockedOn=t,si(e.priority,function(){Cx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nd(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);R=l,n.target.dispatchEvent(l),R=null}else return t=Gn(n),t!==null&&Ex(t),e.blockedOn=n,!1;t.shift()}return!0}function Ax(e,t,n){Lc(e)&&n.delete(t)}function Py(){Ed=!1,os!==null&&Lc(os)&&(os=null),us!==null&&Lc(us)&&(us=null),ds!==null&&Lc(ds)&&(ds=null),Xi.forEach(Ax),Qi.forEach(Ax)}function $c(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Py)))}var Bc=null;function Ox(e){Bc!==e&&(Bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Sd(l||n)===null)continue;break}var u=Gn(n);u!==null&&(e.splice(t,3),t-=3,Nu(u,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function Ll(e){function t(k){return $c(k,e)}os!==null&&$c(os,e),us!==null&&$c(us,e),ds!==null&&$c(ds,e),Xi.forEach(t),Qi.forEach(t);for(var n=0;n<fs.length;n++){var l=fs[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)_x(n),n.blockedOn===null&&fs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],u=n[l+1],v=o[ut]||null;if(typeof u=="function")v||Ox(n);else if(v){var N=null;if(u&&u.hasAttribute("formAction")){if(o=u,v=u[ut]||null)N=v.formAction;else if(Sd(o)!==null)continue}else N=v.action;typeof N=="function"?n[l+1]=N:(n.splice(l,3),l-=3),Ox(n)}}}function Rx(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(v){return o=v})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Cd(e){this._internalRoot=e}Uc.prototype.render=Cd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,l=pa();Nx(n,l,e,t,null,null)},Uc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nx(e.current,2,null,e,null,null),bc(),t[Gt]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ni();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fs.length&&t!==0&&t<fs[n].priority;n++);fs.splice(n,0,e),n===0&&_x(e)}};var Dx=i.version;if(Dx!=="19.2.0")throw Error(c(527,Dx,"19.2.0"));ne.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=p(t),e=e!==null?j(e):null,e=e===null?null:e.stateNode,e};var Wy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Ln=Hc.inject(Wy),It=Hc}catch{}}return Ji.createRoot=function(e,t){if(!d(e))throw Error(c(299));var n=!1,l="",o=Uh,u=Hh,v=qh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=jx(e,1,!1,null,null,n,l,null,o,u,v,Rx),e[Gt]=t.current,id(e),new Cd(t)},Ji.hydrateRoot=function(e,t,n){if(!d(e))throw Error(c(299));var l=!1,o="",u=Uh,v=Hh,N=qh,k=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError),n.formState!==void 0&&(k=n.formState)),t=jx(e,1,!0,t,n??null,l,o,k,u,v,N,Rx),t.context=yx(null),n=t.current,l=pa(),l=ln(l),o=In(l),o.callback=null,Pn(n,o,l),n=l,t.current.lanes=n,Es(t,n),Ia(t),e[Gt]=t.current,id(e),new Uc(t)},Ji.version="19.2.0",Ji}var Gx;function cN(){if(Gx)return _d.exports;Gx=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(i){console.error(i)}}return s(),_d.exports=rN(),_d.exports}var oN=cN();const uN=Xl(oN);var Yx="popstate";function dN(s={}){function i(c,d){let{pathname:f,search:h,hash:x}=c.location;return Zd("",{pathname:f,search:h,hash:x},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function r(c,d){return typeof d=="string"?d:sr(d)}return mN(i,r,null,s)}function ht(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function Ga(s,i){if(!s){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function fN(){return Math.random().toString(36).substring(2,10)}function Vx(s,i){return{usr:s.state,key:s.key,idx:i}}function Zd(s,i,r=null,c){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof i=="string"?Ql(i):i,state:r,key:i&&i.key||c||fN()}}function sr({pathname:s="/",search:i="",hash:r=""}){return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Ql(s){let i={};if(s){let r=s.indexOf("#");r>=0&&(i.hash=s.substring(r),s=s.substring(0,r));let c=s.indexOf("?");c>=0&&(i.search=s.substring(c),s=s.substring(0,c)),s&&(i.pathname=s)}return i}function mN(s,i,r,c={}){let{window:d=document.defaultView,v5Compat:f=!1}=c,h=d.history,x="POP",g=null,p=j();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function j(){return(h.state||{idx:null}).idx}function y(){x="POP";let E=j(),D=E==null?null:E-p;p=E,g&&g({action:x,location:A.location,delta:D})}function S(E,D){x="PUSH";let T=Zd(A.location,E,D);p=j()+1;let L=Vx(T,p),_=A.createHref(T);try{h.pushState(L,"",_)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;d.location.assign(_)}f&&g&&g({action:x,location:A.location,delta:1})}function w(E,D){x="REPLACE";let T=Zd(A.location,E,D);p=j();let L=Vx(T,p),_=A.createHref(T);h.replaceState(L,"",_),f&&g&&g({action:x,location:A.location,delta:0})}function C(E){return hN(E)}let A={get action(){return x},get location(){return s(d,h)},listen(E){if(g)throw new Error("A history only accepts one active listener");return d.addEventListener(Yx,y),g=E,()=>{d.removeEventListener(Yx,y),g=null}},createHref(E){return i(d,E)},createURL:C,encodeLocation(E){let D=C(E);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:w,go(E){return h.go(E)}};return A}function hN(s,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ht(r,"No window.location.(origin|href) available to create URL");let c=typeof s=="string"?s:sr(s);return c=c.replace(/ $/,"%20"),!i&&c.startsWith("//")&&(c=r+c),new URL(c,r)}function Uv(s,i,r="/"){return pN(s,i,r,!1)}function pN(s,i,r,c){let d=typeof i=="string"?Ql(i):i,f=Rn(d.pathname||"/",r);if(f==null)return null;let h=Hv(s);xN(h);let x=null;for(let g=0;x==null&&g<h.length;++g){let p=TN(f);x=CN(h[g],p,c)}return x}function Hv(s,i=[],r=[],c="",d=!1){let f=(h,x,g=d,p)=>{let j={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(j.relativePath.startsWith("/")){if(!j.relativePath.startsWith(c)&&g)return;ht(j.relativePath.startsWith(c),`Absolute route path "${j.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),j.relativePath=j.relativePath.slice(c.length)}let y=An([c,j.relativePath]),S=r.concat(j);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hv(h.children,i,S,y,g)),!(h.path==null&&!h.index)&&i.push({path:y,score:SN(y,h.index),routesMeta:S})};return s.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))f(h,x);else for(let g of qv(h.path))f(h,x,!0,g)}),i}function qv(s){let i=s.split("/");if(i.length===0)return[];let[r,...c]=i,d=r.endsWith("?"),f=r.replace(/\?$/,"");if(c.length===0)return d?[f,""]:[f];let h=qv(c.join("/")),x=[];return x.push(...h.map(g=>g===""?f:[f,g].join("/"))),d&&x.push(...h),x.map(g=>s.startsWith("/")&&g===""?"/":g)}function xN(s){s.sort((i,r)=>i.score!==r.score?r.score-i.score:EN(i.routesMeta.map(c=>c.childrenIndex),r.routesMeta.map(c=>c.childrenIndex)))}var vN=/^:[\w-]+$/,gN=3,bN=2,jN=1,yN=10,NN=-2,Fx=s=>s==="*";function SN(s,i){let r=s.split("/"),c=r.length;return r.some(Fx)&&(c+=NN),i&&(c+=bN),r.filter(d=>!Fx(d)).reduce((d,f)=>d+(vN.test(f)?gN:f===""?jN:yN),c)}function EN(s,i){return s.length===i.length&&s.slice(0,-1).every((c,d)=>c===i[d])?s[s.length-1]-i[i.length-1]:0}function CN(s,i,r=!1){let{routesMeta:c}=s,d={},f="/",h=[];for(let x=0;x<c.length;++x){let g=c[x],p=x===c.length-1,j=f==="/"?i:i.slice(f.length)||"/",y=Ic({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},j),S=g.route;if(!y&&p&&r&&!c[c.length-1].route.index&&(y=Ic({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},j)),!y)return null;Object.assign(d,y.params),h.push({params:d,pathname:An([f,y.pathname]),pathnameBase:DN(An([f,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(f=An([f,y.pathnameBase]))}return h}function Ic(s,i){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,c]=wN(s.path,s.caseSensitive,s.end),d=i.match(r);if(!d)return null;let f=d[0],h=f.replace(/(.)\/+$/,"$1"),x=d.slice(1);return{params:c.reduce((p,{paramName:j,isOptional:y},S)=>{if(j==="*"){let C=x[S]||"";h=f.slice(0,f.length-C.length).replace(/(.)\/+$/,"$1")}const w=x[S];return y&&!w?p[j]=void 0:p[j]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:s}}function wN(s,i=!1,r=!0){Ga(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let c=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,g)=>(c.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(c.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),c]}function TN(s){try{return s.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Ga(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),s}}function Rn(s,i){if(i==="/")return s;if(!s.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,c=s.charAt(r);return c&&c!=="/"?null:s.slice(r)||"/"}var _N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AN=s=>_N.test(s);function ON(s,i="/"){let{pathname:r,search:c="",hash:d=""}=typeof s=="string"?Ql(s):s,f;if(r)if(AN(r))f=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),Ga(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?f=Xx(r.substring(1),"/"):f=Xx(r,i)}else f=i;return{pathname:f,search:MN(c),hash:zN(d)}}function Xx(s,i){let r=i.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?r.length>1&&r.pop():d!=="."&&r.push(d)}),r.length>1?r.join("/"):"/"}function Dd(s,i,r,c){return`Cannot include a '${s}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RN(s){return s.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Gv(s){let i=RN(s);return i.map((r,c)=>c===i.length-1?r.pathname:r.pathnameBase)}function Yv(s,i,r,c=!1){let d;typeof s=="string"?d=Ql(s):(d={...s},ht(!d.pathname||!d.pathname.includes("?"),Dd("?","pathname","search",d)),ht(!d.pathname||!d.pathname.includes("#"),Dd("#","pathname","hash",d)),ht(!d.search||!d.search.includes("#"),Dd("#","search","hash",d)));let f=s===""||d.pathname==="",h=f?"/":d.pathname,x;if(h==null)x=r;else{let y=i.length-1;if(!c&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;d.pathname=S.join("/")}x=y>=0?i[y]:"/"}let g=ON(d,x),p=h&&h!=="/"&&h.endsWith("/"),j=(f||h===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||j)&&(g.pathname+="/"),g}var An=s=>s.join("/").replace(/\/\/+/g,"/"),DN=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),MN=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zN=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function kN(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vv=["POST","PUT","PATCH","DELETE"];new Set(Vv);var LN=["GET",...Vv];new Set(LN);var Kl=m.createContext(null);Kl.displayName="DataRouter";var ro=m.createContext(null);ro.displayName="DataRouterState";m.createContext(!1);var Fv=m.createContext({isTransitioning:!1});Fv.displayName="ViewTransition";var $N=m.createContext(new Map);$N.displayName="Fetchers";var BN=m.createContext(null);BN.displayName="Await";var nn=m.createContext(null);nn.displayName="Navigation";var dr=m.createContext(null);dr.displayName="Location";var sn=m.createContext({outlet:null,matches:[],isDataRoute:!1});sn.displayName="Route";var mf=m.createContext(null);mf.displayName="RouteError";function UN(s,{relative:i}={}){ht(fr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:c}=m.useContext(nn),{hash:d,pathname:f,search:h}=mr(s,{relative:i}),x=f;return r!=="/"&&(x=f==="/"?r:An([r,f])),c.createHref({pathname:x,search:h,hash:d})}function fr(){return m.useContext(dr)!=null}function ys(){return ht(fr(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(dr).location}var Xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qv(s){m.useContext(nn).static||m.useLayoutEffect(s)}function co(){let{isDataRoute:s}=m.useContext(sn);return s?PN():HN()}function HN(){ht(fr(),"useNavigate() may be used only in the context of a <Router> component.");let s=m.useContext(Kl),{basename:i,navigator:r}=m.useContext(nn),{matches:c}=m.useContext(sn),{pathname:d}=ys(),f=JSON.stringify(Gv(c)),h=m.useRef(!1);return Qv(()=>{h.current=!0}),m.useCallback((g,p={})=>{if(Ga(h.current,Xv),!h.current)return;if(typeof g=="number"){r.go(g);return}let j=Yv(g,JSON.parse(f),d,p.relative==="path");s==null&&i!=="/"&&(j.pathname=j.pathname==="/"?i:An([i,j.pathname])),(p.replace?r.replace:r.push)(j,p.state,p)},[i,r,f,d,s])}m.createContext(null);function Kv(){let{matches:s}=m.useContext(sn),i=s[s.length-1];return i?i.params:{}}function mr(s,{relative:i}={}){let{matches:r}=m.useContext(sn),{pathname:c}=ys(),d=JSON.stringify(Gv(r));return m.useMemo(()=>Yv(s,JSON.parse(d),c,i==="path"),[s,d,c,i])}function qN(s,i){return Zv(s,i)}function Zv(s,i,r,c,d){ht(fr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=m.useContext(nn),{matches:h}=m.useContext(sn),x=h[h.length-1],g=x?x.params:{},p=x?x.pathname:"/",j=x?x.pathnameBase:"/",y=x&&x.route;{let T=y&&y.path||"";Jv(p,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let S=ys(),w;if(i){let T=typeof i=="string"?Ql(i):i;ht(j==="/"||T.pathname?.startsWith(j),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${j}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=S;let C=w.pathname||"/",A=C;if(j!=="/"){let T=j.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=Uv(s,{pathname:A});Ga(y||E!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ga(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=XN(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},g,T.params),pathname:An([j,f.encodeLocation?f.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?j:An([j,f.encodeLocation?f.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),h,r,c,d);return i&&D?m.createElement(dr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},D):D}function GN(){let s=IN(),i=kN(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,c="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:f},"ErrorBoundary")," or"," ",m.createElement("code",{style:f},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},i),r?m.createElement("pre",{style:d},r):null,h)}var YN=m.createElement(GN,null),VN=class extends m.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){this.props.onError?this.props.onError(s,i):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?m.createElement(sn.Provider,{value:this.props.routeContext},m.createElement(mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FN({routeContext:s,match:i,children:r}){let c=m.useContext(Kl);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),m.createElement(sn.Provider,{value:s},r)}function XN(s,i=[],r=null,c=null,d=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let f=s,h=r?.errors;if(h!=null){let j=f.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);ht(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,j+1))}let x=!1,g=-1;if(r)for(let j=0;j<f.length;j++){let y=f[j];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=j),y.route.id){let{loaderData:S,errors:w}=r,C=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||C){x=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}let p=r&&c?(j,y)=>{c(j,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:y})}:void 0;return f.reduceRight((j,y,S)=>{let w,C=!1,A=null,E=null;r&&(w=h&&y.route.id?h[y.route.id]:void 0,A=y.route.errorElement||YN,x&&(g<0&&S===0?(Jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):g===S&&(C=!0,E=y.route.hydrateFallbackElement||null)));let D=i.concat(f.slice(0,S+1)),T=()=>{let L;return w?L=A:C?L=E:y.route.Component?L=m.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=j,m.createElement(FN,{match:y,routeContext:{outlet:j,matches:D,isDataRoute:r!=null},children:L})};return r&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?m.createElement(VN,{location:r.location,revalidation:r.revalidation,component:A,error:w,children:T(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:p}):T()},null)}function hf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QN(s){let i=m.useContext(Kl);return ht(i,hf(s)),i}function KN(s){let i=m.useContext(ro);return ht(i,hf(s)),i}function ZN(s){let i=m.useContext(sn);return ht(i,hf(s)),i}function pf(s){let i=ZN(s),r=i.matches[i.matches.length-1];return ht(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function JN(){return pf("useRouteId")}function IN(){let s=m.useContext(mf),i=KN("useRouteError"),r=pf("useRouteError");return s!==void 0?s:i.errors?.[r]}function PN(){let{router:s}=QN("useNavigate"),i=pf("useNavigate"),r=m.useRef(!1);return Qv(()=>{r.current=!0}),m.useCallback(async(d,f={})=>{Ga(r.current,Xv),r.current&&(typeof d=="number"?s.navigate(d):await s.navigate(d,{fromRouteId:i,...f}))},[s,i])}var Qx={};function Jv(s,i,r){!i&&!Qx[s]&&(Qx[s]=!0,Ga(!1,r))}m.memo(WN);function WN({routes:s,future:i,state:r,unstable_onError:c}){return Zv(s,void 0,r,c,i)}function Jd(s){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e0({basename:s="/",children:i=null,location:r,navigationType:c="POP",navigator:d,static:f=!1}){ht(!fr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),x=m.useMemo(()=>({basename:h,navigator:d,static:f,future:{}}),[h,d,f]);typeof r=="string"&&(r=Ql(r));let{pathname:g="/",search:p="",hash:j="",state:y=null,key:S="default"}=r,w=m.useMemo(()=>{let C=Rn(g,h);return C==null?null:{location:{pathname:C,search:p,hash:j,state:y,key:S},navigationType:c}},[h,g,p,j,y,S,c]);return Ga(w!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${j}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:m.createElement(nn.Provider,{value:x},m.createElement(dr.Provider,{children:i,value:w}))}function t0({children:s,location:i}){return qN(Id(s),i)}function Id(s,i=[]){let r=[];return m.Children.forEach(s,(c,d)=>{if(!m.isValidElement(c))return;let f=[...i,d];if(c.type===m.Fragment){r.push.apply(r,Id(c.props.children,f));return}ht(c.type===Jd,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!c.props.index||!c.props.children,"An index route cannot have child routes.");let h={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=Id(c.props.children,f)),r.push(h)}),r}var Kc="get",Zc="application/x-www-form-urlencoded";function oo(s){return s!=null&&typeof s.tagName=="string"}function a0(s){return oo(s)&&s.tagName.toLowerCase()==="button"}function n0(s){return oo(s)&&s.tagName.toLowerCase()==="form"}function s0(s){return oo(s)&&s.tagName.toLowerCase()==="input"}function l0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function i0(s,i){return s.button===0&&(!i||i==="_self")&&!l0(s)}var qc=null;function r0(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var c0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(s){return s!=null&&!c0.has(s)?(Ga(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):s}function o0(s,i){let r,c,d,f,h;if(n0(s)){let x=s.getAttribute("action");c=x?Rn(x,i):null,r=s.getAttribute("method")||Kc,d=Md(s.getAttribute("enctype"))||Zc,f=new FormData(s)}else if(a0(s)||s0(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||x.getAttribute("action");if(c=g?Rn(g,i):null,r=s.getAttribute("formmethod")||x.getAttribute("method")||Kc,d=Md(s.getAttribute("formenctype"))||Md(x.getAttribute("enctype"))||Zc,f=new FormData(x,s),!r0()){let{name:p,type:j,value:y}=s;if(j==="image"){let S=p?`${p}.`:"";f.append(`${S}x`,"0"),f.append(`${S}y`,"0")}else p&&f.append(p,y)}}else{if(oo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Kc,c=null,d=Zc,h=s}return f&&d==="text/plain"&&(h=f,f=void 0),{action:c,method:r.toLowerCase(),encType:d,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xf(s,i){if(s===!1||s===null||typeof s>"u")throw new Error(i)}function u0(s,i,r){let c=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return c.pathname==="/"?c.pathname=`_root.${r}`:i&&Rn(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${r}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${r}`,c}async function d0(s,i){if(s.id in i)return i[s.id];try{let r=await import(s.module);return i[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f0(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function m0(s,i,r){let c=await Promise.all(s.map(async d=>{let f=i.routes[d.route.id];if(f){let h=await d0(f,r);return h.links?h.links():[]}return[]}));return v0(c.flat(1).filter(f0).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Kx(s,i,r,c,d,f){let h=(g,p)=>r[p]?g.route.id!==r[p].route.id:!0,x=(g,p)=>r[p].pathname!==g.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==g.params["*"];return f==="assets"?i.filter((g,p)=>h(g,p)||x(g,p)):f==="data"?i.filter((g,p)=>{let j=c.routes[g.route.id];if(!j||!j.hasLoader)return!1;if(h(g,p)||x(g,p))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function h0(s,i,{includeHydrateFallback:r}={}){return p0(s.map(c=>{let d=i.routes[c.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),r&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function p0(s){return[...new Set(s)]}function x0(s){let i={},r=Object.keys(s).sort();for(let c of r)i[c]=s[c];return i}function v0(s,i){let r=new Set;return new Set(i),s.reduce((c,d)=>{let f=JSON.stringify(x0(d));return r.has(f)||(r.add(f),c.push({key:f,link:d})),c},[])}function Iv(){let s=m.useContext(Kl);return xf(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function g0(){let s=m.useContext(ro);return xf(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var vf=m.createContext(void 0);vf.displayName="FrameworkContext";function Pv(){let s=m.useContext(vf);return xf(s,"You must render this element inside a <HydratedRouter> element"),s}function b0(s,i){let r=m.useContext(vf),[c,d]=m.useState(!1),[f,h]=m.useState(!1),{onFocus:x,onBlur:g,onMouseEnter:p,onMouseLeave:j,onTouchStart:y}=i,S=m.useRef(null);m.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let A=D=>{D.forEach(T=>{h(T.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return S.current&&E.observe(S.current),()=>{E.disconnect()}}},[s]),m.useEffect(()=>{if(c){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[c]);let w=()=>{d(!0)},C=()=>{d(!1),h(!1)};return r?s!=="intent"?[f,S,{}]:[f,S,{onFocus:Ii(x,w),onBlur:Ii(g,C),onMouseEnter:Ii(p,w),onMouseLeave:Ii(j,C),onTouchStart:Ii(y,w)}]:[!1,S,{}]}function Ii(s,i){return r=>{s&&s(r),r.defaultPrevented||i(r)}}function j0({page:s,...i}){let{router:r}=Iv(),c=m.useMemo(()=>Uv(r.routes,s,r.basename),[r.routes,s,r.basename]);return c?m.createElement(N0,{page:s,matches:c,...i}):null}function y0(s){let{manifest:i,routeModules:r}=Pv(),[c,d]=m.useState([]);return m.useEffect(()=>{let f=!1;return m0(s,i,r).then(h=>{f||d(h)}),()=>{f=!0}},[s,i,r]),c}function N0({page:s,matches:i,...r}){let c=ys(),{manifest:d,routeModules:f}=Pv(),{basename:h}=Iv(),{loaderData:x,matches:g}=g0(),p=m.useMemo(()=>Kx(s,i,g,d,c,"data"),[s,i,g,d,c]),j=m.useMemo(()=>Kx(s,i,g,d,c,"assets"),[s,i,g,d,c]),y=m.useMemo(()=>{if(s===c.pathname+c.search+c.hash)return[];let C=new Set,A=!1;if(i.forEach(D=>{let T=d.routes[D.route.id];!T||!T.hasLoader||(!p.some(L=>L.route.id===D.route.id)&&D.route.id in x&&f[D.route.id]?.shouldRevalidate||T.hasClientLoader?A=!0:C.add(D.route.id))}),C.size===0)return[];let E=u0(s,h,"data");return A&&C.size>0&&E.searchParams.set("_routes",i.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[E.pathname+E.search]},[h,x,c,d,p,i,s,f]),S=m.useMemo(()=>h0(j,d),[j,d]),w=y0(j);return m.createElement(m.Fragment,null,y.map(C=>m.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),S.map(C=>m.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),w.map(({key:C,link:A})=>m.createElement("link",{key:C,nonce:r.nonce,...A})))}function S0(...s){return i=>{s.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var Wv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wv&&(window.__reactRouterVersion="7.9.6")}catch{}function E0({basename:s,children:i,window:r}){let c=m.useRef();c.current==null&&(c.current=dN({window:r,v5Compat:!0}));let d=c.current,[f,h]=m.useState({action:d.action,location:d.location}),x=m.useCallback(g=>{m.startTransition(()=>h(g))},[h]);return m.useLayoutEffect(()=>d.listen(x),[d,x]),m.createElement(e0,{basename:s,children:i,location:f.location,navigationType:f.action,navigator:d})}var eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tg=m.forwardRef(function({onClick:i,discover:r="render",prefetch:c="none",relative:d,reloadDocument:f,replace:h,state:x,target:g,to:p,preventScrollReset:j,viewTransition:y,...S},w){let{basename:C}=m.useContext(nn),A=typeof p=="string"&&eg.test(p),E,D=!1;if(typeof p=="string"&&A&&(E=p,Wv))try{let J=new URL(window.location.href),q=p.startsWith("//")?new URL(J.protocol+p):new URL(p),X=Rn(q.pathname,C);q.origin===J.origin&&X!=null?p=X+q.search+q.hash:D=!0}catch{Ga(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=UN(p,{relative:d}),[L,_,M]=b0(c,S),H=_0(p,{replace:h,state:x,target:g,preventScrollReset:j,relative:d,viewTransition:y});function z(J){i&&i(J),J.defaultPrevented||H(J)}let B=m.createElement("a",{...S,...M,href:E||T,onClick:D||f?i:z,ref:S0(w,_),target:g,"data-discover":!A&&r==="render"?"true":void 0});return L&&!A?m.createElement(m.Fragment,null,B,m.createElement(j0,{page:T})):B});tg.displayName="Link";var C0=m.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:c="",end:d=!1,style:f,to:h,viewTransition:x,children:g,...p},j){let y=mr(h,{relative:p.relative}),S=ys(),w=m.useContext(ro),{navigator:C,basename:A}=m.useContext(nn),E=w!=null&&M0(y)&&x===!0,D=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,T=S.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(T=T.toLowerCase(),L=L?L.toLowerCase():null,D=D.toLowerCase()),L&&A&&(L=Rn(L,A)||L);const _=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let M=T===D||!d&&T.startsWith(D)&&T.charAt(_)==="/",H=L!=null&&(L===D||!d&&L.startsWith(D)&&L.charAt(D.length)==="/"),z={isActive:M,isPending:H,isTransitioning:E},B=M?i:void 0,J;typeof c=="function"?J=c(z):J=[c,M?"active":null,H?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let q=typeof f=="function"?f(z):f;return m.createElement(tg,{...p,"aria-current":B,className:J,ref:j,style:q,to:h,viewTransition:x},typeof g=="function"?g(z):g)});C0.displayName="NavLink";var w0=m.forwardRef(({discover:s="render",fetcherKey:i,navigate:r,reloadDocument:c,replace:d,state:f,method:h=Kc,action:x,onSubmit:g,relative:p,preventScrollReset:j,viewTransition:y,...S},w)=>{let C=R0(),A=D0(x,{relative:p}),E=h.toLowerCase()==="get"?"get":"post",D=typeof x=="string"&&eg.test(x),T=L=>{if(g&&g(L),L.defaultPrevented)return;L.preventDefault();let _=L.nativeEvent.submitter,M=_?.getAttribute("formmethod")||h;C(_||L.currentTarget,{fetcherKey:i,method:M,navigate:r,replace:d,state:f,relative:p,preventScrollReset:j,viewTransition:y})};return m.createElement("form",{ref:w,method:E,action:A,onSubmit:c?g:T,...S,"data-discover":!D&&s==="render"?"true":void 0})});w0.displayName="Form";function T0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ag(s){let i=m.useContext(Kl);return ht(i,T0(s)),i}function _0(s,{target:i,replace:r,state:c,preventScrollReset:d,relative:f,viewTransition:h}={}){let x=co(),g=ys(),p=mr(s,{relative:f});return m.useCallback(j=>{if(i0(j,i)){j.preventDefault();let y=r!==void 0?r:sr(g)===sr(p);x(s,{replace:y,state:c,preventScrollReset:d,relative:f,viewTransition:h})}},[g,x,p,r,c,i,s,d,f,h])}var A0=0,O0=()=>`__${String(++A0)}__`;function R0(){let{router:s}=ag("useSubmit"),{basename:i}=m.useContext(nn),r=JN();return m.useCallback(async(c,d={})=>{let{action:f,method:h,encType:x,formData:g,body:p}=o0(c,i);if(d.navigate===!1){let j=d.fetcherKey||O0();await s.fetch(j,r,d.action||f,{preventScrollReset:d.preventScrollReset,formData:g,body:p,formMethod:d.method||h,formEncType:d.encType||x,flushSync:d.flushSync})}else await s.navigate(d.action||f,{preventScrollReset:d.preventScrollReset,formData:g,body:p,formMethod:d.method||h,formEncType:d.encType||x,replace:d.replace,state:d.state,fromRouteId:r,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,i,r])}function D0(s,{relative:i}={}){let{basename:r}=m.useContext(nn),c=m.useContext(sn);ht(c,"useFormAction must be used inside a RouteContext");let[d]=c.matches.slice(-1),f={...mr(s||".",{relative:i})},h=ys();if(s==null){f.search=h.search;let x=new URLSearchParams(f.search),g=x.getAll("index");if(g.some(j=>j==="")){x.delete("index"),g.filter(y=>y).forEach(y=>x.append("index",y));let j=x.toString();f.search=j?`?${j}`:""}}return(!s||s===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:An([r,f.pathname])),sr(f)}function M0(s,{relative:i}={}){let r=m.useContext(Fv);ht(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=ag("useViewTransitionState"),d=mr(s,{relative:i});if(!r.isTransitioning)return!1;let f=Rn(r.currentLocation.pathname,c)||r.currentLocation.pathname,h=Rn(r.nextLocation.pathname,c)||r.nextLocation.pathname;return Ic(d.pathname,h)!=null||Ic(d.pathname,f)!=null}var z0=Bv();const Ul=Xl(z0);var zd={exports:{}};var Zx;function k0(){return Zx||(Zx=1,(function(s){(function(){var i={}.hasOwnProperty;function r(){for(var f="",h=0;h<arguments.length;h++){var x=arguments[h];x&&(f=d(f,c(x)))}return f}function c(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return r.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var h="";for(var x in f)i.call(f,x)&&f[x]&&(h=d(h,x));return h}function d(f,h){return h?f?f+" "+h:f+h:f}s.exports?(r.default=r,s.exports=r):window.classNames=r})()})(zd)),zd.exports}var L0=k0();const he=Xl(L0);function Pd(){return Pd=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var c in r)({}).hasOwnProperty.call(r,c)&&(s[c]=r[c])}return s},Pd.apply(null,arguments)}function ng(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)!==-1)continue;r[c]=s[c]}return r}function Jx(s){return"default"+s.charAt(0).toUpperCase()+s.substr(1)}function $0(s){var i=B0(s,"string");return typeof i=="symbol"?i:String(i)}function B0(s,i){if(typeof s!="object"||s===null)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var c=r.call(s,i);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function U0(s,i,r){var c=m.useRef(s!==void 0),d=m.useState(i),f=d[0],h=d[1],x=s!==void 0,g=c.current;return c.current=x,!x&&g&&f!==i&&h(i),[x?s:f,m.useCallback(function(p){for(var j=arguments.length,y=new Array(j>1?j-1:0),S=1;S<j;S++)y[S-1]=arguments[S];r&&r.apply(void 0,[p].concat(y)),h(p)},[r])]}function Zl(s,i){return Object.keys(i).reduce(function(r,c){var d,f=r,h=f[Jx(c)],x=f[c],g=ng(f,[Jx(c),c].map($0)),p=i[c],j=U0(x,h,s[p]),y=j[0],S=j[1];return Pd({},g,(d={},d[c]=y,d[p]=S,d))},s)}function Wd(s,i){return Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,c){return r.__proto__=c,r},Wd(s,i)}function H0(s,i){s.prototype=Object.create(i.prototype),s.prototype.constructor=s,Wd(s,i)}const q0=["xxl","xl","lg","md","sm","xs"],G0="xs",hr=m.createContext({prefixes:{},breakpoints:q0,minBreakpoint:G0}),{Consumer:Tw,Provider:_w}=hr;function ye(s,i){const{prefixes:r}=m.useContext(hr);return s||r[i]||i}function sg(){const{breakpoints:s}=m.useContext(hr);return s}function lg(){const{minBreakpoint:s}=m.useContext(hr);return s}function ig(){const{dir:s}=m.useContext(hr);return s==="rtl"}function pr(s){return s&&s.ownerDocument||document}function Y0(s){var i=pr(s);return i&&i.defaultView||window}function V0(s,i){return Y0(s).getComputedStyle(s,i)}var F0=/([A-Z])/g;function X0(s){return s.replace(F0,"-$1").toLowerCase()}var Q0=/^ms-/;function Gc(s){return X0(s).replace(Q0,"-ms-")}var K0=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Z0(s){return!!(s&&K0.test(s))}function On(s,i){var r="",c="";if(typeof i=="string")return s.style.getPropertyValue(Gc(i))||V0(s).getPropertyValue(Gc(i));Object.keys(i).forEach(function(d){var f=i[d];!f&&f!==0?s.style.removeProperty(Gc(d)):Z0(d)?c+=d+"("+f+") ":r+=Gc(d)+": "+f+";"}),c&&(r+="transform: "+c+";"),s.style.cssText+=";"+r}var kd={exports:{}},Ld,Ix;function J0(){if(Ix)return Ld;Ix=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ld=s,Ld}var $d,Px;function I0(){if(Px)return $d;Px=1;var s=J0();function i(){}function r(){}return r.resetWarningCache=i,$d=function(){function c(h,x,g,p,j,y){if(y!==s){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}c.isRequired=c;function d(){return c}var f={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:r,resetWarningCache:i};return f.PropTypes=f,f},$d}var Wx;function P0(){return Wx||(Wx=1,kd.exports=I0()()),kd.exports}var W0=P0();const Ft=Xl(W0),ev={disabled:!1},rg=Ht.createContext(null);var eS=function(i){return i.scrollTop},er="unmounted",hs="exited",qa="entering",_n="entered",lr="exiting",kn=(function(s){H0(i,s);function i(c,d){var f;f=s.call(this,c,d)||this;var h=d,x=h&&!h.isMounting?c.enter:c.appear,g;return f.appearStatus=null,c.in?x?(g=hs,f.appearStatus=qa):g=_n:c.unmountOnExit||c.mountOnEnter?g=er:g=hs,f.state={status:g},f.nextCallback=null,f}i.getDerivedStateFromProps=function(d,f){var h=d.in;return h&&f.status===er?{status:hs}:null};var r=i.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(d){var f=null;if(d!==this.props){var h=this.state.status;this.props.in?h!==qa&&h!==_n&&(f=qa):(h===qa||h===_n)&&(f=lr)}this.updateStatus(!1,f)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var d=this.props.timeout,f,h,x;return f=h=x=d,d!=null&&typeof d!="number"&&(f=d.exit,h=d.enter,x=d.appear!==void 0?d.appear:h),{exit:f,enter:h,appear:x}},r.updateStatus=function(d,f){if(d===void 0&&(d=!1),f!==null)if(this.cancelNextCallback(),f===qa){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Ul.findDOMNode(this);h&&eS(h)}this.performEnter(d)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hs&&this.setState({status:er})},r.performEnter=function(d){var f=this,h=this.props.enter,x=this.context?this.context.isMounting:d,g=this.props.nodeRef?[x]:[Ul.findDOMNode(this),x],p=g[0],j=g[1],y=this.getTimeouts(),S=x?y.appear:y.enter;if(!d&&!h||ev.disabled){this.safeSetState({status:_n},function(){f.props.onEntered(p)});return}this.props.onEnter(p,j),this.safeSetState({status:qa},function(){f.props.onEntering(p,j),f.onTransitionEnd(S,function(){f.safeSetState({status:_n},function(){f.props.onEntered(p,j)})})})},r.performExit=function(){var d=this,f=this.props.exit,h=this.getTimeouts(),x=this.props.nodeRef?void 0:Ul.findDOMNode(this);if(!f||ev.disabled){this.safeSetState({status:hs},function(){d.props.onExited(x)});return}this.props.onExit(x),this.safeSetState({status:lr},function(){d.props.onExiting(x),d.onTransitionEnd(h.exit,function(){d.safeSetState({status:hs},function(){d.props.onExited(x)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(d,f){f=this.setNextCallback(f),this.setState(d,f)},r.setNextCallback=function(d){var f=this,h=!0;return this.nextCallback=function(x){h&&(h=!1,f.nextCallback=null,d(x))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},r.onTransitionEnd=function(d,f){this.setNextCallback(f);var h=this.props.nodeRef?this.props.nodeRef.current:Ul.findDOMNode(this),x=d==null&&!this.props.addEndListener;if(!h||x){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],p=g[0],j=g[1];this.props.addEndListener(p,j)}d!=null&&setTimeout(this.nextCallback,d)},r.render=function(){var d=this.state.status;if(d===er)return null;var f=this.props,h=f.children;f.in,f.mountOnEnter,f.unmountOnExit,f.appear,f.enter,f.exit,f.timeout,f.addEndListener,f.onEnter,f.onEntering,f.onEntered,f.onExit,f.onExiting,f.onExited,f.nodeRef;var x=ng(f,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ht.createElement(rg.Provider,{value:null},typeof h=="function"?h(d,x):Ht.cloneElement(Ht.Children.only(h),x))},i})(Ht.Component);kn.contextType=rg;kn.propTypes={};function $l(){}kn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$l,onEntering:$l,onEntered:$l,onExit:$l,onExiting:$l,onExited:$l};kn.UNMOUNTED=er;kn.EXITED=hs;kn.ENTERING=qa;kn.ENTERED=_n;kn.EXITING=lr;function tS(s){return s.code==="Escape"||s.keyCode===27}function aS(){const s=m.version.split(".");return{major:+s[0],minor:+s[1],patch:+s[2]}}function Jl(s){if(!s||typeof s=="function")return null;const{major:i}=aS();return i>=19?s.props.ref:s.ref}const Il=!!(typeof window<"u"&&window.document&&window.document.createElement);var ef=!1,tf=!1;try{var Bd={get passive(){return ef=!0},get once(){return tf=ef=!0}};Il&&(window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,!0))}catch{}function gf(s,i,r,c){if(c&&typeof c!="boolean"&&!tf){var d=c.once,f=c.capture,h=r;!tf&&d&&(h=r.__once||function x(g){this.removeEventListener(i,x,f),r.call(this,g)},r.__once=h),s.addEventListener(i,h,ef?c:f)}s.addEventListener(i,r,c)}function af(s,i,r,c){var d=c&&typeof c!="boolean"?c.capture:c;s.removeEventListener(i,r,d),r.__once&&s.removeEventListener(i,r.__once,d)}function xs(s,i,r,c){return gf(s,i,r,c),function(){af(s,i,r,c)}}function nS(s,i,r,c){if(c===void 0&&(c=!0),s){var d=document.createEvent("HTMLEvents");d.initEvent(i,r,c),s.dispatchEvent(d)}}function sS(s){var i=On(s,"transitionDuration")||"",r=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*r}function lS(s,i,r){r===void 0&&(r=5);var c=!1,d=setTimeout(function(){c||nS(s,"transitionend",!0)},i+r),f=xs(s,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),f()}}function cg(s,i,r,c){r==null&&(r=sS(s)||0);var d=lS(s,r,c),f=xs(s,"transitionend",i);return function(){d(),f()}}function tv(s,i){const r=On(s,i)||"",c=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*c}function bf(s,i){const r=tv(s,"transitionDuration"),c=tv(s,"transitionDelay"),d=cg(s,f=>{f.target===s&&(d(),i(f))},r+c)}function Pi(...s){return s.filter(i=>i!=null).reduce((i,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return i===null?r:function(...d){i.apply(this,d),r.apply(this,d)}},null)}function og(s){s.offsetHeight}const av=s=>!s||typeof s=="function"?s:i=>{s.current=i};function iS(s,i){const r=av(s),c=av(i);return d=>{r&&r(d),c&&c(d)}}function uo(s,i){return m.useMemo(()=>iS(s,i),[s,i])}function rS(s){return s&&"setState"in s?Ul.findDOMNode(s):s??null}const fo=Ht.forwardRef(({onEnter:s,onEntering:i,onEntered:r,onExit:c,onExiting:d,onExited:f,addEndListener:h,children:x,childRef:g,...p},j)=>{const y=m.useRef(null),S=uo(y,g),w=H=>{S(rS(H))},C=H=>z=>{H&&y.current&&H(y.current,z)},A=m.useCallback(C(s),[s]),E=m.useCallback(C(i),[i]),D=m.useCallback(C(r),[r]),T=m.useCallback(C(c),[c]),L=m.useCallback(C(d),[d]),_=m.useCallback(C(f),[f]),M=m.useCallback(C(h),[h]);return a.jsx(kn,{ref:j,...p,onEnter:A,onEntered:D,onEntering:E,onExit:T,onExited:_,onExiting:L,addEndListener:M,nodeRef:y,children:typeof x=="function"?(H,z)=>x(H,{...z,ref:w}):Ht.cloneElement(x,{ref:w})})});fo.displayName="TransitionWrapper";const cS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function oS(s,i){const r=`offset${s[0].toUpperCase()}${s.slice(1)}`,c=i[r],d=cS[s];return c+parseInt(On(i,d[0]),10)+parseInt(On(i,d[1]),10)}const uS={[hs]:"collapse",[lr]:"collapsing",[qa]:"collapsing",[_n]:"collapse show"},ug=Ht.forwardRef(({onEnter:s,onEntering:i,onEntered:r,onExit:c,onExiting:d,className:f,children:h,dimension:x="height",in:g=!1,timeout:p=300,mountOnEnter:j=!1,unmountOnExit:y=!1,appear:S=!1,getDimensionValue:w=oS,...C},A)=>{const E=typeof x=="function"?x():x,D=m.useMemo(()=>Pi(H=>{H.style[E]="0"},s),[E,s]),T=m.useMemo(()=>Pi(H=>{const z=`scroll${E[0].toUpperCase()}${E.slice(1)}`;H.style[E]=`${H[z]}px`},i),[E,i]),L=m.useMemo(()=>Pi(H=>{H.style[E]=null},r),[E,r]),_=m.useMemo(()=>Pi(H=>{H.style[E]=`${w(E,H)}px`,og(H)},c),[c,w,E]),M=m.useMemo(()=>Pi(H=>{H.style[E]=null},d),[E,d]);return a.jsx(fo,{ref:A,addEndListener:bf,...C,"aria-expanded":C.role?g:null,onEnter:D,onEntering:T,onEntered:L,onExit:_,onExiting:M,childRef:Jl(h),in:g,timeout:p,mountOnEnter:j,unmountOnExit:y,appear:S,children:(H,z)=>Ht.cloneElement(h,{...z,className:he(f,h.props.className,uS[H],E==="width"&&"collapse-horizontal")})})});ug.displayName="Collapse";function dS(s){const i=m.useRef(s);return m.useEffect(()=>{i.current=s},[s]),i}function Dn(s){const i=dS(s);return m.useCallback(function(...r){return i.current&&i.current(...r)},[i])}const xr=(s=>m.forwardRef((i,r)=>a.jsx("div",{...i,ref:r,className:he(i.className,s)}))),dg=xr("h4");dg.displayName="DivStyledAsH4";const fg=m.forwardRef(({className:s,bsPrefix:i,as:r=dg,...c},d)=>(i=ye(i,"alert-heading"),a.jsx(r,{ref:d,className:he(s,i),...c})));fg.displayName="AlertHeading";function fS(){return m.useState(null)}function mS(s){const i=m.useRef(s);return m.useEffect(()=>{i.current=s},[s]),i}function Xt(s){const i=mS(s);return m.useCallback(function(...r){return i.current&&i.current(...r)},[i])}function hS(s,i,r,c=!1){const d=Xt(r);m.useEffect(()=>{const f=typeof s=="function"?s():s;return f.addEventListener(i,d,c),()=>f.removeEventListener(i,d,c)},[s])}function mg(){const s=m.useRef(!0),i=m.useRef(()=>s.current);return m.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]),i.current}function hg(s){const i=m.useRef(null);return m.useEffect(()=>{i.current=s}),i.current}const pS=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",xS=typeof document<"u",nv=xS||pS?m.useLayoutEffect:m.useEffect,vS=["as","disabled"];function gS(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}function bS(s){return!s||s.trim()==="#"}function jf({tagName:s,disabled:i,href:r,target:c,rel:d,role:f,onClick:h,tabIndex:x=0,type:g}){s||(r!=null||c!=null||d!=null?s="a":s="button");const p={tagName:s};if(s==="button")return[{type:g||"button",disabled:i},p];const j=S=>{if((i||s==="a"&&bS(r))&&S.preventDefault(),i){S.stopPropagation();return}h?.(S)},y=S=>{S.key===" "&&(S.preventDefault(),j(S))};return s==="a"&&(r||(r="#"),i&&(r=void 0)),[{role:f??"button",disabled:void 0,tabIndex:i?void 0:x,href:r,target:s==="a"?c:void 0,"aria-disabled":i||void 0,rel:s==="a"?d:void 0,onClick:j,onKeyDown:y},p]}const yf=m.forwardRef((s,i)=>{let{as:r,disabled:c}=s,d=gS(s,vS);const[f,{tagName:h}]=jf(Object.assign({tagName:r,disabled:c},d));return a.jsx(h,Object.assign({},d,f,{ref:i}))});yf.displayName="Button";const jS=["onKeyDown"];function yS(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}function NS(s){return!s||s.trim()==="#"}const vr=m.forwardRef((s,i)=>{let{onKeyDown:r}=s,c=yS(s,jS);const[d]=jf(Object.assign({tagName:"a"},c)),f=Xt(h=>{d.onKeyDown(h),r?.(h)});return NS(c.href)||c.role==="button"?a.jsx("a",Object.assign({ref:i},c,d,{onKeyDown:f})):a.jsx("a",Object.assign({ref:i},c,{onKeyDown:r}))});vr.displayName="Anchor";const pg=m.forwardRef(({className:s,bsPrefix:i,as:r=vr,...c},d)=>(i=ye(i,"alert-link"),a.jsx(r,{ref:d,className:he(s,i),...c})));pg.displayName="AlertLink";const SS={[qa]:"show",[_n]:"show"},gs=m.forwardRef(({className:s,children:i,transitionClasses:r={},onEnter:c,...d},f)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},x=m.useCallback((g,p)=>{og(g),c?.(g,p)},[c]);return a.jsx(fo,{ref:f,addEndListener:bf,...h,onEnter:x,childRef:Jl(i),children:(g,p)=>m.cloneElement(i,{...p,className:he("fade",s,i.props.className,SS[g],r[g])})})});gs.displayName="Fade";const ES={"aria-label":Ft.string,onClick:Ft.func,variant:Ft.oneOf(["white"])},mo=m.forwardRef(({className:s,variant:i,"aria-label":r="Close",...c},d)=>a.jsx("button",{ref:d,type:"button",className:he("btn-close",i&&`btn-close-${i}`,s),"aria-label":r,...c}));mo.displayName="CloseButton";mo.propTypes=ES;const xg=m.forwardRef((s,i)=>{const{bsPrefix:r,show:c=!0,closeLabel:d="Close alert",closeVariant:f,className:h,children:x,variant:g="primary",onClose:p,dismissible:j,transition:y=gs,...S}=Zl(s,{show:"onClose"}),w=ye(r,"alert"),C=Dn(D=>{p&&p(!1,D)}),A=y===!0?gs:y,E=a.jsxs("div",{role:"alert",...A?void 0:S,ref:i,className:he(h,w,g&&`${w}-${g}`,j&&`${w}-dismissible`),children:[j&&a.jsx(mo,{onClick:C,"aria-label":d,variant:f}),x]});return A?a.jsx(A,{unmountOnExit:!0,...S,ref:void 0,in:c,children:E}):c?E:null});xg.displayName="Alert";const st=Object.assign(xg,{Link:pg,Heading:fg}),Le=m.forwardRef(({bsPrefix:s,bg:i="primary",pill:r=!1,text:c,className:d,as:f="span",...h},x)=>{const g=ye(s,"badge");return a.jsx(f,{ref:x,...h,className:he(d,g,r&&"rounded-pill",c&&`text-${c}`,i&&`bg-${i}`)})});Le.displayName="Badge";const be=m.forwardRef(({as:s,bsPrefix:i,variant:r="primary",size:c,active:d=!1,disabled:f=!1,className:h,...x},g)=>{const p=ye(i,"btn"),[j,{tagName:y}]=jf({tagName:s,disabled:f,...x}),S=y;return a.jsx(S,{...j,...x,ref:g,disabled:f,className:he(h,p,d&&"active",r&&`${p}-${r}`,c&&`${p}-${c}`,x.href&&f&&"disabled")})});be.displayName="Button";const Pc=m.forwardRef(({bsPrefix:s,size:i,vertical:r=!1,className:c,role:d="group",as:f="div",...h},x)=>{const g=ye(s,"btn-group");let p=g;return r&&(p=`${g}-vertical`),a.jsx(f,{...h,ref:x,role:d,className:he(c,p,i&&`${g}-${i}`)})});Pc.displayName="ButtonGroup";const Nf=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"card-body"),a.jsx(r,{ref:d,className:he(s,i),...c})));Nf.displayName="CardBody";const vg=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"card-footer"),a.jsx(r,{ref:d,className:he(s,i),...c})));vg.displayName="CardFooter";const Sf=m.createContext(null);Sf.displayName="CardHeaderContext";const gg=m.forwardRef(({bsPrefix:s,className:i,as:r="div",...c},d)=>{const f=ye(s,"card-header"),h=m.useMemo(()=>({cardHeaderBsPrefix:f}),[f]);return a.jsx(Sf.Provider,{value:h,children:a.jsx(r,{ref:d,...c,className:he(i,f)})})});gg.displayName="CardHeader";const bg=m.forwardRef(({bsPrefix:s,className:i,variant:r,as:c="img",...d},f)=>{const h=ye(s,"card-img");return a.jsx(c,{ref:f,className:he(r?`${h}-${r}`:h,i),...d})});bg.displayName="CardImg";const jg=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"card-img-overlay"),a.jsx(r,{ref:d,className:he(s,i),...c})));jg.displayName="CardImgOverlay";const yg=m.forwardRef(({className:s,bsPrefix:i,as:r="a",...c},d)=>(i=ye(i,"card-link"),a.jsx(r,{ref:d,className:he(s,i),...c})));yg.displayName="CardLink";const CS=xr("h6"),Ng=m.forwardRef(({className:s,bsPrefix:i,as:r=CS,...c},d)=>(i=ye(i,"card-subtitle"),a.jsx(r,{ref:d,className:he(s,i),...c})));Ng.displayName="CardSubtitle";const Sg=m.forwardRef(({className:s,bsPrefix:i,as:r="p",...c},d)=>(i=ye(i,"card-text"),a.jsx(r,{ref:d,className:he(s,i),...c})));Sg.displayName="CardText";const wS=xr("h5"),Eg=m.forwardRef(({className:s,bsPrefix:i,as:r=wS,...c},d)=>(i=ye(i,"card-title"),a.jsx(r,{ref:d,className:he(s,i),...c})));Eg.displayName="CardTitle";const Cg=m.forwardRef(({bsPrefix:s,className:i,bg:r,text:c,border:d,body:f=!1,children:h,as:x="div",...g},p)=>{const j=ye(s,"card");return a.jsx(x,{ref:p,...g,className:he(i,j,r&&`bg-${r}`,c&&`text-${c}`,d&&`border-${d}`),children:f?a.jsx(Nf,{children:h}):h})});Cg.displayName="Card";const fe=Object.assign(Cg,{Img:bg,Title:Eg,Subtitle:Ng,Body:Nf,Link:yg,Text:Sg,Header:gg,Footer:vg,ImgOverlay:jg});function TS(s){const i=m.useRef(s);return i.current=s,i}function _S(s){const i=TS(s);m.useEffect(()=>()=>i.current(),[])}function nf(s,i){let r=0;return m.Children.map(s,c=>m.isValidElement(c)?i(c,r++):c)}function AS(s,i){let r=0;m.Children.forEach(s,c=>{m.isValidElement(c)&&i(c,r++)})}function OS(s,i){return m.Children.toArray(s).some(r=>m.isValidElement(r)&&r.type===i)}function RS({as:s,bsPrefix:i,className:r,...c}){i=ye(i,"col");const d=sg(),f=lg(),h=[],x=[];return d.forEach(g=>{const p=c[g];delete c[g];let j,y,S;typeof p=="object"&&p!=null?{span:j,offset:y,order:S}=p:j=p;const w=g!==f?`-${g}`:"";j&&h.push(j===!0?`${i}${w}`:`${i}${w}-${j}`),S!=null&&x.push(`order${w}-${S}`),y!=null&&x.push(`offset${w}-${y}`)}),[{...c,className:he(r,...h,...x)},{as:s,bsPrefix:i,spans:h}]}const ve=m.forwardRef((s,i)=>{const[{className:r,...c},{as:d="div",bsPrefix:f,spans:h}]=RS(s);return a.jsx(d,{...c,ref:i,className:he(r,!h.length&&f)})});ve.displayName="Col";const zt=m.forwardRef(({bsPrefix:s,fluid:i=!1,as:r="div",className:c,...d},f)=>{const h=ye(s,"container"),x=typeof i=="string"?`-${i}`:"-fluid";return a.jsx(r,{ref:f,...d,className:he(c,i?`${h}${x}`:h)})});zt.displayName="Container";var DS=Function.prototype.bind.call(Function.prototype.call,[].slice);function Tn(s,i){return DS(s.querySelectorAll(i))}function wg(s,i,r){const c=m.useRef(s!==void 0),[d,f]=m.useState(i),h=s!==void 0,x=c.current;return c.current=h,!h&&x&&d!==i&&f(i),[h?s:d,m.useCallback((...g)=>{const[p,...j]=g;let y=r?.(p,...j);return f(p),y},[r])]}function Tg(){const[,s]=m.useReducer(i=>i+1,0);return s}const ho=m.createContext(null);var sv=Object.prototype.hasOwnProperty;function lv(s,i,r){for(r of s.keys())if(tr(r,i))return r}function tr(s,i){var r,c,d;if(s===i)return!0;if(s&&i&&(r=s.constructor)===i.constructor){if(r===Date)return s.getTime()===i.getTime();if(r===RegExp)return s.toString()===i.toString();if(r===Array){if((c=s.length)===i.length)for(;c--&&tr(s[c],i[c]););return c===-1}if(r===Set){if(s.size!==i.size)return!1;for(c of s)if(d=c,d&&typeof d=="object"&&(d=lv(i,d),!d)||!i.has(d))return!1;return!0}if(r===Map){if(s.size!==i.size)return!1;for(c of s)if(d=c[0],d&&typeof d=="object"&&(d=lv(i,d),!d)||!tr(c[1],i.get(d)))return!1;return!0}if(r===ArrayBuffer)s=new Uint8Array(s),i=new Uint8Array(i);else if(r===DataView){if((c=s.byteLength)===i.byteLength)for(;c--&&s.getInt8(c)===i.getInt8(c););return c===-1}if(ArrayBuffer.isView(s)){if((c=s.byteLength)===i.byteLength)for(;c--&&s[c]===i[c];);return c===-1}if(!r||typeof s=="object"){c=0;for(r in s)if(sv.call(s,r)&&++c&&!sv.call(i,r)||!(r in i)||!tr(s[r],i[r]))return!1;return Object.keys(i).length===c}}return s!==s&&i!==i}function MS(s){const i=mg();return[s[0],m.useCallback(r=>{if(i())return s[1](r)},[i,s[1]])]}var ra="top",_a="bottom",Aa="right",ca="left",Ef="auto",gr=[ra,_a,Aa,ca],Hl="start",ir="end",zS="clippingParents",_g="viewport",Wi="popper",kS="reference",iv=gr.reduce(function(s,i){return s.concat([i+"-"+Hl,i+"-"+ir])},[]),Ag=[].concat(gr,[Ef]).reduce(function(s,i){return s.concat([i,i+"-"+Hl,i+"-"+ir])},[]),LS="beforeRead",$S="read",BS="afterRead",US="beforeMain",HS="main",qS="afterMain",GS="beforeWrite",YS="write",VS="afterWrite",FS=[LS,$S,BS,US,HS,qS,GS,YS,VS];function Wa(s){return s.split("-")[0]}function va(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var i=s.ownerDocument;return i&&i.defaultView||window}return s}function Qs(s){var i=va(s).Element;return s instanceof i||s instanceof Element}function en(s){var i=va(s).HTMLElement;return s instanceof i||s instanceof HTMLElement}function Cf(s){if(typeof ShadowRoot>"u")return!1;var i=va(s).ShadowRoot;return s instanceof i||s instanceof ShadowRoot}var Fs=Math.max,Wc=Math.min,ql=Math.round;function sf(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function Og(){return!/^((?!chrome|android).)*safari/i.test(sf())}function Gl(s,i,r){i===void 0&&(i=!1),r===void 0&&(r=!1);var c=s.getBoundingClientRect(),d=1,f=1;i&&en(s)&&(d=s.offsetWidth>0&&ql(c.width)/s.offsetWidth||1,f=s.offsetHeight>0&&ql(c.height)/s.offsetHeight||1);var h=Qs(s)?va(s):window,x=h.visualViewport,g=!Og()&&r,p=(c.left+(g&&x?x.offsetLeft:0))/d,j=(c.top+(g&&x?x.offsetTop:0))/f,y=c.width/d,S=c.height/f;return{width:y,height:S,top:j,right:p+y,bottom:j+S,left:p,x:p,y:j}}function wf(s){var i=Gl(s),r=s.offsetWidth,c=s.offsetHeight;return Math.abs(i.width-r)<=1&&(r=i.width),Math.abs(i.height-c)<=1&&(c=i.height),{x:s.offsetLeft,y:s.offsetTop,width:r,height:c}}function Rg(s,i){var r=i.getRootNode&&i.getRootNode();if(s.contains(i))return!0;if(r&&Cf(r)){var c=i;do{if(c&&s.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function bs(s){return s?(s.nodeName||"").toLowerCase():null}function Mn(s){return va(s).getComputedStyle(s)}function XS(s){return["table","td","th"].indexOf(bs(s))>=0}function Ns(s){return((Qs(s)?s.ownerDocument:s.document)||window.document).documentElement}function po(s){return bs(s)==="html"?s:s.assignedSlot||s.parentNode||(Cf(s)?s.host:null)||Ns(s)}function rv(s){return!en(s)||Mn(s).position==="fixed"?null:s.offsetParent}function QS(s){var i=/firefox/i.test(sf()),r=/Trident/i.test(sf());if(r&&en(s)){var c=Mn(s);if(c.position==="fixed")return null}var d=po(s);for(Cf(d)&&(d=d.host);en(d)&&["html","body"].indexOf(bs(d))<0;){var f=Mn(d);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||i&&f.willChange==="filter"||i&&f.filter&&f.filter!=="none")return d;d=d.parentNode}return null}function br(s){for(var i=va(s),r=rv(s);r&&XS(r)&&Mn(r).position==="static";)r=rv(r);return r&&(bs(r)==="html"||bs(r)==="body"&&Mn(r).position==="static")?i:r||QS(s)||i}function Tf(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function ar(s,i,r){return Fs(s,Wc(i,r))}function KS(s,i,r){var c=ar(s,i,r);return c>r?r:c}function Dg(){return{top:0,right:0,bottom:0,left:0}}function Mg(s){return Object.assign({},Dg(),s)}function zg(s,i){return i.reduce(function(r,c){return r[c]=s,r},{})}var ZS=function(i,r){return i=typeof i=="function"?i(Object.assign({},r.rects,{placement:r.placement})):i,Mg(typeof i!="number"?i:zg(i,gr))};function JS(s){var i,r=s.state,c=s.name,d=s.options,f=r.elements.arrow,h=r.modifiersData.popperOffsets,x=Wa(r.placement),g=Tf(x),p=[ca,Aa].indexOf(x)>=0,j=p?"height":"width";if(!(!f||!h)){var y=ZS(d.padding,r),S=wf(f),w=g==="y"?ra:ca,C=g==="y"?_a:Aa,A=r.rects.reference[j]+r.rects.reference[g]-h[g]-r.rects.popper[j],E=h[g]-r.rects.reference[g],D=br(f),T=D?g==="y"?D.clientHeight||0:D.clientWidth||0:0,L=A/2-E/2,_=y[w],M=T-S[j]-y[C],H=T/2-S[j]/2+L,z=ar(_,H,M),B=g;r.modifiersData[c]=(i={},i[B]=z,i.centerOffset=z-H,i)}}function IS(s){var i=s.state,r=s.options,c=r.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=i.elements.popper.querySelector(d),!d)||Rg(i.elements.popper,d)&&(i.elements.arrow=d))}const PS={name:"arrow",enabled:!0,phase:"main",fn:JS,effect:IS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yl(s){return s.split("-")[1]}var WS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eE(s,i){var r=s.x,c=s.y,d=i.devicePixelRatio||1;return{x:ql(r*d)/d||0,y:ql(c*d)/d||0}}function cv(s){var i,r=s.popper,c=s.popperRect,d=s.placement,f=s.variation,h=s.offsets,x=s.position,g=s.gpuAcceleration,p=s.adaptive,j=s.roundOffsets,y=s.isFixed,S=h.x,w=S===void 0?0:S,C=h.y,A=C===void 0?0:C,E=typeof j=="function"?j({x:w,y:A}):{x:w,y:A};w=E.x,A=E.y;var D=h.hasOwnProperty("x"),T=h.hasOwnProperty("y"),L=ca,_=ra,M=window;if(p){var H=br(r),z="clientHeight",B="clientWidth";if(H===va(r)&&(H=Ns(r),Mn(H).position!=="static"&&x==="absolute"&&(z="scrollHeight",B="scrollWidth")),H=H,d===ra||(d===ca||d===Aa)&&f===ir){_=_a;var J=y&&H===M&&M.visualViewport?M.visualViewport.height:H[z];A-=J-c.height,A*=g?1:-1}if(d===ca||(d===ra||d===_a)&&f===ir){L=Aa;var q=y&&H===M&&M.visualViewport?M.visualViewport.width:H[B];w-=q-c.width,w*=g?1:-1}}var X=Object.assign({position:x},p&&WS),P=j===!0?eE({x:w,y:A},va(r)):{x:w,y:A};if(w=P.x,A=P.y,g){var te;return Object.assign({},X,(te={},te[_]=T?"0":"",te[L]=D?"0":"",te.transform=(M.devicePixelRatio||1)<=1?"translate("+w+"px, "+A+"px)":"translate3d("+w+"px, "+A+"px, 0)",te))}return Object.assign({},X,(i={},i[_]=T?A+"px":"",i[L]=D?w+"px":"",i.transform="",i))}function tE(s){var i=s.state,r=s.options,c=r.gpuAcceleration,d=c===void 0?!0:c,f=r.adaptive,h=f===void 0?!0:f,x=r.roundOffsets,g=x===void 0?!0:x,p={placement:Wa(i.placement),variation:Yl(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:d,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,cv(Object.assign({},p,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:h,roundOffsets:g})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,cv(Object.assign({},p,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}const aE={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tE,data:{}};var Yc={passive:!0};function nE(s){var i=s.state,r=s.instance,c=s.options,d=c.scroll,f=d===void 0?!0:d,h=c.resize,x=h===void 0?!0:h,g=va(i.elements.popper),p=[].concat(i.scrollParents.reference,i.scrollParents.popper);return f&&p.forEach(function(j){j.addEventListener("scroll",r.update,Yc)}),x&&g.addEventListener("resize",r.update,Yc),function(){f&&p.forEach(function(j){j.removeEventListener("scroll",r.update,Yc)}),x&&g.removeEventListener("resize",r.update,Yc)}}const sE={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nE,data:{}};var lE={left:"right",right:"left",bottom:"top",top:"bottom"};function Jc(s){return s.replace(/left|right|bottom|top/g,function(i){return lE[i]})}var iE={start:"end",end:"start"};function ov(s){return s.replace(/start|end/g,function(i){return iE[i]})}function _f(s){var i=va(s),r=i.pageXOffset,c=i.pageYOffset;return{scrollLeft:r,scrollTop:c}}function Af(s){return Gl(Ns(s)).left+_f(s).scrollLeft}function rE(s,i){var r=va(s),c=Ns(s),d=r.visualViewport,f=c.clientWidth,h=c.clientHeight,x=0,g=0;if(d){f=d.width,h=d.height;var p=Og();(p||!p&&i==="fixed")&&(x=d.offsetLeft,g=d.offsetTop)}return{width:f,height:h,x:x+Af(s),y:g}}function cE(s){var i,r=Ns(s),c=_f(s),d=(i=s.ownerDocument)==null?void 0:i.body,f=Fs(r.scrollWidth,r.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),h=Fs(r.scrollHeight,r.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),x=-c.scrollLeft+Af(s),g=-c.scrollTop;return Mn(d||r).direction==="rtl"&&(x+=Fs(r.clientWidth,d?d.clientWidth:0)-f),{width:f,height:h,x,y:g}}function Of(s){var i=Mn(s),r=i.overflow,c=i.overflowX,d=i.overflowY;return/auto|scroll|overlay|hidden/.test(r+d+c)}function kg(s){return["html","body","#document"].indexOf(bs(s))>=0?s.ownerDocument.body:en(s)&&Of(s)?s:kg(po(s))}function nr(s,i){var r;i===void 0&&(i=[]);var c=kg(s),d=c===((r=s.ownerDocument)==null?void 0:r.body),f=va(c),h=d?[f].concat(f.visualViewport||[],Of(c)?c:[]):c,x=i.concat(h);return d?x:x.concat(nr(po(h)))}function lf(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function oE(s,i){var r=Gl(s,!1,i==="fixed");return r.top=r.top+s.clientTop,r.left=r.left+s.clientLeft,r.bottom=r.top+s.clientHeight,r.right=r.left+s.clientWidth,r.width=s.clientWidth,r.height=s.clientHeight,r.x=r.left,r.y=r.top,r}function uv(s,i,r){return i===_g?lf(rE(s,r)):Qs(i)?oE(i,r):lf(cE(Ns(s)))}function uE(s){var i=nr(po(s)),r=["absolute","fixed"].indexOf(Mn(s).position)>=0,c=r&&en(s)?br(s):s;return Qs(c)?i.filter(function(d){return Qs(d)&&Rg(d,c)&&bs(d)!=="body"}):[]}function dE(s,i,r,c){var d=i==="clippingParents"?uE(s):[].concat(i),f=[].concat(d,[r]),h=f[0],x=f.reduce(function(g,p){var j=uv(s,p,c);return g.top=Fs(j.top,g.top),g.right=Wc(j.right,g.right),g.bottom=Wc(j.bottom,g.bottom),g.left=Fs(j.left,g.left),g},uv(s,h,c));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function Lg(s){var i=s.reference,r=s.element,c=s.placement,d=c?Wa(c):null,f=c?Yl(c):null,h=i.x+i.width/2-r.width/2,x=i.y+i.height/2-r.height/2,g;switch(d){case ra:g={x:h,y:i.y-r.height};break;case _a:g={x:h,y:i.y+i.height};break;case Aa:g={x:i.x+i.width,y:x};break;case ca:g={x:i.x-r.width,y:x};break;default:g={x:i.x,y:i.y}}var p=d?Tf(d):null;if(p!=null){var j=p==="y"?"height":"width";switch(f){case Hl:g[p]=g[p]-(i[j]/2-r[j]/2);break;case ir:g[p]=g[p]+(i[j]/2-r[j]/2);break}}return g}function rr(s,i){i===void 0&&(i={});var r=i,c=r.placement,d=c===void 0?s.placement:c,f=r.strategy,h=f===void 0?s.strategy:f,x=r.boundary,g=x===void 0?zS:x,p=r.rootBoundary,j=p===void 0?_g:p,y=r.elementContext,S=y===void 0?Wi:y,w=r.altBoundary,C=w===void 0?!1:w,A=r.padding,E=A===void 0?0:A,D=Mg(typeof E!="number"?E:zg(E,gr)),T=S===Wi?kS:Wi,L=s.rects.popper,_=s.elements[C?T:S],M=dE(Qs(_)?_:_.contextElement||Ns(s.elements.popper),g,j,h),H=Gl(s.elements.reference),z=Lg({reference:H,element:L,placement:d}),B=lf(Object.assign({},L,z)),J=S===Wi?B:H,q={top:M.top-J.top+D.top,bottom:J.bottom-M.bottom+D.bottom,left:M.left-J.left+D.left,right:J.right-M.right+D.right},X=s.modifiersData.offset;if(S===Wi&&X){var P=X[d];Object.keys(q).forEach(function(te){var de=[Aa,_a].indexOf(te)>=0?1:-1,pe=[ra,_a].indexOf(te)>=0?"y":"x";q[te]+=P[pe]*de})}return q}function fE(s,i){i===void 0&&(i={});var r=i,c=r.placement,d=r.boundary,f=r.rootBoundary,h=r.padding,x=r.flipVariations,g=r.allowedAutoPlacements,p=g===void 0?Ag:g,j=Yl(c),y=j?x?iv:iv.filter(function(C){return Yl(C)===j}):gr,S=y.filter(function(C){return p.indexOf(C)>=0});S.length===0&&(S=y);var w=S.reduce(function(C,A){return C[A]=rr(s,{placement:A,boundary:d,rootBoundary:f,padding:h})[Wa(A)],C},{});return Object.keys(w).sort(function(C,A){return w[C]-w[A]})}function mE(s){if(Wa(s)===Ef)return[];var i=Jc(s);return[ov(s),i,ov(i)]}function hE(s){var i=s.state,r=s.options,c=s.name;if(!i.modifiersData[c]._skip){for(var d=r.mainAxis,f=d===void 0?!0:d,h=r.altAxis,x=h===void 0?!0:h,g=r.fallbackPlacements,p=r.padding,j=r.boundary,y=r.rootBoundary,S=r.altBoundary,w=r.flipVariations,C=w===void 0?!0:w,A=r.allowedAutoPlacements,E=i.options.placement,D=Wa(E),T=D===E,L=g||(T||!C?[Jc(E)]:mE(E)),_=[E].concat(L).reduce(function(ee,oe){return ee.concat(Wa(oe)===Ef?fE(i,{placement:oe,boundary:j,rootBoundary:y,padding:p,flipVariations:C,allowedAutoPlacements:A}):oe)},[]),M=i.rects.reference,H=i.rects.popper,z=new Map,B=!0,J=_[0],q=0;q<_.length;q++){var X=_[q],P=Wa(X),te=Yl(X)===Hl,de=[ra,_a].indexOf(P)>=0,pe=de?"width":"height",V=rr(i,{placement:X,boundary:j,rootBoundary:y,altBoundary:S,padding:p}),ne=de?te?Aa:ca:te?_a:ra;M[pe]>H[pe]&&(ne=Jc(ne));var ce=Jc(ne),ge=[];if(f&&ge.push(V[P]<=0),x&&ge.push(V[ne]<=0,V[ce]<=0),ge.every(function(ee){return ee})){J=X,B=!1;break}z.set(X,ge)}if(B)for(var U=C?3:1,b=function(oe){var je=_.find(function(G){var re=z.get(G);if(re)return re.slice(0,oe).every(function(me){return me})});if(je)return J=je,"break"},O=U;O>0;O--){var I=b(O);if(I==="break")break}i.placement!==J&&(i.modifiersData[c]._skip=!0,i.placement=J,i.reset=!0)}}const pE={name:"flip",enabled:!0,phase:"main",fn:hE,requiresIfExists:["offset"],data:{_skip:!1}};function dv(s,i,r){return r===void 0&&(r={x:0,y:0}),{top:s.top-i.height-r.y,right:s.right-i.width+r.x,bottom:s.bottom-i.height+r.y,left:s.left-i.width-r.x}}function fv(s){return[ra,Aa,_a,ca].some(function(i){return s[i]>=0})}function xE(s){var i=s.state,r=s.name,c=i.rects.reference,d=i.rects.popper,f=i.modifiersData.preventOverflow,h=rr(i,{elementContext:"reference"}),x=rr(i,{altBoundary:!0}),g=dv(h,c),p=dv(x,d,f),j=fv(g),y=fv(p);i.modifiersData[r]={referenceClippingOffsets:g,popperEscapeOffsets:p,isReferenceHidden:j,hasPopperEscaped:y},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":j,"data-popper-escaped":y})}const vE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xE};function gE(s,i,r){var c=Wa(s),d=[ca,ra].indexOf(c)>=0?-1:1,f=typeof r=="function"?r(Object.assign({},i,{placement:s})):r,h=f[0],x=f[1];return h=h||0,x=(x||0)*d,[ca,Aa].indexOf(c)>=0?{x,y:h}:{x:h,y:x}}function bE(s){var i=s.state,r=s.options,c=s.name,d=r.offset,f=d===void 0?[0,0]:d,h=Ag.reduce(function(j,y){return j[y]=gE(y,i.rects,f),j},{}),x=h[i.placement],g=x.x,p=x.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=g,i.modifiersData.popperOffsets.y+=p),i.modifiersData[c]=h}const jE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bE};function yE(s){var i=s.state,r=s.name;i.modifiersData[r]=Lg({reference:i.rects.reference,element:i.rects.popper,placement:i.placement})}const NE={name:"popperOffsets",enabled:!0,phase:"read",fn:yE,data:{}};function SE(s){return s==="x"?"y":"x"}function EE(s){var i=s.state,r=s.options,c=s.name,d=r.mainAxis,f=d===void 0?!0:d,h=r.altAxis,x=h===void 0?!1:h,g=r.boundary,p=r.rootBoundary,j=r.altBoundary,y=r.padding,S=r.tether,w=S===void 0?!0:S,C=r.tetherOffset,A=C===void 0?0:C,E=rr(i,{boundary:g,rootBoundary:p,padding:y,altBoundary:j}),D=Wa(i.placement),T=Yl(i.placement),L=!T,_=Tf(D),M=SE(_),H=i.modifiersData.popperOffsets,z=i.rects.reference,B=i.rects.popper,J=typeof A=="function"?A(Object.assign({},i.rects,{placement:i.placement})):A,q=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),X=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,P={x:0,y:0};if(H){if(f){var te,de=_==="y"?ra:ca,pe=_==="y"?_a:Aa,V=_==="y"?"height":"width",ne=H[_],ce=ne+E[de],ge=ne-E[pe],U=w?-B[V]/2:0,b=T===Hl?z[V]:B[V],O=T===Hl?-B[V]:-z[V],I=i.elements.arrow,ee=w&&I?wf(I):{width:0,height:0},oe=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:Dg(),je=oe[de],G=oe[pe],re=ar(0,z[V],ee[V]),me=L?z[V]/2-U-re-je-q.mainAxis:b-re-je-q.mainAxis,_e=L?-z[V]/2+U+re+G+q.mainAxis:O+re+G+q.mainAxis,De=i.elements.arrow&&br(i.elements.arrow),ft=De?_==="y"?De.clientTop||0:De.clientLeft||0:0,pt=(te=X?.[_])!=null?te:0,xt=ne+me-pt-ft,Ge=ne+_e-pt,Et=ar(w?Wc(ce,xt):ce,ne,w?Fs(ge,Ge):ge);H[_]=Et,P[_]=Et-ne}if(x){var Je,Ra=_==="x"?ra:ca,vt=_==="x"?_a:Aa,se=H[M],xe=M==="y"?"height":"width",we=se+E[Ra],yt=se-E[vt],Re=[ra,ca].indexOf(D)!==-1,Jt=(Je=X?.[M])!=null?Je:0,Oe=Re?we:se-z[xe]-B[xe]-Jt+q.altAxis,at=Re?se+z[xe]+B[xe]-Jt-q.altAxis:yt,ga=w&&Re?KS(Oe,se,at):ar(w?Oe:we,se,w?at:yt);H[M]=ga,P[M]=ga-se}i.modifiersData[c]=P}}const CE={name:"preventOverflow",enabled:!0,phase:"main",fn:EE,requiresIfExists:["offset"]};function wE(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function TE(s){return s===va(s)||!en(s)?_f(s):wE(s)}function _E(s){var i=s.getBoundingClientRect(),r=ql(i.width)/s.offsetWidth||1,c=ql(i.height)/s.offsetHeight||1;return r!==1||c!==1}function AE(s,i,r){r===void 0&&(r=!1);var c=en(i),d=en(i)&&_E(i),f=Ns(i),h=Gl(s,d,r),x={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(c||!c&&!r)&&((bs(i)!=="body"||Of(f))&&(x=TE(i)),en(i)?(g=Gl(i,!0),g.x+=i.clientLeft,g.y+=i.clientTop):f&&(g.x=Af(f))),{x:h.left+x.scrollLeft-g.x,y:h.top+x.scrollTop-g.y,width:h.width,height:h.height}}function OE(s){var i=new Map,r=new Set,c=[];s.forEach(function(f){i.set(f.name,f)});function d(f){r.add(f.name);var h=[].concat(f.requires||[],f.requiresIfExists||[]);h.forEach(function(x){if(!r.has(x)){var g=i.get(x);g&&d(g)}}),c.push(f)}return s.forEach(function(f){r.has(f.name)||d(f)}),c}function RE(s){var i=OE(s);return FS.reduce(function(r,c){return r.concat(i.filter(function(d){return d.phase===c}))},[])}function DE(s){var i;return function(){return i||(i=new Promise(function(r){Promise.resolve().then(function(){i=void 0,r(s())})})),i}}function ME(s){var i=s.reduce(function(r,c){var d=r[c.name];return r[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,r},{});return Object.keys(i).map(function(r){return i[r]})}var mv={placement:"bottom",modifiers:[],strategy:"absolute"};function hv(){for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return!i.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function zE(s){s===void 0&&(s={});var i=s,r=i.defaultModifiers,c=r===void 0?[]:r,d=i.defaultOptions,f=d===void 0?mv:d;return function(x,g,p){p===void 0&&(p=f);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},mv,f),modifiersData:{},elements:{reference:x,popper:g},attributes:{},styles:{}},y=[],S=!1,w={state:j,setOptions:function(D){var T=typeof D=="function"?D(j.options):D;A(),j.options=Object.assign({},f,j.options,T),j.scrollParents={reference:Qs(x)?nr(x):x.contextElement?nr(x.contextElement):[],popper:nr(g)};var L=RE(ME([].concat(c,j.options.modifiers)));return j.orderedModifiers=L.filter(function(_){return _.enabled}),C(),w.update()},forceUpdate:function(){if(!S){var D=j.elements,T=D.reference,L=D.popper;if(hv(T,L)){j.rects={reference:AE(T,br(L),j.options.strategy==="fixed"),popper:wf(L)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(q){return j.modifiersData[q.name]=Object.assign({},q.data)});for(var _=0;_<j.orderedModifiers.length;_++){if(j.reset===!0){j.reset=!1,_=-1;continue}var M=j.orderedModifiers[_],H=M.fn,z=M.options,B=z===void 0?{}:z,J=M.name;typeof H=="function"&&(j=H({state:j,options:B,name:J,instance:w})||j)}}}},update:DE(function(){return new Promise(function(E){w.forceUpdate(),E(j)})}),destroy:function(){A(),S=!0}};if(!hv(x,g))return w;w.setOptions(p).then(function(E){!S&&p.onFirstUpdate&&p.onFirstUpdate(E)});function C(){j.orderedModifiers.forEach(function(E){var D=E.name,T=E.options,L=T===void 0?{}:T,_=E.effect;if(typeof _=="function"){var M=_({state:j,name:D,instance:w,options:L}),H=function(){};y.push(M||H)}})}function A(){y.forEach(function(E){return E()}),y=[]}return w}}const kE=zE({defaultModifiers:[vE,NE,aE,sE,jE,pE,CE,PS]}),LE=["enabled","placement","strategy","modifiers"];function $E(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}const BE={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},UE={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:s})=>()=>{const{reference:i,popper:r}=s.elements;if("removeAttribute"in i){const c=(i.getAttribute("aria-describedby")||"").split(",").filter(d=>d.trim()!==r.id);c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}},fn:({state:s})=>{var i;const{popper:r,reference:c}=s.elements,d=(i=r.getAttribute("role"))==null?void 0:i.toLowerCase();if(r.id&&d==="tooltip"&&"setAttribute"in c){const f=c.getAttribute("aria-describedby");if(f&&f.split(",").indexOf(r.id)!==-1)return;c.setAttribute("aria-describedby",f?`${f},${r.id}`:r.id)}}},HE=[];function qE(s,i,r={}){let{enabled:c=!0,placement:d="bottom",strategy:f="absolute",modifiers:h=HE}=r,x=$E(r,LE);const g=m.useRef(h),p=m.useRef(),j=m.useCallback(()=>{var E;(E=p.current)==null||E.update()},[]),y=m.useCallback(()=>{var E;(E=p.current)==null||E.forceUpdate()},[]),[S,w]=MS(m.useState({placement:d,update:j,forceUpdate:y,attributes:{},styles:{popper:{},arrow:{}}})),C=m.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:E})=>{const D={},T={};Object.keys(E.elements).forEach(L=>{D[L]=E.styles[L],T[L]=E.attributes[L]}),w({state:E,styles:D,attributes:T,update:j,forceUpdate:y,placement:E.placement})}}),[j,y,w]),A=m.useMemo(()=>(tr(g.current,h)||(g.current=h),g.current),[h]);return m.useEffect(()=>{!p.current||!c||p.current.setOptions({placement:d,strategy:f,modifiers:[...A,C,BE]})},[f,d,C,c,A]),m.useEffect(()=>{if(!(!c||s==null||i==null))return p.current=kE(s,i,Object.assign({},x,{placement:d,strategy:f,modifiers:[...A,UE,C]})),()=>{p.current!=null&&(p.current.destroy(),p.current=void 0,w(E=>Object.assign({},E,{attributes:{},styles:{popper:{}}})))}},[c,s,i]),S}function eo(s,i){if(s.contains)return s.contains(i);if(s.compareDocumentPosition)return s===i||!!(s.compareDocumentPosition(i)&16)}var Ud,pv;function GE(){if(pv)return Ud;pv=1;var s=function(){};return Ud=s,Ud}var YE=GE();const VE=Xl(YE),xv=()=>{};function FE(s){return s.button===0}function XE(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}const Hd=s=>s&&("current"in s?s.current:s),vv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function QE(s,i=xv,{disabled:r,clickTrigger:c="click"}={}){const d=m.useRef(!1),f=m.useRef(!1),h=m.useCallback(p=>{const j=Hd(s);VE(!!j,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),d.current=!j||XE(p)||!FE(p)||!!eo(j,p.target)||f.current,f.current=!1},[s]),x=Xt(p=>{const j=Hd(s);j&&eo(j,p.target)?f.current=!0:f.current=!1}),g=Xt(p=>{d.current||i(p)});m.useEffect(()=>{var p,j;if(r||s==null)return;const y=pr(Hd(s)),S=y.defaultView||window;let w=(p=S.event)!=null?p:(j=S.parent)==null?void 0:j.event,C=null;vv[c]&&(C=xs(y,vv[c],x,!0));const A=xs(y,c,h,!0),E=xs(y,c,T=>{if(T===w){w=void 0;return}g(T)});let D=[];return"ontouchstart"in y.documentElement&&(D=[].slice.call(y.body.children).map(T=>xs(T,"mousemove",xv))),()=>{C?.(),A(),E(),D.forEach(T=>T())}},[s,r,c,h,x,g])}function KE(s){const i={};return Array.isArray(s)?(s?.forEach(r=>{i[r.name]=r}),i):s||i}function ZE(s={}){return Array.isArray(s)?s:Object.keys(s).map(i=>(s[i].name=i,s[i]))}function JE({enabled:s,enableEvents:i,placement:r,flip:c,offset:d,fixed:f,containerPadding:h,arrowElement:x,popperConfig:g={}}){var p,j,y,S,w;const C=KE(g.modifiers);return Object.assign({},g,{placement:r,enabled:s,strategy:f?"fixed":g.strategy,modifiers:ZE(Object.assign({},C,{eventListeners:{enabled:i,options:(p=C.eventListeners)==null?void 0:p.options},preventOverflow:Object.assign({},C.preventOverflow,{options:h?Object.assign({padding:h},(j=C.preventOverflow)==null?void 0:j.options):(y=C.preventOverflow)==null?void 0:y.options}),offset:{options:Object.assign({offset:d},(S=C.offset)==null?void 0:S.options)},arrow:Object.assign({},C.arrow,{enabled:!!x,options:Object.assign({},(w=C.arrow)==null?void 0:w.options,{element:x})}),flip:Object.assign({enabled:!!c},C.flip)}))})}const IE=["children","usePopper"];function PE(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}const WE=()=>{};function $g(s={}){const i=m.useContext(ho),[r,c]=fS(),d=m.useRef(!1),{flip:f,offset:h,rootCloseEvent:x,fixed:g=!1,placement:p,popperConfig:j={},enableEventListeners:y=!0,usePopper:S=!!i}=s,w=i?.show==null?!!s.show:i.show;w&&!d.current&&(d.current=!0);const C=H=>{i?.toggle(!1,H)},{placement:A,setMenu:E,menuElement:D,toggleElement:T}=i||{},L=qE(T,D,JE({placement:p||A||"bottom-start",enabled:S,enableEvents:y??w,offset:h,flip:f,fixed:g,arrowElement:r,popperConfig:j})),_=Object.assign({ref:E||WE,"aria-labelledby":T?.id},L.attributes.popper,{style:L.styles.popper}),M={show:w,placement:A,hasShown:d.current,toggle:i?.toggle,popper:S?L:null,arrowProps:S?Object.assign({ref:c},L.attributes.arrow,{style:L.styles.arrow}):{}};return QE(D,C,{clickTrigger:x,disabled:!w}),[_,M]}function Bg(s){let{children:i,usePopper:r=!0}=s,c=PE(s,IE);const[d,f]=$g(Object.assign({},c,{usePopper:r}));return a.jsx(a.Fragment,{children:i(d,f)})}Bg.displayName="DropdownMenu";const Ug={prefix:String(Math.round(Math.random()*1e10)),current:0},Hg=Ht.createContext(Ug),eC=Ht.createContext(!1);let qd=new WeakMap;function tC(s=!1){let i=m.useContext(Hg),r=m.useRef(null);if(r.current===null&&!s){var c,d;let f=(d=Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||d===void 0||(c=d.ReactCurrentOwner)===null||c===void 0?void 0:c.current;if(f){let h=qd.get(f);h==null?qd.set(f,{id:i.current,state:f.memoizedState}):f.memoizedState!==h.state&&(i.current=h.id,qd.delete(f))}r.current=++i.current}return r.current}function aC(s){let i=m.useContext(Hg),r=tC(!!s),c=`react-aria${i.prefix}`;return s||`${c}-${r}`}function nC(s){let i=Ht.useId(),[r]=m.useState(rC()),c=r?"react-aria":`react-aria${Ug.prefix}`;return s||`${c}-${i}`}const qg=typeof Ht.useId=="function"?nC:aC;function sC(){return!1}function lC(){return!0}function iC(s){return()=>{}}function rC(){return typeof Ht.useSyncExternalStore=="function"?Ht.useSyncExternalStore(iC,sC,lC):m.useContext(eC)}const Gg=s=>{var i;return((i=s.getAttribute("role"))==null?void 0:i.toLowerCase())==="menu"},gv=()=>{};function Yg(){const s=qg(),{show:i=!1,toggle:r=gv,setToggle:c,menuElement:d}=m.useContext(ho)||{},f=m.useCallback(x=>{r(!i,x)},[i,r]),h={id:s,ref:c||gv,onClick:f,"aria-expanded":!!i};return d&&Gg(d)&&(h["aria-haspopup"]=!0),[h,{show:i,toggle:r}]}function Vg({children:s}){const[i,r]=Yg();return a.jsx(a.Fragment,{children:s(i,r)})}Vg.displayName="DropdownToggle";const an=m.createContext(null),js=(s,i=null)=>s!=null?String(s):i||null,xo=m.createContext(null);xo.displayName="NavContext";const cC="data-rr-ui-",oC="rrUi";function Pl(s){return`${cC}${s}`}function uC(s){return`${oC}${s}`}const dC=["eventKey","disabled","onClick","active","as"];function fC(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}function Fg({key:s,href:i,active:r,disabled:c,onClick:d}){const f=m.useContext(an),h=m.useContext(xo),{activeKey:x}=h||{},g=js(s,i),p=r==null&&s!=null?js(x)===g:r;return[{onClick:Xt(y=>{c||(d?.(y),f&&!y.isPropagationStopped()&&f(g,y))}),"aria-disabled":c||void 0,"aria-selected":p,[Pl("dropdown-item")]:""},{isActive:p}]}const Xg=m.forwardRef((s,i)=>{let{eventKey:r,disabled:c,onClick:d,active:f,as:h=yf}=s,x=fC(s,dC);const[g]=Fg({key:r,href:x.href,disabled:c,onClick:d,active:f});return a.jsx(h,Object.assign({},x,{ref:i},g))});Xg.displayName="DropdownItem";const Qg=m.createContext(Il?window:void 0);Qg.Provider;function vo(){return m.useContext(Qg)}function bv(){const s=Tg(),i=m.useRef(null),r=m.useCallback(c=>{i.current=c,s()},[s]);return[i,r]}function jr({defaultShow:s,show:i,onSelect:r,onToggle:c,itemSelector:d=`* [${Pl("dropdown-item")}]`,focusFirstItemOnShow:f,placement:h="bottom-start",children:x}){const g=vo(),[p,j]=wg(i,s,c),[y,S]=bv(),w=y.current,[C,A]=bv(),E=C.current,D=hg(p),T=m.useRef(null),L=m.useRef(!1),_=m.useContext(an),M=m.useCallback((X,P,te=P?.type)=>{j(X,{originalEvent:P,source:te})},[j]),H=Xt((X,P)=>{r?.(X,P),M(!1,P,"select"),P.isPropagationStopped()||_?.(X,P)}),z=m.useMemo(()=>({toggle:M,placement:h,show:p,menuElement:w,toggleElement:E,setMenu:S,setToggle:A}),[M,h,p,w,E,S,A]);w&&D&&!p&&(L.current=w.contains(w.ownerDocument.activeElement));const B=Xt(()=>{E&&E.focus&&E.focus()}),J=Xt(()=>{const X=T.current;let P=f;if(P==null&&(P=y.current&&Gg(y.current)?"keyboard":!1),P===!1||P==="keyboard"&&!/^key.+$/.test(X))return;const te=Tn(y.current,d)[0];te&&te.focus&&te.focus()});m.useEffect(()=>{p?J():L.current&&(L.current=!1,B())},[p,L,B,J]),m.useEffect(()=>{T.current=null});const q=(X,P)=>{if(!y.current)return null;const te=Tn(y.current,d);let de=te.indexOf(X)+P;return de=Math.max(0,Math.min(de,te.length)),te[de]};return hS(m.useCallback(()=>g.document,[g]),"keydown",X=>{var P,te;const{key:de}=X,pe=X.target,V=(P=y.current)==null?void 0:P.contains(pe),ne=(te=C.current)==null?void 0:te.contains(pe);if(/input|textarea/i.test(pe.tagName)&&(de===" "||de!=="Escape"&&V||de==="Escape"&&pe.type==="search")||!V&&!ne||de==="Tab"&&(!y.current||!p))return;T.current=X.type;const ge={originalEvent:X,source:X.type};switch(de){case"ArrowUp":{const U=q(pe,-1);U&&U.focus&&U.focus(),X.preventDefault();return}case"ArrowDown":if(X.preventDefault(),!p)j(!0,ge);else{const U=q(pe,1);U&&U.focus&&U.focus()}return;case"Tab":gf(pe.ownerDocument,"keyup",U=>{var b;(U.key==="Tab"&&!U.target||!((b=y.current)!=null&&b.contains(U.target)))&&j(!1,ge)},{once:!0});break;case"Escape":de==="Escape"&&(X.preventDefault(),X.stopPropagation()),j(!1,ge);break}}),a.jsx(an.Provider,{value:H,children:a.jsx(ho.Provider,{value:z,children:x})})}jr.displayName="Dropdown";jr.Menu=Bg;jr.Toggle=Vg;jr.Item=Xg;const Rf=m.createContext({});Rf.displayName="DropdownContext";const Kg=m.forwardRef(({className:s,bsPrefix:i,as:r="hr",role:c="separator",...d},f)=>(i=ye(i,"dropdown-divider"),a.jsx(r,{ref:f,className:he(s,i),role:c,...d})));Kg.displayName="DropdownDivider";const Zg=m.forwardRef(({className:s,bsPrefix:i,as:r="div",role:c="heading",...d},f)=>(i=ye(i,"dropdown-header"),a.jsx(r,{ref:f,className:he(s,i),role:c,...d})));Zg.displayName="DropdownHeader";const Jg=m.forwardRef(({bsPrefix:s,className:i,eventKey:r,disabled:c=!1,onClick:d,active:f,as:h=vr,...x},g)=>{const p=ye(s,"dropdown-item"),[j,y]=Fg({key:r,href:x.href,disabled:c,onClick:d,active:f});return a.jsx(h,{...x,...j,ref:g,className:he(i,p,y.isActive&&"active",c&&"disabled")})});Jg.displayName="DropdownItem";const Ig=m.forwardRef(({className:s,bsPrefix:i,as:r="span",...c},d)=>(i=ye(i,"dropdown-item-text"),a.jsx(r,{ref:d,className:he(s,i),...c})));Ig.displayName="DropdownItemText";const mC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",hC=typeof document<"u",Pg=hC||mC?m.useLayoutEffect:m.useEffect,go=m.createContext(null);go.displayName="InputGroupContext";const Ks=m.createContext(null);Ks.displayName="NavbarContext";function Wg(s,i){return s}function eb(s,i,r){const c=r?"top-end":"top-start",d=r?"top-start":"top-end",f=r?"bottom-end":"bottom-start",h=r?"bottom-start":"bottom-end",x=r?"right-start":"left-start",g=r?"right-end":"left-end",p=r?"left-start":"right-start",j=r?"left-end":"right-end";let y=s?h:f;return i==="up"?y=s?d:c:i==="end"?y=s?j:p:i==="start"?y=s?g:x:i==="down-centered"?y="bottom":i==="up-centered"&&(y="top"),y}const tb=m.forwardRef(({bsPrefix:s,className:i,align:r,rootCloseEvent:c,flip:d=!0,show:f,renderOnMount:h,as:x="div",popperConfig:g,variant:p,...j},y)=>{let S=!1;const w=m.useContext(Ks),C=ye(s,"dropdown-menu"),{align:A,drop:E,isRTL:D}=m.useContext(Rf);r=r||A;const T=m.useContext(go),L=[];if(r)if(typeof r=="object"){const X=Object.keys(r);if(X.length){const P=X[0],te=r[P];S=te==="start",L.push(`${C}-${P}-${te}`)}}else r==="end"&&(S=!0);const _=eb(S,E,D),[M,{hasShown:H,popper:z,show:B,toggle:J}]=$g({flip:d,rootCloseEvent:c,show:f,usePopper:!w&&L.length===0,offset:[0,2],popperConfig:g,placement:_});if(M.ref=uo(Wg(y),M.ref),Pg(()=>{B&&z?.update()},[B]),!H&&!h&&!T)return null;typeof x!="string"&&(M.show=B,M.close=()=>J?.(!1),M.align=r);let q=j.style;return z!=null&&z.placement&&(q={...j.style,...M.style},j["x-placement"]=z.placement),a.jsx(x,{...j,...M,style:q,...(L.length||w)&&{"data-bs-popper":"static"},className:he(i,C,B&&"show",S&&`${C}-end`,p&&`${C}-${p}`,...L)})});tb.displayName="DropdownMenu";const ab=m.forwardRef(({bsPrefix:s,split:i,className:r,childBsPrefix:c,as:d=be,...f},h)=>{const x=ye(s,"dropdown-toggle"),g=m.useContext(ho);c!==void 0&&(f.bsPrefix=c);const[p]=Yg();return p.ref=uo(p.ref,Wg(h)),a.jsx(d,{className:he(r,x,i&&`${x}-split`,g?.show&&"show"),...p,...f})});ab.displayName="DropdownToggle";const nb=m.forwardRef((s,i)=>{const{bsPrefix:r,drop:c="down",show:d,className:f,align:h="start",onSelect:x,onToggle:g,focusFirstItemOnShow:p,as:j="div",navbar:y,autoClose:S=!0,...w}=Zl(s,{show:"onToggle"}),C=m.useContext(go),A=ye(r,"dropdown"),E=ig(),D=z=>S===!1?z==="click":S==="inside"?z!=="rootClose":S==="outside"?z!=="select":!0,T=Dn((z,B)=>{var J;!((J=B.originalEvent)==null||(J=J.target)==null)&&J.classList.contains("dropdown-toggle")&&B.source==="mousedown"||(B.originalEvent.currentTarget===document&&(B.source!=="keydown"||B.originalEvent.key==="Escape")&&(B.source="rootClose"),D(B.source)&&g?.(z,B))}),_=eb(h==="end",c,E),M=m.useMemo(()=>({align:h,drop:c,isRTL:E}),[h,c,E]),H={down:A,"down-centered":`${A}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return a.jsx(Rf.Provider,{value:M,children:a.jsx(jr,{placement:_,show:d,onSelect:x,onToggle:T,focusFirstItemOnShow:p,itemSelector:`.${A}-item:not(.disabled):not(:disabled)`,children:C?w.children:a.jsx(j,{...w,ref:i,className:he(f,d&&"show",H[c])})})})});nb.displayName="Dropdown";const xa=Object.assign(nb,{Toggle:ab,Menu:tb,Item:Jg,ItemText:Ig,Divider:Kg,Header:Zg}),pC={type:Ft.string,tooltip:Ft.bool,as:Ft.elementType},bo=m.forwardRef(({as:s="div",className:i,type:r="valid",tooltip:c=!1,...d},f)=>a.jsx(s,{...d,ref:f,className:he(i,`${r}-${c?"tooltip":"feedback"}`)}));bo.displayName="Feedback";bo.propTypes=pC;const zn=m.createContext({}),yr=m.forwardRef(({id:s,bsPrefix:i,className:r,type:c="checkbox",isValid:d=!1,isInvalid:f=!1,as:h="input",...x},g)=>{const{controlId:p}=m.useContext(zn);return i=ye(i,"form-check-input"),a.jsx(h,{...x,ref:g,type:c,id:s||p,className:he(r,i,d&&"is-valid",f&&"is-invalid")})});yr.displayName="FormCheckInput";const to=m.forwardRef(({bsPrefix:s,className:i,htmlFor:r,...c},d)=>{const{controlId:f}=m.useContext(zn);return s=ye(s,"form-check-label"),a.jsx("label",{...c,ref:d,htmlFor:r||f,className:he(i,s)})});to.displayName="FormCheckLabel";const sb=m.forwardRef(({id:s,bsPrefix:i,bsSwitchPrefix:r,inline:c=!1,reverse:d=!1,disabled:f=!1,isValid:h=!1,isInvalid:x=!1,feedbackTooltip:g=!1,feedback:p,feedbackType:j,className:y,style:S,title:w="",type:C="checkbox",label:A,children:E,as:D="input",...T},L)=>{i=ye(i,"form-check"),r=ye(r,"form-switch");const{controlId:_}=m.useContext(zn),M=m.useMemo(()=>({controlId:s||_}),[_,s]),H=!E&&A!=null&&A!==!1||OS(E,to),z=a.jsx(yr,{...T,type:C==="switch"?"checkbox":C,ref:L,isValid:h,isInvalid:x,disabled:f,as:D});return a.jsx(zn.Provider,{value:M,children:a.jsx("div",{style:S,className:he(y,H&&i,c&&`${i}-inline`,d&&`${i}-reverse`,C==="switch"&&r),children:E||a.jsxs(a.Fragment,{children:[z,H&&a.jsx(to,{title:w,children:A}),p&&a.jsx(bo,{type:j,tooltip:g,children:p})]})})})});sb.displayName="FormCheck";const ao=Object.assign(sb,{Input:yr,Label:to}),lb=m.forwardRef(({bsPrefix:s,type:i,size:r,htmlSize:c,id:d,className:f,isValid:h=!1,isInvalid:x=!1,plaintext:g,readOnly:p,as:j="input",...y},S)=>{const{controlId:w}=m.useContext(zn);return s=ye(s,"form-control"),a.jsx(j,{...y,type:i,size:c,ref:S,readOnly:p,id:d||w,className:he(f,g?`${s}-plaintext`:s,r&&`${s}-${r}`,i==="color"&&`${s}-color`,h&&"is-valid",x&&"is-invalid")})});lb.displayName="FormControl";const xC=Object.assign(lb,{Feedback:bo}),ib=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"form-floating"),a.jsx(r,{ref:d,className:he(s,i),...c})));ib.displayName="FormFloating";const Df=m.forwardRef(({controlId:s,as:i="div",...r},c)=>{const d=m.useMemo(()=>({controlId:s}),[s]);return a.jsx(zn.Provider,{value:d,children:a.jsx(i,{...r,ref:c})})});Df.displayName="FormGroup";const rb=m.forwardRef(({as:s="label",bsPrefix:i,column:r=!1,visuallyHidden:c=!1,className:d,htmlFor:f,...h},x)=>{const{controlId:g}=m.useContext(zn);i=ye(i,"form-label");let p="col-form-label";typeof r=="string"&&(p=`${p} ${p}-${r}`);const j=he(d,i,c&&"visually-hidden",r&&p);return f=f||g,r?a.jsx(ve,{ref:x,as:"label",className:j,htmlFor:f,...h}):a.jsx(s,{ref:x,className:j,htmlFor:f,...h})});rb.displayName="FormLabel";const cb=m.forwardRef(({bsPrefix:s,className:i,id:r,...c},d)=>{const{controlId:f}=m.useContext(zn);return s=ye(s,"form-range"),a.jsx("input",{...c,type:"range",ref:d,className:he(i,s),id:r||f})});cb.displayName="FormRange";const ob=m.forwardRef(({bsPrefix:s,size:i,htmlSize:r,className:c,isValid:d=!1,isInvalid:f=!1,id:h,...x},g)=>{const{controlId:p}=m.useContext(zn);return s=ye(s,"form-select"),a.jsx("select",{...x,size:r,ref:g,className:he(c,s,i&&`${s}-${i}`,d&&"is-valid",f&&"is-invalid"),id:h||p})});ob.displayName="FormSelect";const ub=m.forwardRef(({bsPrefix:s,className:i,as:r="small",muted:c,...d},f)=>(s=ye(s,"form-text"),a.jsx(r,{...d,ref:f,className:he(i,s,c&&"text-muted")})));ub.displayName="FormText";const db=m.forwardRef((s,i)=>a.jsx(ao,{...s,ref:i,type:"switch"}));db.displayName="Switch";const vC=Object.assign(db,{Input:ao.Input,Label:ao.Label}),fb=m.forwardRef(({bsPrefix:s,className:i,children:r,controlId:c,label:d,...f},h)=>(s=ye(s,"form-floating"),a.jsxs(Df,{ref:h,className:he(i,s),controlId:c,...f,children:[r,a.jsx("label",{htmlFor:c,children:d})]})));fb.displayName="FloatingLabel";const gC={_ref:Ft.any,validated:Ft.bool,as:Ft.elementType},Mf=m.forwardRef(({className:s,validated:i,as:r="form",...c},d)=>a.jsx(r,{...c,ref:d,className:he(s,i&&"was-validated")}));Mf.displayName="Form";Mf.propTypes=gC;const F=Object.assign(Mf,{Group:Df,Control:xC,Floating:ib,Check:ao,Switch:vC,Label:rb,Text:ub,Range:cb,Select:ob,FloatingLabel:fb}),jo=m.forwardRef(({className:s,bsPrefix:i,as:r="span",...c},d)=>(i=ye(i,"input-group-text"),a.jsx(r,{ref:d,className:he(s,i),...c})));jo.displayName="InputGroupText";const bC=s=>a.jsx(jo,{children:a.jsx(yr,{type:"checkbox",...s})}),jC=s=>a.jsx(jo,{children:a.jsx(yr,{type:"radio",...s})}),mb=m.forwardRef(({bsPrefix:s,size:i,hasValidation:r,className:c,as:d="div",...f},h)=>{s=ye(s,"input-group");const x=m.useMemo(()=>({}),[]);return a.jsx(go.Provider,{value:x,children:a.jsx(d,{ref:h,...f,className:he(c,s,i&&`${s}-${i}`,r&&"has-validation")})})});mb.displayName="InputGroup";const Pa=Object.assign(mb,{Text:jo,Radio:jC,Checkbox:bC}),jv=s=>!s||typeof s=="function"?s:i=>{s.current=i};function yC(s,i){const r=jv(s),c=jv(i);return d=>{r&&r(d),c&&c(d)}}function yo(s,i){return m.useMemo(()=>yC(s,i),[s,i])}const Wl=m.createContext(null),NC=["as","active","eventKey"];function SC(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}function zf({key:s,onClick:i,active:r,id:c,role:d,disabled:f}){const h=m.useContext(an),x=m.useContext(xo),g=m.useContext(Wl);let p=r;const j={role:d};if(x){!d&&x.role==="tablist"&&(j.role="tab");const y=x.getControllerId(s??null),S=x.getControlledId(s??null);j[Pl("event-key")]=s,j.id=y||c,p=r==null&&s!=null?x.activeKey===s:r,(p||!(g!=null&&g.unmountOnExit)&&!(g!=null&&g.mountOnEnter))&&(j["aria-controls"]=S)}return j.role==="tab"&&(j["aria-selected"]=p,p||(j.tabIndex=-1),f&&(j.tabIndex=-1,j["aria-disabled"]=!0)),j.onClick=Xt(y=>{f||(i?.(y),s!=null&&h&&!y.isPropagationStopped()&&h(s,y))}),[j,{isActive:p}]}const hb=m.forwardRef((s,i)=>{let{as:r=yf,active:c,eventKey:d}=s,f=SC(s,NC);const[h,x]=zf(Object.assign({key:js(d,f.href),active:c},f));return h[Pl("active")]=x.isActive,a.jsx(r,Object.assign({},f,h,{ref:i}))});hb.displayName="NavItem";const EC=["as","onSelect","activeKey","role","onKeyDown"];function CC(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}const yv=()=>{},Nv=Pl("event-key"),pb=m.forwardRef((s,i)=>{let{as:r="div",onSelect:c,activeKey:d,role:f,onKeyDown:h}=s,x=CC(s,EC);const g=Tg(),p=m.useRef(!1),j=m.useContext(an),y=m.useContext(Wl);let S,w;y&&(f=f||"tablist",d=y.activeKey,S=y.getControlledId,w=y.getControllerId);const C=m.useRef(null),A=L=>{const _=C.current;if(!_)return null;const M=Tn(_,`[${Nv}]:not([aria-disabled=true])`),H=_.querySelector("[aria-selected=true]");if(!H||H!==document.activeElement)return null;const z=M.indexOf(H);if(z===-1)return null;let B=z+L;return B>=M.length&&(B=0),B<0&&(B=M.length-1),M[B]},E=(L,_)=>{L!=null&&(c?.(L,_),j?.(L,_))},D=L=>{if(h?.(L),!y)return;let _;switch(L.key){case"ArrowLeft":case"ArrowUp":_=A(-1);break;case"ArrowRight":case"ArrowDown":_=A(1);break;default:return}_&&(L.preventDefault(),E(_.dataset[uC("EventKey")]||null,L),p.current=!0,g())};m.useEffect(()=>{if(C.current&&p.current){const L=C.current.querySelector(`[${Nv}][aria-selected=true]`);L?.focus()}p.current=!1});const T=yo(i,C);return a.jsx(an.Provider,{value:E,children:a.jsx(xo.Provider,{value:{role:f,activeKey:js(d),getControlledId:S||yv,getControllerId:w||yv},children:a.jsx(r,Object.assign({},x,{onKeyDown:D,ref:T,role:f}))})})});pb.displayName="Nav";const xb=Object.assign(pb,{Item:hb}),vb=m.forwardRef(({bsPrefix:s,active:i,disabled:r,eventKey:c,className:d,variant:f,action:h,as:x,...g},p)=>{s=ye(s,"list-group-item");const[j,y]=zf({key:js(c,g.href),active:i,...g}),S=Dn(C=>{if(r){C.preventDefault(),C.stopPropagation();return}j.onClick(C)});r&&g.tabIndex===void 0&&(g.tabIndex=-1,g["aria-disabled"]=!0);const w=x||(h?g.href?"a":"button":"div");return a.jsx(w,{ref:p,...g,...j,onClick:S,className:he(d,s,y.isActive&&"active",r&&"disabled",f&&`${s}-${f}`,h&&`${s}-action`)})});vb.displayName="ListGroupItem";const gb=m.forwardRef((s,i)=>{const{className:r,bsPrefix:c,variant:d,horizontal:f,numbered:h,as:x="div",...g}=Zl(s,{activeKey:"onSelect"}),p=ye(c,"list-group");let j;return f&&(j=f===!0?"horizontal":`horizontal-${f}`),a.jsx(xb,{ref:i,...g,as:x,className:he(r,p,d&&`${p}-${d}`,j&&`${p}-${j}`,h&&`${p}-numbered`)})});gb.displayName="ListGroup";const Sv=Object.assign(gb,{Item:vb});var Vc;function Ev(s){if((!Vc&&Vc!==0||s)&&Il){var i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.width="50px",i.style.height="50px",i.style.overflow="scroll",document.body.appendChild(i),Vc=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return Vc}function wC(){return m.useState(null)}function Gd(s){s===void 0&&(s=pr());try{var i=s.activeElement;return!i||!i.nodeName?null:i}catch{return s.body}}function TC(s){const i=m.useRef(s);return i.current=s,i}function _C(s){const i=TC(s);m.useEffect(()=>()=>i.current(),[])}function AC(s=document){const i=s.defaultView;return Math.abs(i.innerWidth-s.documentElement.clientWidth)}const Cv=Pl("modal-open");class kf{constructor({ownerDocument:i,handleContainerOverflow:r=!0,isRTL:c=!1}={}){this.handleContainerOverflow=r,this.isRTL=c,this.modals=[],this.ownerDocument=i}getScrollbarWidth(){return AC(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(i){}removeModalAttributes(i){}setContainerStyle(i){const r={overflow:"hidden"},c=this.isRTL?"paddingLeft":"paddingRight",d=this.getElement();i.style={overflow:d.style.overflow,[c]:d.style[c]},i.scrollBarWidth&&(r[c]=`${parseInt(On(d,c)||"0",10)+i.scrollBarWidth}px`),d.setAttribute(Cv,""),On(d,r)}reset(){[...this.modals].forEach(i=>this.remove(i))}removeContainerStyle(i){const r=this.getElement();r.removeAttribute(Cv),Object.assign(r.style,i.style)}add(i){let r=this.modals.indexOf(i);return r!==-1||(r=this.modals.length,this.modals.push(i),this.setModalAttributes(i),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(i){const r=this.modals.indexOf(i);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(i))}isTopModal(i){return!!this.modals.length&&this.modals[this.modals.length-1]===i}}const Yd=(s,i)=>Il?s==null?(i||pr()).body:(typeof s=="function"&&(s=s()),s&&"current"in s&&(s=s.current),s&&("nodeType"in s||s.getBoundingClientRect)?s:null):null;function OC(s,i){const r=vo(),[c,d]=m.useState(()=>Yd(s,r?.document));if(!c){const f=Yd(s);f&&d(f)}return m.useEffect(()=>{},[i,c]),m.useEffect(()=>{const f=Yd(s);f!==c&&d(f)},[s,c]),c}function Lf({children:s,in:i,onExited:r,mountOnEnter:c,unmountOnExit:d}){const f=m.useRef(null),h=m.useRef(i),x=Xt(r);m.useEffect(()=>{i?h.current=!0:x(f.current)},[i,x]);const g=yo(f,Jl(s)),p=m.cloneElement(s,{ref:g});return i?p:d||!h.current&&c?null:p}const RC=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function DC(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}function MC(s){let{onEnter:i,onEntering:r,onEntered:c,onExit:d,onExiting:f,onExited:h,addEndListener:x,children:g}=s,p=DC(s,RC);const j=m.useRef(null),y=yo(j,Jl(g)),S=_=>M=>{_&&j.current&&_(j.current,M)},w=m.useCallback(S(i),[i]),C=m.useCallback(S(r),[r]),A=m.useCallback(S(c),[c]),E=m.useCallback(S(d),[d]),D=m.useCallback(S(f),[f]),T=m.useCallback(S(h),[h]),L=m.useCallback(S(x),[x]);return Object.assign({},p,{nodeRef:j},i&&{onEnter:w},r&&{onEntering:C},c&&{onEntered:A},d&&{onExit:E},f&&{onExiting:D},h&&{onExited:T},x&&{addEndListener:L},{children:typeof g=="function"?(_,M)=>g(_,Object.assign({},M,{ref:y})):m.cloneElement(g,{ref:y})})}const zC=["component"];function kC(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}const LC=m.forwardRef((s,i)=>{let{component:r}=s,c=kC(s,zC);const d=MC(c);return a.jsx(r,Object.assign({ref:i},d))});function $C({in:s,onTransition:i}){const r=m.useRef(null),c=m.useRef(!0),d=Xt(i);return nv(()=>{if(!r.current)return;let f=!1;return d({in:s,element:r.current,initial:c.current,isStale:()=>f}),()=>{f=!0}},[s,d]),nv(()=>(c.current=!1,()=>{c.current=!0}),[]),r}function BC({children:s,in:i,onExited:r,onEntered:c,transition:d}){const[f,h]=m.useState(!i);i&&f&&h(!1);const x=$C({in:!!i,onTransition:p=>{const j=()=>{p.isStale()||(p.in?c?.(p.element,p.initial):(h(!0),r?.(p.element)))};Promise.resolve(d(p)).then(j,y=>{throw p.in||h(!0),y})}}),g=yo(x,Jl(s));return f&&!i?null:m.cloneElement(s,{ref:g})}function wv(s,i,r){return s?a.jsx(LC,Object.assign({},r,{component:s})):i?a.jsx(BC,Object.assign({},r,{transition:i})):a.jsx(Lf,Object.assign({},r))}const UC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function HC(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}let Vd;function qC(s){return Vd||(Vd=new kf({ownerDocument:s?.document})),Vd}function GC(s){const i=vo(),r=s||qC(i),c=m.useRef({dialog:null,backdrop:null});return Object.assign(c.current,{add:()=>r.add(c.current),remove:()=>r.remove(c.current),isTopModal:()=>r.isTopModal(c.current),setDialogRef:m.useCallback(d=>{c.current.dialog=d},[]),setBackdropRef:m.useCallback(d=>{c.current.backdrop=d},[])})}const bb=m.forwardRef((s,i)=>{let{show:r=!1,role:c="dialog",className:d,style:f,children:h,backdrop:x=!0,keyboard:g=!0,onBackdropClick:p,onEscapeKeyDown:j,transition:y,runTransition:S,backdropTransition:w,runBackdropTransition:C,autoFocus:A=!0,enforceFocus:E=!0,restoreFocus:D=!0,restoreFocusOptions:T,renderDialog:L,renderBackdrop:_=Ge=>a.jsx("div",Object.assign({},Ge)),manager:M,container:H,onShow:z,onHide:B=()=>{},onExit:J,onExited:q,onExiting:X,onEnter:P,onEntering:te,onEntered:de}=s,pe=HC(s,UC);const V=vo(),ne=OC(H),ce=GC(M),ge=mg(),U=hg(r),[b,O]=m.useState(!r),I=m.useRef(null);m.useImperativeHandle(i,()=>ce,[ce]),Il&&!U&&r&&(I.current=Gd(V?.document)),r&&b&&O(!1);const ee=Xt(()=>{if(ce.add(),_e.current=xs(document,"keydown",re),me.current=xs(document,"focus",()=>setTimeout(je),!0),z&&z(),A){var Ge,Et;const Je=Gd((Ge=(Et=ce.dialog)==null?void 0:Et.ownerDocument)!=null?Ge:V?.document);ce.dialog&&Je&&!eo(ce.dialog,Je)&&(I.current=Je,ce.dialog.focus())}}),oe=Xt(()=>{if(ce.remove(),_e.current==null||_e.current(),me.current==null||me.current(),D){var Ge;(Ge=I.current)==null||Ge.focus==null||Ge.focus(T),I.current=null}});m.useEffect(()=>{!r||!ne||ee()},[r,ne,ee]),m.useEffect(()=>{b&&oe()},[b,oe]),_C(()=>{oe()});const je=Xt(()=>{if(!E||!ge()||!ce.isTopModal())return;const Ge=Gd(V?.document);ce.dialog&&Ge&&!eo(ce.dialog,Ge)&&ce.dialog.focus()}),G=Xt(Ge=>{Ge.target===Ge.currentTarget&&(p?.(Ge),x===!0&&B())}),re=Xt(Ge=>{g&&tS(Ge)&&ce.isTopModal()&&(j?.(Ge),Ge.defaultPrevented||B())}),me=m.useRef(),_e=m.useRef(),De=(...Ge)=>{O(!0),q?.(...Ge)};if(!ne)return null;const ft=Object.assign({role:c,ref:ce.setDialogRef,"aria-modal":c==="dialog"?!0:void 0},pe,{style:f,className:d,tabIndex:-1});let pt=L?L(ft):a.jsx("div",Object.assign({},ft,{children:m.cloneElement(h,{role:"document"})}));pt=wv(y,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:J,onExiting:X,onExited:De,onEnter:P,onEntering:te,onEntered:de,children:pt});let xt=null;return x&&(xt=_({ref:ce.setBackdropRef,onClick:G}),xt=wv(w,C,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:xt})),a.jsx(a.Fragment,{children:Ul.createPortal(a.jsxs(a.Fragment,{children:[xt,pt]}),ne)})});bb.displayName="Modal";const jb=Object.assign(bb,{Manager:kf});function YC(s,i){return s.classList?s.classList.contains(i):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+i+" ")!==-1}function VC(s,i){s.classList?s.classList.add(i):YC(s,i)||(typeof s.className=="string"?s.className=s.className+" "+i:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+i))}function Tv(s,i){return s.replace(new RegExp("(^|\\s)"+i+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function FC(s,i){s.classList?s.classList.remove(i):typeof s.className=="string"?s.className=Tv(s.className,i):s.setAttribute("class",Tv(s.className&&s.className.baseVal||"",i))}const Bl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class yb extends kf{adjustAndStore(i,r,c){const d=r.style[i];r.dataset[i]=d,On(r,{[i]:`${parseFloat(On(r,i))+c}px`})}restore(i,r){const c=r.dataset[i];c!==void 0&&(delete r.dataset[i],On(r,{[i]:c}))}setContainerStyle(i){super.setContainerStyle(i);const r=this.getElement();if(VC(r,"modal-open"),!i.scrollBarWidth)return;const c=this.isRTL?"paddingLeft":"paddingRight",d=this.isRTL?"marginLeft":"marginRight";Tn(r,Bl.FIXED_CONTENT).forEach(f=>this.adjustAndStore(c,f,i.scrollBarWidth)),Tn(r,Bl.STICKY_CONTENT).forEach(f=>this.adjustAndStore(d,f,-i.scrollBarWidth)),Tn(r,Bl.NAVBAR_TOGGLER).forEach(f=>this.adjustAndStore(d,f,i.scrollBarWidth))}removeContainerStyle(i){super.removeContainerStyle(i);const r=this.getElement();FC(r,"modal-open");const c=this.isRTL?"paddingLeft":"paddingRight",d=this.isRTL?"marginLeft":"marginRight";Tn(r,Bl.FIXED_CONTENT).forEach(f=>this.restore(c,f)),Tn(r,Bl.STICKY_CONTENT).forEach(f=>this.restore(d,f)),Tn(r,Bl.NAVBAR_TOGGLER).forEach(f=>this.restore(d,f))}}let Fd;function Nb(s){return Fd||(Fd=new yb(s)),Fd}const Sb=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"modal-body"),a.jsx(r,{ref:d,className:he(s,i),...c})));Sb.displayName="ModalBody";const $f=m.createContext({onHide(){}}),Bf=m.forwardRef(({bsPrefix:s,className:i,contentClassName:r,centered:c,size:d,fullscreen:f,children:h,scrollable:x,...g},p)=>{s=ye(s,"modal");const j=`${s}-dialog`,y=typeof f=="string"?`${s}-fullscreen-${f}`:`${s}-fullscreen`;return a.jsx("div",{...g,ref:p,className:he(j,i,d&&`${s}-${d}`,c&&`${j}-centered`,x&&`${j}-scrollable`,f&&y),children:a.jsx("div",{className:he(`${s}-content`,r),children:h})})});Bf.displayName="ModalDialog";const Eb=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"modal-footer"),a.jsx(r,{ref:d,className:he(s,i),...c})));Eb.displayName="ModalFooter";const Uf=m.forwardRef(({closeLabel:s="Close",closeVariant:i,closeButton:r=!1,onHide:c,children:d,...f},h)=>{const x=m.useContext($f),g=Dn(()=>{x?.onHide(),c?.()});return a.jsxs("div",{ref:h,...f,children:[d,r&&a.jsx(mo,{"aria-label":s,variant:i,onClick:g})]})});Uf.displayName="AbstractModalHeader";const Cb=m.forwardRef(({bsPrefix:s,className:i,closeLabel:r="Close",closeButton:c=!1,...d},f)=>(s=ye(s,"modal-header"),a.jsx(Uf,{ref:f,...d,className:he(i,s),closeLabel:r,closeButton:c})));Cb.displayName="ModalHeader";const XC=xr("h4"),wb=m.forwardRef(({className:s,bsPrefix:i,as:r=XC,...c},d)=>(i=ye(i,"modal-title"),a.jsx(r,{ref:d,className:he(s,i),...c})));wb.displayName="ModalTitle";function QC(s){return a.jsx(gs,{...s,timeout:null})}function KC(s){return a.jsx(gs,{...s,timeout:null})}const Tb=m.forwardRef(({bsPrefix:s,className:i,style:r,dialogClassName:c,contentClassName:d,children:f,dialogAs:h=Bf,"data-bs-theme":x,"aria-labelledby":g,"aria-describedby":p,"aria-label":j,show:y=!1,animation:S=!0,backdrop:w=!0,keyboard:C=!0,onEscapeKeyDown:A,onShow:E,onHide:D,container:T,autoFocus:L=!0,enforceFocus:_=!0,restoreFocus:M=!0,restoreFocusOptions:H,onEntered:z,onExit:B,onExiting:J,onEnter:q,onEntering:X,onExited:P,backdropClassName:te,manager:de,...pe},V)=>{const[ne,ce]=m.useState({}),[ge,U]=m.useState(!1),b=m.useRef(!1),O=m.useRef(!1),I=m.useRef(null),[ee,oe]=wC(),je=uo(V,oe),G=Dn(D),re=ig();s=ye(s,"modal");const me=m.useMemo(()=>({onHide:G}),[G]);function _e(){return de||Nb({isRTL:re})}function De(Oe){if(!Il)return;const at=_e().getScrollbarWidth()>0,ga=Oe.scrollHeight>pr(Oe).documentElement.clientHeight;ce({paddingRight:at&&!ga?Ev():void 0,paddingLeft:!at&&ga?Ev():void 0})}const ft=Dn(()=>{ee&&De(ee.dialog)});_S(()=>{af(window,"resize",ft),I.current==null||I.current()});const pt=()=>{b.current=!0},xt=Oe=>{b.current&&ee&&Oe.target===ee.dialog&&(O.current=!0),b.current=!1},Ge=()=>{U(!0),I.current=cg(ee.dialog,()=>{U(!1)})},Et=Oe=>{Oe.target===Oe.currentTarget&&Ge()},Je=Oe=>{if(w==="static"){Et(Oe);return}if(O.current||Oe.target!==Oe.currentTarget){O.current=!1;return}D?.()},Ra=Oe=>{C?A?.(Oe):(Oe.preventDefault(),w==="static"&&Ge())},vt=(Oe,at)=>{Oe&&De(Oe),q?.(Oe,at)},se=Oe=>{I.current==null||I.current(),B?.(Oe)},xe=(Oe,at)=>{X?.(Oe,at),gf(window,"resize",ft)},we=Oe=>{Oe&&(Oe.style.display=""),P?.(Oe),af(window,"resize",ft)},yt=m.useCallback(Oe=>a.jsx("div",{...Oe,className:he(`${s}-backdrop`,te,!S&&"show")}),[S,te,s]),Re={...r,...ne};Re.display="block";const Jt=Oe=>a.jsx("div",{role:"dialog",...Oe,style:Re,className:he(i,s,ge&&`${s}-static`,!S&&"show"),onClick:w?Je:void 0,onMouseUp:xt,"data-bs-theme":x,"aria-label":j,"aria-labelledby":g,"aria-describedby":p,children:a.jsx(h,{...pe,onMouseDown:pt,className:c,contentClassName:d,children:f})});return a.jsx($f.Provider,{value:me,children:a.jsx(jb,{show:y,ref:je,backdrop:w,container:T,keyboard:!0,autoFocus:L,enforceFocus:_,restoreFocus:M,restoreFocusOptions:H,onEscapeKeyDown:Ra,onShow:E,onHide:D,onEnter:vt,onEntering:xe,onEntered:z,onExit:se,onExiting:J,onExited:we,manager:_e(),transition:S?QC:void 0,backdropTransition:S?KC:void 0,renderBackdrop:yt,renderDialog:Jt})})});Tb.displayName="Modal";const $e=Object.assign(Tb,{Body:Sb,Header:Cb,Title:wb,Footer:Eb,Dialog:Bf,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Hf=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"nav-item"),a.jsx(r,{ref:d,className:he(s,i),...c})));Hf.displayName="NavItem";const qf=m.forwardRef(({bsPrefix:s,className:i,as:r=vr,active:c,eventKey:d,disabled:f=!1,...h},x)=>{s=ye(s,"nav-link");const[g,p]=zf({key:js(d,h.href),active:c,disabled:f,...h});return a.jsx(r,{...h,...g,ref:x,disabled:f,className:he(i,s,f&&"disabled",p.isActive&&"active")})});qf.displayName="NavLink";const _b=m.forwardRef((s,i)=>{const{as:r="div",bsPrefix:c,variant:d,fill:f=!1,justify:h=!1,navbar:x,navbarScroll:g,className:p,activeKey:j,...y}=Zl(s,{activeKey:"onSelect"}),S=ye(c,"nav");let w,C,A=!1;const E=m.useContext(Ks),D=m.useContext(Sf);return E?(w=E.bsPrefix,A=x??!0):D&&({cardHeaderBsPrefix:C}=D),a.jsx(xb,{as:r,ref:i,activeKey:j,className:he(p,{[S]:!A,[`${w}-nav`]:A,[`${w}-nav-scroll`]:A&&g,[`${C}-${d}`]:!!C,[`${S}-${d}`]:!!d,[`${S}-fill`]:f,[`${S}-justified`]:h}),...y})});_b.displayName="Nav";const Xs=Object.assign(_b,{Item:Hf,Link:qf}),Ab=m.forwardRef(({bsPrefix:s,className:i,as:r,...c},d)=>{s=ye(s,"navbar-brand");const f=r||(c.href?"a":"span");return a.jsx(f,{...c,ref:d,className:he(i,s)})});Ab.displayName="NavbarBrand";const Ob=m.forwardRef(({children:s,bsPrefix:i,...r},c)=>{i=ye(i,"navbar-collapse");const d=m.useContext(Ks);return a.jsx(ug,{in:!!(d&&d.expanded),...r,children:a.jsx("div",{ref:c,className:i,children:s})})});Ob.displayName="NavbarCollapse";const Rb=m.forwardRef(({bsPrefix:s,className:i,children:r,label:c="Toggle navigation",as:d="button",onClick:f,...h},x)=>{s=ye(s,"navbar-toggler");const{onToggle:g,expanded:p}=m.useContext(Ks)||{},j=Dn(y=>{f&&f(y),g&&g()});return d==="button"&&(h.type="button"),a.jsx(d,{...h,ref:x,onClick:j,"aria-label":c,className:he(i,s,!p&&"collapsed"),children:r||a.jsx("span",{className:`${s}-icon`})})});Rb.displayName="NavbarToggle";const rf=new WeakMap,_v=(s,i)=>{if(!s||!i)return;const r=rf.get(i)||new Map;rf.set(i,r);let c=r.get(s);return c||(c=i.matchMedia(s),c.refCount=0,r.set(c.media,c)),c};function ZC(s,i=typeof window>"u"?void 0:window){const r=_v(s,i),[c,d]=m.useState(()=>r?r.matches:!1);return Pg(()=>{let f=_v(s,i);if(!f)return d(!1);let h=rf.get(i);const x=()=>{d(f.matches)};return f.refCount++,f.addListener(x),x(),()=>{f.removeListener(x),f.refCount--,f.refCount<=0&&h?.delete(f.media),f=void 0}},[s]),c}function JC(s){const i=Object.keys(s);function r(x,g){return x===g?g:x?`${x} and ${g}`:g}function c(x){return i[Math.min(i.indexOf(x)+1,i.length-1)]}function d(x){const g=c(x);let p=s[g];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function f(x){let g=s[x];return typeof g=="number"&&(g=`${g}px`),`(min-width: ${g})`}function h(x,g,p){let j;typeof x=="object"?(j=x,p=g,g=!0):(g=g||!0,j={[x]:g});let y=m.useMemo(()=>Object.entries(j).reduce((S,[w,C])=>((C==="up"||C===!0)&&(S=r(S,f(w))),(C==="down"||C===!0)&&(S=r(S,d(w))),S),""),[JSON.stringify(j)]);return ZC(y,p)}return h}const IC=JC({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Db=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"offcanvas-body"),a.jsx(r,{ref:d,className:he(s,i),...c})));Db.displayName="OffcanvasBody";const PC={[qa]:"show",[_n]:"show"},Mb=m.forwardRef(({bsPrefix:s,className:i,children:r,in:c=!1,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:h=!1,...x},g)=>(s=ye(s,"offcanvas"),a.jsx(fo,{ref:g,addEndListener:bf,in:c,mountOnEnter:d,unmountOnExit:f,appear:h,...x,childRef:Jl(r),children:(p,j)=>m.cloneElement(r,{...j,className:he(i,r.props.className,(p===qa||p===lr)&&`${s}-toggling`,PC[p])})})));Mb.displayName="OffcanvasToggling";const zb=m.forwardRef(({bsPrefix:s,className:i,closeLabel:r="Close",closeButton:c=!1,...d},f)=>(s=ye(s,"offcanvas-header"),a.jsx(Uf,{ref:f,...d,className:he(i,s),closeLabel:r,closeButton:c})));zb.displayName="OffcanvasHeader";const WC=xr("h5"),kb=m.forwardRef(({className:s,bsPrefix:i,as:r=WC,...c},d)=>(i=ye(i,"offcanvas-title"),a.jsx(r,{ref:d,className:he(s,i),...c})));kb.displayName="OffcanvasTitle";function e1(s){return a.jsx(Mb,{...s})}function t1(s){return a.jsx(gs,{...s})}const Lb=m.forwardRef(({bsPrefix:s,className:i,children:r,"aria-labelledby":c,placement:d="start",responsive:f,show:h=!1,backdrop:x=!0,keyboard:g=!0,scroll:p=!1,onEscapeKeyDown:j,onShow:y,onHide:S,container:w,autoFocus:C=!0,enforceFocus:A=!0,restoreFocus:E=!0,restoreFocusOptions:D,onEntered:T,onExit:L,onExiting:_,onEnter:M,onEntering:H,onExited:z,backdropClassName:B,manager:J,renderStaticNode:q=!1,...X},P)=>{const te=m.useRef();s=ye(s,"offcanvas");const[de,pe]=m.useState(!1),V=Dn(S),ne=IC(f||"xs","up");m.useEffect(()=>{pe(f?h&&!ne:h)},[h,f,ne]);const ce=m.useMemo(()=>({onHide:V}),[V]);function ge(){return J||(p?(te.current||(te.current=new yb({handleContainerOverflow:!1})),te.current):Nb())}const U=(ee,...oe)=>{ee&&(ee.style.visibility="visible"),M?.(ee,...oe)},b=(ee,...oe)=>{ee&&(ee.style.visibility=""),z?.(...oe)},O=m.useCallback(ee=>a.jsx("div",{...ee,className:he(`${s}-backdrop`,B)}),[B,s]),I=ee=>a.jsx("div",{...ee,...X,className:he(i,f?`${s}-${f}`:s,`${s}-${d}`),"aria-labelledby":c,children:r});return a.jsxs(a.Fragment,{children:[!de&&(f||q)&&I({}),a.jsx($f.Provider,{value:ce,children:a.jsx(jb,{show:de,ref:P,backdrop:x,container:w,keyboard:g,autoFocus:C,enforceFocus:A&&!p,restoreFocus:E,restoreFocusOptions:D,onEscapeKeyDown:j,onShow:y,onHide:V,onEnter:U,onEntering:H,onEntered:T,onExit:L,onExiting:_,onExited:b,manager:ge(),transition:e1,backdropTransition:t1,renderBackdrop:O,renderDialog:I})})]})});Lb.displayName="Offcanvas";const a1=Object.assign(Lb,{Body:Db,Header:zb,Title:kb}),$b=m.forwardRef(({onHide:s,...i},r)=>{const c=m.useContext(Ks),d=Dn(()=>{c==null||c.onToggle==null||c.onToggle(),s?.()});return a.jsx(a1,{ref:r,show:!!(c!=null&&c.expanded),...i,renderStaticNode:!0,onHide:d})});$b.displayName="NavbarOffcanvas";const Bb=m.forwardRef(({className:s,bsPrefix:i,as:r="span",...c},d)=>(i=ye(i,"navbar-text"),a.jsx(r,{ref:d,className:he(s,i),...c})));Bb.displayName="NavbarText";const Ub=m.forwardRef((s,i)=>{const{bsPrefix:r,expand:c=!0,variant:d="light",bg:f,fixed:h,sticky:x,className:g,as:p="nav",expanded:j,onToggle:y,onSelect:S,collapseOnSelect:w=!1,...C}=Zl(s,{expanded:"onToggle"}),A=ye(r,"navbar"),E=m.useCallback((...L)=>{S?.(...L),w&&j&&y?.(!1)},[S,w,j,y]);C.role===void 0&&p!=="nav"&&(C.role="navigation");let D=`${A}-expand`;typeof c=="string"&&(D=`${D}-${c}`);const T=m.useMemo(()=>({onToggle:()=>y?.(!j),bsPrefix:A,expanded:!!j,expand:c}),[A,j,c,y]);return a.jsx(Ks.Provider,{value:T,children:a.jsx(an.Provider,{value:E,children:a.jsx(p,{ref:i,...C,className:he(g,A,c&&D,d&&`${A}-${d}`,f&&`bg-${f}`,x&&`sticky-${x}`,h&&`fixed-${h}`)})})})});Ub.displayName="Navbar";const Fc=Object.assign(Ub,{Brand:Ab,Collapse:Ob,Offcanvas:$b,Text:Bb,Toggle:Rb}),Gf=m.forwardRef(({active:s=!1,disabled:i=!1,className:r,style:c,activeLabel:d="(current)",children:f,linkStyle:h,linkClassName:x,as:g=vr,...p},j)=>{const y=s||i?"span":g;return a.jsx("li",{ref:j,style:c,className:he(r,"page-item",{active:s,disabled:i}),children:a.jsxs(y,{className:he("page-link",x),style:h,...p,children:[f,s&&d&&a.jsx("span",{className:"visually-hidden",children:d})]})})});Gf.displayName="PageItem";function Nr(s,i,r=s){const c=m.forwardRef(({children:d,...f},h)=>a.jsxs(Gf,{...f,ref:h,children:[a.jsx("span",{"aria-hidden":"true",children:d||i}),a.jsx("span",{className:"visually-hidden",children:r})]}));return c.displayName=s,c}const n1=Nr("First",""),s1=Nr("Prev","","Previous"),l1=Nr("Ellipsis","","More"),i1=Nr("Next",""),r1=Nr("Last",""),Hb=m.forwardRef(({bsPrefix:s,className:i,size:r,...c},d)=>{const f=ye(s,"pagination");return a.jsx("ul",{ref:d,...c,className:he(i,f,r&&`${f}-${r}`)})});Hb.displayName="Pagination";const Av=Object.assign(Hb,{First:n1,Prev:s1,Ellipsis:l1,Item:Gf,Next:i1,Last:r1}),Ov=1e3;function c1(s,i,r){const c=(s-i)/(r-i)*100;return Math.round(c*Ov)/Ov}function Rv({min:s,now:i,max:r,label:c,visuallyHidden:d,striped:f,animated:h,className:x,style:g,variant:p,bsPrefix:j,...y},S){return a.jsx("div",{ref:S,...y,role:"progressbar",className:he(x,`${j}-bar`,{[`bg-${p}`]:p,[`${j}-bar-animated`]:h,[`${j}-bar-striped`]:h||f}),style:{width:`${c1(i,s,r)}%`,...g},"aria-valuenow":i,"aria-valuemin":s,"aria-valuemax":r,children:d?a.jsx("span",{className:"visually-hidden",children:c}):c})}const qb=m.forwardRef(({isChild:s=!1,...i},r)=>{const c={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...i};if(c.bsPrefix=ye(c.bsPrefix,"progress"),s)return Rv(c,r);const{min:d,now:f,max:h,label:x,visuallyHidden:g,striped:p,animated:j,bsPrefix:y,variant:S,className:w,children:C,...A}=c;return a.jsx("div",{ref:r,...A,className:he(w,y),children:C?nf(C,E=>m.cloneElement(E,{isChild:!0})):Rv({min:d,now:f,max:h,label:x,visuallyHidden:g,striped:p,animated:j,bsPrefix:y,variant:S},r)})});qb.displayName="ProgressBar";const Fe=m.forwardRef(({bsPrefix:s,className:i,as:r="div",...c},d)=>{const f=ye(s,"row"),h=sg(),x=lg(),g=`${f}-cols`,p=[];return h.forEach(j=>{const y=c[j];delete c[j];let S;y!=null&&typeof y=="object"?{cols:S}=y:S=y;const w=j!==x?`-${j}`:"";S!=null&&p.push(`${g}${w}-${S}`)}),a.jsx(r,{ref:d,...c,className:he(i,f,...p)})});Fe.displayName="Row";const kt=m.forwardRef(({bsPrefix:s,variant:i,animation:r="border",size:c,as:d="div",className:f,...h},x)=>{s=ye(s,"spinner");const g=`${s}-${r}`;return a.jsx(d,{ref:x,...h,className:he(f,g,c&&`${g}-${c}`,i&&`text-${i}`)})});kt.displayName="Spinner";const o1=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],u1=["activeKey","getControlledId","getControllerId"],d1=["as"];function cf(s,i){if(s==null)return{};var r={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(i.indexOf(c)>=0)continue;r[c]=s[c]}return r}function Gb(s){let{active:i,eventKey:r,mountOnEnter:c,transition:d,unmountOnExit:f,role:h="tabpanel",onEnter:x,onEntering:g,onEntered:p,onExit:j,onExiting:y,onExited:S}=s,w=cf(s,o1);const C=m.useContext(Wl);if(!C)return[Object.assign({},w,{role:h}),{eventKey:r,isActive:i,mountOnEnter:c,transition:d,unmountOnExit:f,onEnter:x,onEntering:g,onEntered:p,onExit:j,onExiting:y,onExited:S}];const{activeKey:A,getControlledId:E,getControllerId:D}=C,T=cf(C,u1),L=js(r);return[Object.assign({},w,{role:h,id:E(r),"aria-labelledby":D(r)}),{eventKey:r,isActive:i==null&&L!=null?js(A)===L:i,transition:d||T.transition,mountOnEnter:c??T.mountOnEnter,unmountOnExit:f??T.unmountOnExit,onEnter:x,onEntering:g,onEntered:p,onExit:j,onExiting:y,onExited:S}]}const Yb=m.forwardRef((s,i)=>{let{as:r="div"}=s,c=cf(s,d1);const[d,{isActive:f,onEnter:h,onEntering:x,onEntered:g,onExit:p,onExiting:j,onExited:y,mountOnEnter:S,unmountOnExit:w,transition:C=Lf}]=Gb(c);return a.jsx(Wl.Provider,{value:null,children:a.jsx(an.Provider,{value:null,children:a.jsx(C,{in:f,onEnter:h,onEntering:x,onEntered:g,onExit:p,onExiting:j,onExited:y,mountOnEnter:S,unmountOnExit:w,children:a.jsx(r,Object.assign({},d,{ref:i,hidden:!f,"aria-hidden":!f}))})})})});Yb.displayName="TabPanel";const Yf=s=>{const{id:i,generateChildId:r,onSelect:c,activeKey:d,defaultActiveKey:f,transition:h,mountOnEnter:x,unmountOnExit:g,children:p}=s,[j,y]=wg(d,f,c),S=qg(i),w=m.useMemo(()=>r||((A,E)=>S?`${S}-${E}-${A}`:null),[S,r]),C=m.useMemo(()=>({onSelect:y,activeKey:j,transition:h,mountOnEnter:x||!1,unmountOnExit:g||!1,getControlledId:A=>w(A,"tabpane"),getControllerId:A=>w(A,"tab")}),[y,j,h,x,g,w]);return a.jsx(Wl.Provider,{value:C,children:a.jsx(an.Provider,{value:y||null,children:p})})};Yf.Panel=Yb;function Vf(s){return typeof s=="boolean"?s?gs:Lf:s}const Vb=({transition:s,...i})=>a.jsx(Yf,{...i,transition:Vf(s)});Vb.displayName="TabContainer";const Ff=m.forwardRef(({className:s,bsPrefix:i,as:r="div",...c},d)=>(i=ye(i,"tab-content"),a.jsx(r,{ref:d,className:he(s,i),...c})));Ff.displayName="TabContent";const Xf=m.forwardRef(({bsPrefix:s,transition:i,...r},c)=>{const[{className:d,as:f="div",...h},{isActive:x,onEnter:g,onEntering:p,onEntered:j,onExit:y,onExiting:S,onExited:w,mountOnEnter:C,unmountOnExit:A,transition:E=gs}]=Gb({...r,transition:Vf(i)}),D=ye(s,"tab-pane");return a.jsx(Wl.Provider,{value:null,children:a.jsx(an.Provider,{value:null,children:a.jsx(E,{in:x,onEnter:g,onEntering:p,onEntered:j,onExit:y,onExiting:S,onExited:w,mountOnEnter:C,unmountOnExit:A,children:a.jsx(f,{...h,ref:c,className:he(d,D,x&&"active")})})})})});Xf.displayName="TabPane";const f1={eventKey:Ft.oneOfType([Ft.string,Ft.number]),title:Ft.node.isRequired,disabled:Ft.bool,tabClassName:Ft.string,tabAttrs:Ft.object},Fb=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Fb.propTypes=f1;const no=Object.assign(Fb,{Container:Vb,Content:Ff,Pane:Xf}),vs=m.forwardRef(({bsPrefix:s,className:i,striped:r,bordered:c,borderless:d,hover:f,size:h,variant:x,responsive:g,...p},j)=>{const y=ye(s,"table"),S=he(i,y,x&&`${y}-${x}`,h&&`${y}-${h}`,r&&`${y}-${typeof r=="string"?`striped-${r}`:"striped"}`,c&&`${y}-bordered`,d&&`${y}-borderless`,f&&`${y}-hover`),w=a.jsx("table",{...p,className:S,ref:j});if(g){let C=`${y}-responsive`;return typeof g=="string"&&(C=`${C}-${g}`),a.jsx("div",{className:C,children:w})}return w});vs.displayName="Table";function m1(s){let i;return AS(s,r=>{i==null&&(i=r.props.eventKey)}),i}function h1(s){const{title:i,eventKey:r,disabled:c,tabClassName:d,tabAttrs:f,id:h}=s.props;return i==null?null:a.jsx(Hf,{as:"li",role:"presentation",children:a.jsx(qf,{as:"button",type:"button",eventKey:r,disabled:c,id:h,className:d,...f,children:i})})}const Qf=s=>{const{id:i,onSelect:r,transition:c,mountOnEnter:d=!1,unmountOnExit:f=!1,variant:h="tabs",children:x,activeKey:g=m1(x),...p}=Zl(s,{activeKey:"onSelect"});return a.jsxs(Yf,{id:i,activeKey:g,onSelect:r,transition:Vf(c),mountOnEnter:d,unmountOnExit:f,children:[a.jsx(Xs,{id:i,...p,role:"tablist",as:"ul",variant:h,children:nf(x,h1)}),a.jsx(Ff,{children:nf(x,j=>{const y={...j.props};return delete y.title,delete y.disabled,delete y.tabClassName,delete y.tabAttrs,a.jsx(Xf,{...y})})})]})};Qf.displayName="Tabs";const ct="https://your-backend-app.up.railway.app/api";function p1(s){return s?s.substring(0,5):""}function Xb(){return localStorage.getItem("token")}function Qt(){const s=Xb();return{"Content-Type":"application/json",...s&&{Authorization:`Token ${s}`}}}async function x1(s){const i=await fetch(`${ct}/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok){const c=await i.json();if(typeof c=="object"&&!c.error){const d=Object.entries(c).map(([f,h])=>`${f}: ${Array.isArray(h)?h.join(", "):h}`).join(`
`);throw new Error(d)}throw new Error(c.error||c.message||"Error al registrar usuario")}const r=await i.json();return localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify({id:r.user_id,username:r.username,email:r.email,rol:r.rol,rol_display:r.rol_display,nombre_completo:r.nombre_completo})),r}async function Dv(s){const i=await fetch(`${ct}/register-and-reserve/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await i.json();if(i.status===200&&r.requires_confirmation)return r;if(!i.ok){if(r.details){const c=Object.entries(r.details).map(([d,f])=>`${d}: ${Array.isArray(f)?f.join(", "):f}`).join(`
`);throw new Error(c||r.error)}throw new Error(r.error||"Error al crear la reserva")}return r.token&&(localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify({id:r.user_id,username:r.username,email:r.email,rol:r.rol,rol_display:r.rol_display,nombre_completo:r.nombre_completo}))),r}async function v1({username:s,password:i}){const r=await fetch(`${ct}/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:i})});if(!r.ok){const d=await r.json();throw new Error(d.error||"Error al iniciar sesin")}const c=await r.json();return localStorage.setItem("token",c.token),localStorage.setItem("user",JSON.stringify({id:c.user_id,username:c.username,email:c.email,rol:c.rol,rol_display:c.rol_display,nombre_completo:c.nombre_completo})),c}function Mv(){localStorage.removeItem("token"),localStorage.removeItem("user")}function Kf(){const s=localStorage.getItem("user");return s?JSON.parse(s):null}function g1(){return!!Xb()}async function cr(s={},i={}){const{fecha:r,estado:c,fecha_inicio:d,fecha_fin:f,fechaInicio:h,fechaFin:x,page:g,page_size:p,pageSize:j,search:y,all:S}=s,{fetchAllPages:w=!0}=i,C=new URLSearchParams;r==="today"?C.append("date","today"):r&&C.append("fecha_reserva",r);const A=d||h,E=f||x;A&&C.append("fecha_inicio",A),E&&C.append("fecha_fin",E),c&&c!=="TODOS"&&C.append("estado",c.toLowerCase()),y&&y.trim()!==""&&C.append("search",y.trim()),(S==="true"||S===!0)&&C.append("all","true"),g&&C.append("page",g),(p||j)&&C.append("page_size",p||j);const T=`${`${ct}/reservas/`}?${C.toString()}`,L=async z=>{const B=await fetch(z,{method:"GET",headers:Qt()});if(!B.ok)throw new Error("Error al obtener reservas");return B.json()},_=z=>z?z.startsWith("http://")||z.startsWith("https://")?z.startsWith("http://")?z.replace("http://","https://"):z:z.startsWith("/")?`${ct}${z}`:`${ct}/${z}`:null;let M=T;const H=[];do{const z=await L(M),B=Array.isArray(z.results)?z.results:z;H.push(...B),!w||!z.next?M=null:M=_(z.next)}while(M);return H.map(z=>{const B=z.cliente_nombre_completo&&z.cliente_nombre_completo.trim()!==""?z.cliente_nombre_completo:z.cliente_nombre&&z.cliente_nombre.trim()!==""?z.cliente_nombre:z.cliente_username;return{id:z.id,cliente:B||"Sin nombre",cliente_telefono:z.cliente_telefono,cliente_email:z.cliente_email,cliente_rut:z.cliente_rut,mesa:`M${String(z.mesa_numero).padStart(2,"0")}`,fecha:z.fecha_reserva,hora:p1(z.hora_inicio),personas:z.num_personas,estado:z.estado.toUpperCase(),notas:z.notas||""}})}async function of({id:s,nuevoEstado:i}){const r=await fetch(`${ct}/reservas/${s}/cambiar_estado/`,{method:"PATCH",headers:Qt(),body:JSON.stringify({estado:i.toLowerCase()})});if(!r.ok){const c=await r.json();throw new Error(c.error||"Error al actualizar estado de la reserva")}return r.json()}async function b1({id:s,reservaData:i}){const r=await fetch(`${ct}/reservas/${s}/`,{method:"PATCH",headers:Qt(),body:JSON.stringify(i)});if(!r.ok){const c=await r.json();console.error("Error del backend:",c);const d=c.detail||c.error||JSON.stringify(c)||"Error al actualizar reserva";throw new Error(d)}return r.json()}async function j1(s){const i=await fetch(`${ct}/reservas/`,{method:"POST",headers:Qt(),body:JSON.stringify(s)});if(!i.ok){const r=await i.json();console.error("Error del backend:",r);const c=r.detail||JSON.stringify(r)||"Error al crear reserva";throw new Error(c)}return i.json()}async function so({fecha:s,personas:i=1}={}){const r=new URLSearchParams;s&&r.append("fecha",s),i&&r.append("personas",i.toString());const c=await fetch(`${ct}/horas-disponibles/?${r.toString()}`,{method:"GET",headers:Qt()});if(!c.ok){const d=await c.json();throw new Error(d.error||"Error al obtener horas disponibles")}return c.json()}async function tn({estado:s,fecha:i,hora:r}={}){const c=new URLSearchParams;s&&c.append("estado",s),i&&c.append("fecha",i),r&&c.append("hora",r);const d=await fetch(`${ct}/consultar-mesas/?${c.toString()}`,{method:"GET",headers:Qt()});if(!d.ok)throw new Error("Error al obtener mesas");return d.json()}async function y1({id:s,nuevoEstado:i}){const r=await fetch(`${ct}/mesas/${s}/`,{method:"PATCH",headers:Qt(),body:JSON.stringify({estado:i})});if(!r.ok){const c=await r.json();throw new Error(c.detail||"Error al actualizar estado de la mesa")}return r.json()}async function N1(){const s=await fetch(`${ct}/usuarios/`,{method:"GET",headers:Qt()});if(!s.ok){const i=await s.json();throw new Error(i.detail||"Error al obtener usuarios")}return s.json()}async function S1({userId:s,nuevoRol:i}){const r=await fetch(`${ct}/usuarios/${s}/cambiar-rol/`,{method:"PATCH",headers:Qt(),body:JSON.stringify({rol:i})});if(!r.ok){const c=await r.json();throw new Error(c.error||"Error al cambiar rol del usuario")}return r.json()}async function E1(){const s=await fetch(`${ct}/perfil/`,{method:"GET",headers:Qt()});if(!s.ok){const i=await s.json();throw new Error(i.error||"Error al obtener perfil")}return s.json()}async function C1(s){const i=await fetch(`${ct}/perfil/actualizar/`,{method:"PATCH",headers:Qt(),body:JSON.stringify(s)});if(!i.ok){const c=await i.json();throw new Error(c.error||"Error al actualizar perfil")}const r=await i.json();if(r.success&&r.perfil){const c=Kf();c&&(c.nombre_completo=r.perfil.nombre_completo,localStorage.setItem("user",JSON.stringify(c)))}return r}async function w1(s){const i=await fetch(`${ct}/verificar-token/${s}/`,{method:"GET",headers:getHeaders()});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al verificar token")}return i.json()}async function T1(s){const i=await fetch(`${ct}/reserva-invitado/${s}/`,{method:"GET",headers:getHeaders()});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al cargar reserva")}return i.json()}async function _1(s){const i=await fetch(`${ct}/reserva-invitado/${s}/cancelar/`,{method:"DELETE",headers:getHeaders()});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al cancelar reserva")}return i.json()}async function A1(s){const i=await fetch(`${ct}/activar-cuenta/`,{method:"POST",headers:getHeaders(),body:JSON.stringify(s)});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al activar cuenta")}return i.json()}async function uf(s={}){const i=new URLSearchParams;s.mesa_numero&&i.append("mesa_numero",s.mesa_numero),s.activo!==void 0&&i.append("activo",s.activo),s.categoria&&i.append("categoria",s.categoria),s.solo_activos&&i.append("solo_activos","true"),s.activos_en_fecha&&i.append("activos_en_fecha",s.activos_en_fecha);const r=`${ct}/bloqueos/?${i.toString()}`,c=await fetch(r,{method:"GET",headers:Qt()});if(!c.ok){const f=await c.json();throw new Error(f.error||f.detail||"Error al listar bloqueos")}const d=await c.json();return d.results||d}async function O1(s){const i=await fetch(`${ct}/bloqueos/`,{method:"POST",headers:Qt(),body:JSON.stringify(s)});if(!i.ok){const r=await i.json();if(typeof r=="object"&&!r.error){const c=Object.entries(r).map(([d,f])=>`${d}: ${Array.isArray(f)?f.join(", "):f}`).join(`
`);throw new Error(c)}throw new Error(r.error||"Error al crear bloqueo")}return i.json()}async function Xd(s){const i=await fetch(`${ct}/bloqueos/${s}/`,{method:"DELETE",headers:Qt()});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al eliminar bloqueo")}}async function R1(s){const i=await fetch(`${ct}/bloqueos/${s}/desactivar/`,{method:"POST",headers:Qt()});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al desactivar bloqueo")}return i.json()}async function D1(s){const i=await fetch(`${ct}/bloqueos/${s}/activar/`,{method:"POST",headers:Qt()});if(!i.ok){const r=await i.json();throw new Error(r.error||"Error al activar bloqueo")}return i.json()}function Vl({isOpen:s,onClose:i,title:r,children:c,size:d,closeOnBackdrop:f=!0}){return a.jsxs($e,{show:s,onHide:i,backdrop:f?!0:"static",keyboard:!0,centered:!0,size:d==="md"?void 0:d,children:[r&&a.jsx($e.Header,{closeButton:!0,children:a.jsx($e.Title,{children:r})}),a.jsx($e.Body,{children:c})]})}function Zf({isOpen:s,onClose:i,onConfirm:r,title:c="Est seguro?",message:d,confirmText:f="Confirmar",cancelText:h="Cancelar",confirmVariant:x="primary",isLoading:g=!1}){const p=async()=>{await r()};return a.jsxs(Vl,{isOpen:s,onClose:i,title:c,size:"sm",closeOnBackdrop:!g,children:[a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"mb-0",children:d})}),a.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[a.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:i,disabled:g,children:h}),a.jsx("button",{type:"button",className:`btn btn-${x}`,onClick:p,disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Procesando..."]}):f})]})]})}const Qb=m.createContext(null);function Zs(){const s=m.useContext(Qb);if(!s)throw new Error("useToast debe usarse dentro de ToastProvider");return s}function M1({children:s}){const[i,r]=m.useState([]),c=m.useCallback((j,y="info",S=4e3)=>{const w=Date.now()+Math.random(),C={id:w,message:j,type:y,duration:S};return r(A=>[...A,C]),S>0&&setTimeout(()=>{d(w)},S),w},[]),d=m.useCallback(j=>{r(y=>y.filter(S=>S.id!==j))},[]),f=m.useCallback((j,y)=>c(j,"success",y),[c]),h=m.useCallback((j,y=6e3)=>c(j,"error",y),[c]),x=m.useCallback((j,y)=>c(j,"warning",y),[c]),g=m.useCallback((j,y)=>c(j,"info",y),[c]),p={showToast:c,success:f,error:h,warning:x,info:g,removeToast:d};return a.jsxs(Qb.Provider,{value:p,children:[s,a.jsx(z1,{toasts:i,onRemove:d})]})}function z1({toasts:s,onRemove:i}){return s.length===0?null:a.jsx("div",{className:"position-fixed top-0 end-0 p-3",style:{zIndex:9999},children:a.jsx("div",{className:"d-flex flex-column gap-2",children:s.map(r=>a.jsx(k1,{toast:r,onClose:()=>i(r.id)},r.id))})})}function k1({toast:s,onClose:i}){const{message:r,type:c}=s,d={success:{bgClass:"bg-success",icon:"bi-check-circle-fill",title:"xito"},error:{bgClass:"bg-danger",icon:"bi-exclamation-circle-fill",title:"Error"},warning:{bgClass:"bg-warning",icon:"bi-exclamation-triangle-fill",title:"Advertencia"},info:{bgClass:"bg-info",icon:"bi-info-circle-fill",title:"Informacin"}},{bgClass:f,icon:h,title:x}=d[c]||d.info;return a.jsxs("div",{className:"toast show toast-animated",role:"alert","aria-live":"assertive","aria-atomic":"true",style:{minWidth:"300px",maxWidth:"400px"},children:[a.jsxs("div",{className:`toast-header ${f} text-white`,children:[a.jsx("i",{className:`bi ${h} me-2`}),a.jsx("strong",{className:"me-auto",children:x}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:i,"aria-label":"Cerrar"})]}),a.jsx("div",{className:"toast-body",children:r})]})}const Xc={"La mesa seleccionada no est disponible":{message:"La mesa que seleccion ya no est disponible para esta fecha y hora.",suggestion:"Por favor, seleccione otra mesa u horario."},"No se pueden crear reservas para fechas pasadas":{message:"No se pueden crear reservas en el pasado.",suggestion:"Seleccione una fecha futura."},"La mesa no tiene capacidad suficiente":{message:"La mesa seleccionada no tiene capacidad para la cantidad de personas.",suggestion:"Elija una mesa ms grande o reduzca el nmero de personas."},"Ya existe una reserva":{message:"Ya existe una reserva para esta mesa en el horario seleccionado.",suggestion:"Seleccione otro horario o mesa."},"Invalid credentials":{message:"Usuario o contrasea incorrectos.",suggestion:"Verifique sus credenciales e intente nuevamente."},"Token invlido":{message:"Su sesin ha expirado.",suggestion:"Por favor, inicie sesin nuevamente."},"No tiene permisos":{message:"No tiene permisos para realizar esta accin.",suggestion:"Contacte al administrador si necesita acceso."},"Este campo es requerido":{message:"Por favor, complete todos los campos obligatorios.",suggestion:"Los campos marcados con * son requeridos."},"Formato de email invlido":{message:"El formato del email no es vlido.",suggestion:"Ejemplo: usuario@ejemplo.com"},"La contrasea debe tener al menos 8 caracteres":{message:"La contrasea es muy corta.",suggestion:"Use al menos 8 caracteres."},"Las contraseas no coinciden":{message:"Las contraseas ingresadas no coinciden.",suggestion:"Verifique que ambas contraseas sean idnticas."},"username: Ya existe un usuario con este nombre":{message:"Este correo ya est asociado a una cuenta.",suggestion:"Inicia sesin con tu cuenta o utiliza otro correo."},"Este correo ya est registrado":{message:"Este correo ya se encuentra registrado.",suggestion:"Inicia sesin con tu cuenta o utiliza otro correo."},"Este correo ya tiene una reserva registrada":{message:"Ya existe una reserva con este correo.",suggestion:"Revisa tu email para gestionar la reserva existente o utiliza otro correo."},"El RUT ingresado ya se encuentra registrado":{message:"El RUT ingresado ya fue utilizado.",suggestion:"Si ya tienes una cuenta, inicia sesin; de lo contrario usa otro RUT."},"El RUT ingresado no coincide con tu cuenta existente":{message:"El RUT ingresado no coincide con tu cuenta existente.",suggestion:"Verifica tus datos o contacta al administrador si necesitas actualizar tu informacin."},"duplicate key value violates unique constraint":{message:"Algunos datos ya estaban registrados (correo o RUT duplicados).",suggestion:"Verifica que el correo y el RUT no estn en uso o inicia sesin con tu cuenta."},"Network Error":{message:"Error de conexin.",suggestion:"Verifique su conexin a internet e intente nuevamente."},"Failed to fetch":{message:"No se pudo conectar con el servidor.",suggestion:"Verifique su conexin a internet. Si el problema persiste, contacte soporte."},timeout:{message:"La solicitud tard demasiado tiempo.",suggestion:"Intente nuevamente en unos momentos."},"Internal Server Error":{message:"Ocurri un error en el servidor.",suggestion:"Intente nuevamente. Si el problema persiste, contacte soporte."},"Service Unavailable":{message:"El servicio no est disponible temporalmente.",suggestion:"Intente nuevamente en unos minutos."}};function L1(s){const i=s?.message||s?.toString()||s;if(Xc[i])return Xc[i];const r=Object.keys(Xc).find(c=>i.includes(c));return r?Xc[r]:{message:i||"Ocurri un error inesperado.",suggestion:"Si el problema persiste, contacte soporte tcnico."}}function Fl(s){const{message:i,suggestion:r}=L1(s);return r?`${i} ${r}`:i}function $1({fechaSeleccionada:s,onDiaClick:i,onCrearReserva:r}){const[c,d]=m.useState(()=>{const E=new Date(s+"T00:00:00");return new Date(E.getFullYear(),E.getMonth(),1)}),[f,h]=m.useState({}),[x,g]=m.useState(!1);m.useEffect(()=>{const E=new Date(s+"T00:00:00"),D=new Date(E.getFullYear(),E.getMonth(),1);D.getTime()!==c.getTime()&&d(D)},[s]),m.useEffect(()=>{p()},[c]);const p=async()=>{g(!0);try{const E=new Date(c),D=new Date(c.getFullYear(),c.getMonth()+1,0),T=E.toISOString().split("T")[0],L=D.toISOString().split("T")[0],M=(await cr({fecha_inicio:T,fecha_fin:L},{fetchAllPages:!0})).reduce((H,z)=>(H[z.fecha]||(H[z.fecha]=[]),H[z.fecha].push(z),H),{});h(M)}catch(E){console.error("Error al cargar reservas del mes:",E),h({})}finally{g(!1)}},j=E=>{d(new Date(c.getFullYear(),c.getMonth()+E,1))},y=()=>{const E=new Date;d(new Date(E.getFullYear(),E.getMonth(),1))},S=m.useMemo(()=>{const E=new Date(c),D=new Date(c.getFullYear(),c.getMonth()+1,0),T=E.getDay(),L=T===0?6:T-1,_=[];for(let z=L-1;z>=0;z--){const B=new Date(E);B.setDate(B.getDate()-z-1),_.push({fecha:B,esOtroMes:!0,fechaStr:B.toISOString().split("T")[0]})}for(let z=1;z<=D.getDate();z++){const B=new Date(c.getFullYear(),c.getMonth(),z);_.push({fecha:B,esOtroMes:!1,fechaStr:B.toISOString().split("T")[0]})}const M=_.length,H=Math.ceil(M/7)*7-M;for(let z=1;z<=H;z++){const B=new Date(c.getFullYear(),c.getMonth()+1,z);_.push({fecha:B,esOtroMes:!0,fechaStr:B.toISOString().split("T")[0]})}return _},[c]),w=E=>{const T=(f[E]||[]).filter(L=>L.estado==="ACTIVA"||L.estado==="PENDIENTE").length;return T===0?"none":T<=5?"low":T<=15?"medium":"high"},C=E=>{const D=new Date().toISOString().split("T")[0];return E===D},A=E=>E===s;return a.jsxs("div",{className:"calendario-mensual",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("h5",{className:"mb-0",children:c.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),a.jsxs("div",{className:"btn-group btn-group-sm",children:[a.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>j(-1),title:"Mes anterior",children:a.jsx("i",{className:"bi bi-chevron-left"})}),a.jsx("button",{className:"btn btn-outline-primary",onClick:y,children:"Hoy"}),a.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>j(1),title:"Mes siguiente",children:a.jsx("i",{className:"bi bi-chevron-right"})})]})]}),x&&a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})})}),a.jsxs("div",{className:"calendar-grid",children:[a.jsx("div",{className:"calendar-header",children:["Lun","Mar","Mi","Jue","Vie","Sb","Dom"].map(E=>a.jsx("div",{className:"calendar-day-name",children:E},E))}),a.jsx("div",{className:"calendar-days",children:S.map((E,D)=>{const T=w(E.fechaStr),_=(f[E.fechaStr]||[]).filter(H=>H.estado==="ACTIVA"||H.estado==="PENDIENTE").length,M=Math.min(3,Math.max(0,Math.ceil(_/6)));return a.jsxs("div",{className:"calendar-cell",children:[a.jsxs("button",{className:`calendar-day
                                        ${E.esOtroMes?"other-month":""}
                                        ${C(E.fechaStr)?"today":""}
                                        ${A(E.fechaStr)?"selected":""}
                                        ${T!=="none"?`occupied-${T}`:""}
                                    `,onClick:()=>i(E.fechaStr),disabled:E.esOtroMes,title:!E.esOtroMes&&_>0?`${_} reservas activas/pendientes`:void 0,children:[a.jsx("span",{className:"day-number",children:E.fecha.getDate()}),!E.esOtroMes&&_>0&&a.jsx("span",{className:"reservas-badge",children:_}),!E.esOtroMes&&M>0&&a.jsx("div",{className:"calendar-dots mt-1",children:Array.from({length:M}).map((H,z)=>a.jsx("span",{className:"calendar-dot"},z))})]}),!E.esOtroMes&&_>0&&a.jsxs("div",{className:"calendar-popover",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[a.jsxs("strong",{children:[_," reserva(s)"]}),r&&a.jsx("button",{className:"btn btn-primary btn-sm",type:"button",onClick:()=>r(E.fechaStr),children:"Crear"})]}),a.jsxs("div",{className:"small text-muted",children:["Ocupacin ",T==="high"?"alta":T==="medium"?"media":"baja"]})]})]},D)})})]}),a.jsxs("div",{className:"calendar-legend mt-3 d-flex justify-content-center gap-3 flex-wrap",children:[a.jsxs("div",{className:"d-flex align-items-center gap-1",children:[a.jsx("div",{className:"legend-box occupied-low"}),a.jsx("small",{className:"text-muted",children:"Baja (1-5)"})]}),a.jsxs("div",{className:"d-flex align-items-center gap-1",children:[a.jsx("div",{className:"legend-box occupied-medium"}),a.jsx("small",{className:"text-muted",children:"Media (6-15)"})]}),a.jsxs("div",{className:"d-flex align-items-center gap-1",children:[a.jsx("div",{className:"legend-box occupied-high"}),a.jsx("small",{className:"text-muted",children:"Alta (16+)"})]})]}),a.jsx("style",{jsx:!0,children:`
                .calendar-grid {
                    background: white;
                    border-radius: 8px;
                    overflow: hidden;
                    border: 1px solid #dee2e6;
                    max-width: 100%;
                }

                .calendar-header {
                    display: grid;
                    grid-template-columns: repeat(7, 1fr);
                    background: #f8f9fa;
                    border-bottom: 1px solid #dee2e6;
                }

                .calendar-day-name {
                    padding: 12px;
                    text-align: center;
                    font-weight: 600;
                    font-size: 0.875rem;
                    color: #495057;
                }

                .calendar-days {
                    display: grid;
                    grid-template-columns: repeat(7, 1fr);
                    gap: 1px;
                    background: #dee2e6;
                    width: 100%;
                }

                .calendar-cell {
                    position: relative;
                    min-width: 0;
                }

                .calendar-day {
                    position: relative;
                    aspect-ratio: 1;
                    min-height: 80px;
                    padding: 8px;
                    background: white;
                    border: none;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    transition: all 0.2s;
                }

                .calendar-day:hover:not(:disabled) {
                    background: #e9ecef;
                    transform: scale(1.02);
                    z-index: 1;
                }

                .calendar-day.other-month {
                    opacity: 0.3;
                    cursor: not-allowed;
                }

                .calendar-day.today {
                    background: #e7f3ff;
                    font-weight: bold;
                }

                .calendar-day.today .day-number {
                    color: #0d6efd;
                }

                .calendar-day.selected {
                    background: #0d6efd;
                    color: white;
                }

                .calendar-day.selected .day-number,
                .calendar-day.selected .reservas-badge {
                    color: white;
                }

                .calendar-cell:hover .calendar-popover {
                    opacity: 1;
                    visibility: visible;
                    transform: translateY(0);
                }

                .calendar-popover {
                    position: absolute;
                    z-index: 2;
                    top: 8px;
                    right: 4px;
                    background: #fff;
                    border: 1px solid #dee2e6;
                    border-radius: 0.75rem;
                    padding: 0.75rem;
                    box-shadow: 0 12px 32px rgba(0,0,0,0.12);
                    width: 200px;
                    opacity: 0;
                    visibility: hidden;
                    transform: translateY(6px);
                    transition: all 0.15s ease;
                }

                .calendar-day.occupied-low {
                    background: #d1ecf1;
                }

                .calendar-day.occupied-medium {
                    background: #fff3cd;
                }

                .calendar-day.occupied-high {
                    background: #f8d7da;
                }

                .day-number {
                    font-size: 1.1rem;
                    font-weight: 500;
                }

                .reservas-badge {
                    position: absolute;
                    top: 4px;
                    right: 4px;
                    background: #6c757d;
                    color: white;
                    border-radius: 10px;
                    padding: 2px 6px;
                    font-size: 0.75rem;
                    font-weight: 600;
                }

                .calendar-day.occupied-low .reservas-badge {
                    background: #0dcaf0;
                }

                .calendar-day.occupied-medium .reservas-badge {
                    background: #ffc107;
                }

                .calendar-day.occupied-high .reservas-badge {
                    background: #dc3545;
                }

                .legend-box {
                    width: 24px;
                    height: 24px;
                    border-radius: 4px;
                    border: 1px solid #dee2e6;
                }

                .calendar-dots {
                    display: inline-flex;
                    gap: 4px;
                }

                .calendar-dot {
                    width: 8px;
                    height: 8px;
                    background: #0d6efd;
                    border-radius: 999px;
                    opacity: 0.75;
                }

                @media (max-width: 768px) {
                    .calendar-day {
                        min-height: 60px;
                        padding: 4px;
                    }

                    .day-number {
                        font-size: 0.9rem;
                    }

                    .calendar-day-name {
                        padding: 8px 4px;
                        font-size: 0.75rem;
                    }
                }
            `})]})}function zv({user:s,onLogout:i,showAllReservations:r=!1,setActiveTab:c}){const d=s?.rol||"cliente",f=Zs(),h=typeof window<"u",x=r?"panelReservas_all_filters":"panelReservas_filters",[g,p]=m.useState([]),[j,y]=m.useState({isOpen:!1,reserva:null}),[S,w]=m.useState({isOpen:!1,title:"",message:"",onConfirm:null}),A=(()=>{if(!h)return null;try{const R=sessionStorage.getItem(x);return R?JSON.parse(R):null}catch{return null}})(),E=A?.fecha!==void 0?A.fecha:r?"":new Date().toISOString().slice(0,10),D=!r&&E===new Date().toISOString().slice(0,10),[T,L]=m.useState(E),_=()=>{const R=new Date;return R.setDate(R.getDate()-30),R.toISOString().slice(0,10)},M=A?.fechaInicio!==void 0?A.fechaInicio:r?_():"",H=A?.fechaFin||"",z=A?.estadoFiltro||"TODOS",B=A?.searchAllHistory||!1,[J,q]=m.useState(M),[X,P]=m.useState(H),[te,de]=m.useState(z),[pe,V]=m.useState(A?.busqueda||""),[ne,ce]=m.useState(A?.searchHora||""),[ge,U]=m.useState(A?.searchPersonasMin||""),[b,O]=m.useState(A?.searchPersonasMax||""),[I,ee]=m.useState(!1),[oe,je]=m.useState(B),[G,re]=m.useState(1),[me,_e]=m.useState(A?.itemsPerPage||10),[De,ft]=m.useState(D),[pt,xt]=m.useState(!1),[Ge]=m.useState(30),Et=m.useRef(null),[Je,Ra]=m.useState(A?.sortField||null),[vt,se]=m.useState(A?.sortDirection||"asc"),[xe,we]=m.useState(!1),[yt,Re]=m.useState({}),[Jt,Oe]=m.useState(""),[at,ga]=m.useState(!1),[ei,Js]=m.useState("table"),[Ss,ti]=m.useState("list"),[Ln,It]=m.useState(null),[qt,Rt]=m.useState([]),[Er,Ya]=m.useState(!1),[ai,Da]=m.useState(-1),$n=m.useRef(null),Bn=m.useRef(null),[Dt,Ma]=m.useState([]),[za,Un]=m.useState({isOpen:!1,reserva:null,loading:!1}),[mt,Va]=m.useState({fecha_reserva:"",hora_inicio:"",mesa:"",num_personas:1,notas:""}),[Es,No]=m.useState([]),[Is,Ps]=m.useState([]),[Hn,ln]=m.useState(!1),[Ws,ni]=m.useState(null),[si,ka]=m.useState(null),ot=pe.trim(),ut=ot!=="",Gt=oe&&ut&&!r,rn=async()=>{try{we(!0),Oe("");const R={};r||J||X?(J&&(R.fecha_inicio=J),X&&(R.fecha_fin=X)):T&&!ut&&(R.fecha=T),te&&te!=="TODOS"&&(R.estado=te.toLowerCase()),ut&&(R.search=ot,oe&&!r&&(R.all="true"));const ue=await cr(R);p(ue),It(new Date)}catch(R){console.error(R),Oe("No se pudieron cargar las reservas.")}finally{we(!1)}},So=async R=>{if(!R||R.trim().length<2){Rt([]),Ya(!1);return}try{const ue={search:R.trim(),all:"true",page_size:5};te&&te!=="TODOS"&&(ue.estado=te.toLowerCase());const Ae=await cr(ue,{fetchAllPages:!1}),Ee=new Map;Ae.forEach(Ve=>{const lt=Ve.cliente_email||Ve.cliente;Ee.has(lt)||Ee.set(lt,{nombre:Ve.cliente,email:Ve.cliente_email,telefono:Ve.cliente_telefono})});const Ke=Array.from(Ee.values());Rt(Ke),Ya(Ke.length>0),Da(-1)}catch(ue){console.error("Error fetching autocomplete suggestions:",ue),Rt([]),Ya(!1)}};m.useEffect(()=>{rn(),re(1)},[T,J,X,r,oe,te]),m.useEffect(()=>{const R=setTimeout(()=>{rn(),re(1)},300);return()=>clearTimeout(R)},[pe]),m.useEffect(()=>{const R=setTimeout(()=>{pe&&pe.trim().length>=2?So(pe):(Ya(!1),Rt([]))},200);return()=>clearTimeout(R)},[pe]),m.useEffect(()=>{const R=ue=>{$n.current&&!$n.current.contains(ue.target)&&Bn.current&&!Bn.current.contains(ue.target)&&Ya(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]),m.useEffect(()=>{(async()=>{try{const ue=await tn();ni(ue),ka(Date.now())}catch(ue){console.error("Error al pre-cargar mesas:",ue)}})()},[]),m.useEffect(()=>{if(r){ft(!1),xt(!1);return}const R=new Date().toISOString().slice(0,10);T===R?pt||ft(!0):(ft(!1),xt(!1))},[T,r,pt]),m.useEffect(()=>(De?Et.current=setInterval(()=>{rn()},Ge*1e3):Et.current&&(clearInterval(Et.current),Et.current=null),()=>{Et.current&&clearInterval(Et.current)}),[De,Ge,T]),m.useEffect(()=>{if(!h)return;const R={fecha:T,estadoFiltro:te,busqueda:pe,searchHora:ne,searchPersonasMin:ge,searchPersonasMax:b,searchAllHistory:oe,fechaInicio:J,fechaFin:X,itemsPerPage:me,sortField:Je,sortDirection:vt};sessionStorage.setItem(x,JSON.stringify(R))},[T,J,X,te,pe,ne,ge,b,oe,me,Je,vt,h,x]),m.useEffect(()=>{if(!h)return;const R=()=>{ga(window.innerWidth<992)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[h]),m.useEffect(()=>{at&&Js("cards")},[at]);const Yt=m.useMemo(()=>{let R=g.filter(ue=>{const Ae=te==="TODOS"||ue.estado===te,Ee=!ne||ue.hora&&ue.hora.includes(ne),Ke=!ge||ue.personas&&ue.personas>=parseInt(ge),Ve=!b||ue.personas&&ue.personas<=parseInt(b);return Ae&&Ee&&Ke&&Ve});return Je&&R.sort((ue,Ae)=>{let Ee=ue[Je],Ke=Ae[Je];return Je==="hora"&&(Ee=Ee||"00:00",Ke=Ke||"00:00"),Je==="personas"&&(Ee=parseInt(Ee)||0,Ke=parseInt(Ke)||0),Je==="fecha"&&(Ee=Ee?new Date(`${Ee}T00:00:00`).getTime():0,Ke=Ke?new Date(`${Ke}T00:00:00`).getTime():0),Ee<Ke?vt==="asc"?-1:1:Ee>Ke?vt==="asc"?1:-1:0}),R},[g,te,ne,ge,b,Je,vt]),Fa=Math.ceil(Yt.length/me),La=m.useMemo(()=>{const R=(G-1)*me,ue=R+me;return Yt.slice(R,ue)},[Yt,G,me]);m.useEffect(()=>{re(1)},[te,pe,ne,ge,b]);const Xa=R=>{Je===R?se(vt==="asc"?"desc":"asc"):(Ra(R),se("asc"))},qn=()=>{L(r?"":new Date().toISOString().split("T")[0]),q(r?_():""),P(""),de("TODOS"),V(""),ce(""),U(""),O(""),je(!1),Ra(null),se("asc"),re(1)},Gn=()=>{ft(R=>!R),xt(!0)},Cs=R=>{je(R)},Qa=R=>{const ue=T?new Date(T):new Date;ue.setDate(ue.getDate()+R),L(ue.toISOString().split("T")[0])},Ct=()=>{L(new Date().toISOString().split("T")[0])},Cr=()=>{Qa(1)},wr=()=>{const R=new Date,ue=R.getDay(),Ae=ue===0?-6:1-ue,Ee=new Date(R);Ee.setDate(R.getDate()+Ae),L(Ee.toISOString().split("T")[0])},cn=R=>{L(R),ti("list")},on=R=>{V(R.nombre),Ya(!1),Da(-1)},Eo=R=>{if(!(!Er||qt.length===0))switch(R.key){case"ArrowDown":R.preventDefault(),Da(ue=>ue<qt.length-1?ue+1:ue);break;case"ArrowUp":R.preventDefault(),Da(ue=>ue>0?ue-1:-1);break;case"Enter":R.preventDefault(),ai>=0&&on(qt[ai]);break;case"Escape":R.preventDefault(),Ya(!1),Da(-1);break}},ws=m.useMemo(()=>{const R=Yt.filter(Ee=>Ee.estado==="ACTIVA").length,ue=Yt.filter(Ee=>Ee.estado==="PENDIENTE").length,Ae=Yt.filter(Ee=>Ee.estado==="CANCELADA").length;return{activas:R,pendientes:ue,canceladas:Ae}},[Yt]);function el(R){return R?R.substring(0,5):""}const tl=R=>R?new Date(`${R}T00:00:00`).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"}):"";async function Ts(R,ue,Ae=!1){const Ke=Ae||["cancelada","completada"].includes(ue.toLowerCase()),Ve=async()=>{try{Re(lt=>({...lt,[R]:!0})),Oe(""),await of({id:R,nuevoEstado:ue}),p(lt=>lt.map(gt=>gt.id===R?{...gt,estado:ue}:gt)),f.success("Estado de la reserva actualizado correctamente")}catch(lt){console.error(lt);const gt=Fl(lt);Oe(gt),f.error(gt)}finally{Re(lt=>{const gt={...lt};return delete gt[R],gt})}};if(Ke){const lt={cancelada:"Est seguro de que desea cancelar esta reserva? Esta accin no se puede deshacer.",completada:"Confirma que esta reserva ha sido completada? Esto marcar la reserva como finalizada."};w({isOpen:!0,title:`Confirmar cambio a ${ue.toUpperCase()}`,message:lt[ue.toLowerCase()]||"Est seguro de realizar este cambio?",onConfirm:async()=>{w({isOpen:!1,title:"",message:"",onConfirm:null}),await Ve()}})}else await Ve()}async function al(R){try{const ue=parseInt(R.mesa.substring(1)),Ae={fecha_reserva:R.fecha,hora_inicio:R.hora,mesa:ue,num_personas:R.personas,notas:R.notas||""};Va(Ae),Un({isOpen:!0,reserva:R,loading:!0}),y({isOpen:!1,reserva:null}),ln(!0);const Ee=300*1e3,Ke=Ws&&si&&Date.now()-si<Ee,[Ve,lt]=await Promise.all([Ke?Promise.resolve(Ws):tn(),so({fecha:R.fecha,personas:R.personas})]);Ke||(ni(Ve),ka(Date.now())),No(Ve),Ps(lt.horas_disponibles||[]),Un({isOpen:!0,reserva:R,loading:!1}),ln(!1)}catch(ue){console.error("Error al abrir modal de edicin:",ue),f.error("Error al cargar datos para edicin"),Un({isOpen:!1,reserva:null,loading:!1}),ln(!1)}}async function ba(R,ue){try{const Ae=await so({fecha:R,personas:ue});Ps(Ae.horas_disponibles||[])}catch(Ae){console.error("Error al cargar horas disponibles:",Ae),Ps([])}}async function ea(R){R.preventDefault();try{ln(!0);const ue={mesa:mt.mesa,fecha_reserva:mt.fecha_reserva,hora_inicio:mt.hora_inicio,num_personas:mt.num_personas,notas:mt.notas};await b1({id:za.reserva.id,reservaData:ue}),await rn(),Un({isOpen:!1,reserva:null}),f.success("Reserva actualizada correctamente")}catch(ue){console.error("Error al actualizar reserva:",ue);const Ae=Fl(ue);f.error(Ae)}finally{ln(!1)}}function li(R){return{PENDIENTE:["activa","cancelada"],ACTIVA:["completada","cancelada"],COMPLETADA:[],CANCELADA:[]}[R]||[]}function Tr(R){return d==="admin"||d==="cajero"?a.jsxs(xa,{align:"end",children:[a.jsxs(xa.Toggle,{variant:"outline-primary",size:"sm",id:`dropdown-${R.id}`,children:[a.jsx("i",{className:"bi bi-gear me-1"}),"Acciones"]}),a.jsx(xa.Menu,{children:a.jsxs(xa.Item,{onClick:()=>y({isOpen:!0,reserva:R}),children:[a.jsx("i",{className:"bi bi-eye me-2"}),"Ver detalle"]})})]}):null}const nl=R=>{Ma(ue=>ue.includes(R)?ue.filter(Ae=>Ae!==R):[...ue,R])},_r=R=>{if(R){const ue=La.map(Ae=>Ae.id);Ma(ue)}else Ma([])},sl=()=>{Ma([])};async function ll(R){if(Dt.length===0)return;const ue=async()=>{const Ee=[];let Ke=0;for(const Ve of Dt)try{Re(lt=>({...lt,[Ve]:!0})),await of({id:Ve,nuevoEstado:R}),p(lt=>lt.map(gt=>gt.id===Ve?{...gt,estado:R}:gt)),Ke++}catch(lt){console.error(`Error updating reservation ${Ve}:`,lt),Ee.push(Ve)}finally{Re(lt=>{const gt={...lt};return delete gt[Ve],gt})}Ma([]),Ke>0&&f.success(`${Ke} reserva(s) actualizada(s) a ${R.toUpperCase()}`),Ee.length>0&&f.error(`${Ee.length} reserva(s) fallaron al actualizarse`)};if(["cancelada","completada"].includes(R.toLowerCase())){const Ee={cancelada:`Est seguro de que desea cancelar ${Dt.length} reserva(s)? Esta accin no se puede deshacer.`,completada:`Confirma que desea marcar ${Dt.length} reserva(s) como completadas?`};w({isOpen:!0,title:`Confirmar cambio masivo a ${R.toUpperCase()}`,message:Ee[R.toLowerCase()]||`Est seguro de cambiar ${Dt.length} reserva(s)?`,onConfirm:async()=>{w({isOpen:!1,title:"",message:"",onConfirm:null}),await ue()}})}else await ue()}m.useEffect(()=>{Ma([])},[T,J,X,te,pe,G]);function Pt(R){const ue=yt[R.id];if(d==="admin"||d==="cajero"){const Ae=[{label:"ACTIVA",value:"activa",icon:"bi-check-circle",color:"success"},{label:"PENDIENTE",value:"pendiente",icon:"bi-clock",color:"warning"},{label:"COMPLETADA",value:"completada",icon:"bi-check-all",color:"info"},{label:"CANCELADA",value:"cancelada",icon:"bi-x-circle",color:"danger"}],Ee=li(R.estado),Ke=Ae.filter(Ve=>Ee.includes(Ve.value));return ue?a.jsxs("span",{className:`estado-badge estado-${R.estado}`,children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1",role:"status","aria-hidden":"true"}),R.estado]}):a.jsxs(xa,{align:"end",children:[a.jsxs(xa.Toggle,{as:"span",className:`estado-badge estado-${R.estado}`,style:{cursor:"pointer"},id:`estado-dropdown-${R.id}`,title:"Click para cambiar estado",children:[R.estado,a.jsx("i",{className:"bi bi-chevron-down ms-1",style:{fontSize:"0.75rem"}})]}),a.jsxs(xa.Menu,{className:"shadow-sm",children:[a.jsx(xa.Header,{children:"Cambiar a:"}),Ke.map(Ve=>a.jsxs(xa.Item,{onClick:()=>Ts(R.id,Ve.value),children:[a.jsx("i",{className:`bi ${Ve.icon} me-2 text-${Ve.color}`}),a.jsx("span",{children:Ve.label})]},Ve.value))]})]})}return a.jsx("span",{className:`estado-badge estado-${R.estado}`,children:R.estado})}const ii=r?"Todas las reservas":"Panel de reservas",Ar=r?"Analiza el historial completo usando rangos de fechas personalizados.":"Reservas activas, pendientes y canceladas del da.",il=T?new Date(T+"T00:00:00").toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Sin filtro de fecha",Yn=J||X?`${J||"inicio"}  ${X||"sin fin"}`:"Sin rango",ri=!!(J||X||Gt),Or=()=>{q(_()),P("")},Vn=m.useMemo(()=>[{label:"Reservas activas",value:ws.activas,icon:"bi-rocket-takeoff",tone:"primary"},{label:"Pendientes por confirmar",value:ws.pendientes,icon:"bi-hourglass-split",tone:"warning"},{label:"Canceladas",value:ws.canceladas,icon:"bi-x-octagon",tone:"danger"}],[ws]),Co=[{value:"TODOS",label:"Todos",icon:"bi-hypnotize",tone:"secondary"},{value:"ACTIVA",label:"Activa",icon:"bi-lightning-charge",tone:"success"},{value:"PENDIENTE",label:"Pendiente",icon:"bi-hourglass-split",tone:"warning"},{value:"CANCELADA",label:"Cancelada",icon:"bi-x-octagon",tone:"danger"},{value:"COMPLETADA",label:"Completada",icon:"bi-check2-circle",tone:"info"}],un=m.useMemo(()=>ut?Gt?"en todo el historial":J||X?`entre ${J||"inicio"} y ${X||"hoy"}`:T?`el ${tl(T)}`:"en los ltimos 7 das":null,[ut,Gt,J,X,T]),ci=m.useMemo(()=>!ut||!un?null:`Mostrando coincidencias para "${ot}" ${un}`,[ut,ot,un]),rl=m.useMemo(()=>xe||Yt.length>0?null:ut&&un?`Sin reservas para "${ot}" ${un}.`:"No hay reservas que coincidan con los filtros seleccionados.",[xe,Yt.length,ut,ot,un]),Rr=Ln?Ln.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"}):null,Dr=Rr?`Actualizado a las ${Rr}`:"An sin actualizacin manual",_s=d==="admin"||d==="cajero"||d==="mesero",$a=Ss==="calendar"?"Calendario de reservas":r?"Historial de reservas":"Reservas del da";return a.jsxs("div",{className:"container py-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"h3 mb-1 fw-semibold",children:ii}),a.jsx("p",{className:"text-muted mb-0",children:Ar})]}),a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsxs("div",{className:"text-end",children:[a.jsx("div",{className:"fw-semibold",children:s?.nombre_completo||s?.username}),a.jsx("small",{className:"text-muted",children:s?.rol_display})]}),a.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:i,children:"Cerrar Sesin"})]})]}),a.jsx("div",{className:"row g-3 mb-4",children:Vn.map(R=>a.jsx("div",{className:"col-md-4",children:a.jsx("div",{className:"card border-0 shadow-sm resumen-card",children:a.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[a.jsx("div",{className:`resumen-card__icon text-${R.tone}`,children:a.jsx("i",{className:`bi ${R.icon}`})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted small d-block",children:R.label}),a.jsx("span",{className:"h4 mb-0 fw-bold",children:R.value})]})]})})},R.label))}),a.jsx("div",{className:"card border-0 shadow-sm mb-4 panel-controls glass-panel",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"d-flex flex-column flex-md-row flex-wrap justify-content-md-between align-items-start align-items-md-center mb-3 pb-3 border-bottom gap-3",children:[a.jsx("div",{className:"d-flex align-items-center gap-2 flex-wrap w-100 w-md-auto",children:r?a.jsx("span",{className:"text-muted small",children:"Mostrando todas las reservas. Usa los filtros para acotar."}):a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Qa(-1),title:"Da anterior","aria-label":"Da anterior",children:""}),a.jsxs("button",{className:"btn btn-outline-primary btn-sm",onClick:Ct,children:[a.jsx("i",{className:"bi bi-calendar-check me-1"}),"Hoy"]}),a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>Qa(1),title:"Da siguiente","aria-label":"Da siguiente",children:""}),a.jsx("div",{className:"vr"}),a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:Cr,children:"Maana"}),a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:wr,children:"Esta Semana"})]})}),a.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2 w-100 w-md-auto justify-content-start justify-content-md-end",children:[a.jsxs("div",{className:`auto-refresh-pill ${De?"active":""}`,children:[a.jsxs("div",{className:"form-check form-switch form-check-reverse small m-0",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"auto-refresh-switch",checked:De,onChange:Gn}),a.jsxs("label",{className:"form-check-label",htmlFor:"auto-refresh-switch",children:["Auto-refresh ",De?"(on)":"(off)"]})]}),a.jsx("small",{className:"text-muted d-block",children:Dr})]}),a.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[a.jsxs("button",{type:"button",className:`btn ${Ss==="list"?"btn-primary":"btn-outline-primary"}`,onClick:()=>ti("list"),children:[a.jsx("i",{className:"bi bi-list-ul me-1"}),"Lista"]}),a.jsxs("button",{type:"button",className:`btn ${Ss==="calendar"?"btn-primary":"btn-outline-primary"}`,onClick:()=>ti("calendar"),children:[a.jsx("i",{className:"bi bi-calendar3 me-1"}),"Calendario"]})]}),Ss==="list"&&!at&&a.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[a.jsxs("button",{type:"button",className:`btn ${ei==="cards"?"btn-primary":"btn-outline-primary"}`,onClick:()=>Js("cards"),children:[a.jsx("i",{className:"bi bi-grid-3x3-gap me-1"}),"Tarjetas"]}),a.jsxs("button",{type:"button",className:`btn ${ei==="table"?"btn-primary":"btn-outline-primary"}`,onClick:()=>Js("table"),children:[a.jsx("i",{className:"bi bi-table me-1"}),"Tabla"]})]})]})]}),a.jsx("div",{className:"d-flex flex-wrap gap-2 mb-3",children:Co.map(R=>a.jsxs("button",{type:"button",className:`filter-chip ${te===R.value?"filter-chip--active":""}`,onClick:()=>de(R.value),children:[a.jsx("i",{className:`bi ${R.icon} me-1`}),R.label]},R.value))}),a.jsxs("div",{className:"row g-3 mb-3",children:[r?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-md-6 col-lg-2",children:[a.jsx("label",{htmlFor:"filtro-fecha-inicio",className:"form-label small",children:"Desde"}),a.jsx("input",{type:"date",id:"filtro-fecha-inicio",className:"form-control form-control-sm",value:J,onChange:R=>q(R.target.value)})]}),a.jsxs("div",{className:"col-md-6 col-lg-2",children:[a.jsx("label",{htmlFor:"filtro-fecha-fin",className:"form-label small",children:"Hasta"}),a.jsx("input",{type:"date",id:"filtro-fecha-fin",className:"form-control form-control-sm",value:X,min:J||void 0,onChange:R=>P(R.target.value)})]})]}):a.jsxs("div",{className:"col-md-6 col-lg-3",children:[a.jsx("label",{htmlFor:"filtro-fecha",className:"form-label small",children:"Fecha"}),a.jsx("input",{type:"date",id:"filtro-fecha",className:"form-control form-control-sm",value:T,onChange:R=>L(R.target.value),disabled:ri,style:ri?{opacity:.6,cursor:"not-allowed"}:{}}),a.jsx("small",{className:"text-muted",children:Gt?a.jsxs("span",{className:"text-info",children:[a.jsx("i",{className:"bi bi-database me-1"}),"Historial completo activo (se ignoran los filtros de fecha)"]}):J||X?a.jsxs("span",{className:"text-warning",children:[a.jsx("i",{className:"bi bi-info-circle me-1"}),"Rango de fechas activo (ver bsqueda avanzada)"]}):il})]}),a.jsxs("div",{className:"col-md-6 col-lg-2",children:[a.jsx("label",{htmlFor:"filtro-estado",className:"form-label small",children:"Estado"}),a.jsxs("select",{id:"filtro-estado",className:"form-select form-select-sm",value:te,onChange:R=>de(R.target.value),children:[a.jsx("option",{value:"TODOS",children:"Todos"}),a.jsx("option",{value:"ACTIVA",children:"Activa"}),a.jsx("option",{value:"PENDIENTE",children:"Pendiente"}),a.jsx("option",{value:"CANCELADA",children:"Cancelada"}),a.jsx("option",{value:"COMPLETADA",children:"Completada"})]})]}),a.jsxs("div",{className:`col-md-12 ${r?"col-lg-4":"col-lg-5"}`,children:[a.jsx("label",{htmlFor:"filtro-busqueda",className:"form-label small",children:"Buscar cliente"}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{ref:Bn,type:"text",id:"filtro-busqueda",className:"form-control form-control-sm",placeholder:"Buscar por nombre, email o usuario...",value:pe,onChange:R=>{V(R.target.value)},onKeyDown:Eo,onFocus:()=>{pe&&pe.trim().length>=2&&qt.length>0&&Ya(!0)},autoComplete:"off"}),Er&&qt.length>0&&a.jsx("div",{ref:$n,style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #dee2e6",borderRadius:"0.25rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",zIndex:1e3,maxHeight:"400px",overflowY:"auto",marginTop:"2px"},children:qt.map((R,ue)=>a.jsxs("div",{onClick:()=>on(R),style:{padding:"10px 12px",cursor:"pointer",backgroundColor:ai===ue?"#e9ecef":"white",borderBottom:ue<qt.length-1?"1px solid #f1f3f5":"none",transition:"background-color 0.15s ease"},onMouseEnter:()=>Da(ue),children:[a.jsxs("div",{style:{fontWeight:500,color:"#212529",marginBottom:"2px"},children:[a.jsx("i",{className:"bi bi-person-circle me-2 text-primary"}),R.nombre]}),R.email&&a.jsxs("div",{style:{fontSize:"0.85rem",color:"#6c757d"},children:[a.jsx("i",{className:"bi bi-envelope me-2"}),R.email]}),R.telefono&&a.jsxs("div",{style:{fontSize:"0.85rem",color:"#6c757d"},children:[a.jsx("i",{className:"bi bi-telephone me-2"}),R.telefono]})]},ue))})]}),!r&&a.jsxs("div",{className:"form-check mt-1",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"search-all-history-inline",checked:oe,onChange:R=>je(R.target.checked)}),a.jsxs("label",{className:"form-check-label small text-muted",htmlFor:"search-all-history-inline",children:[a.jsx("i",{className:"bi bi-database me-1"}),"Buscar en todo el historial"]})]})]}),a.jsxs("div",{className:"col-md-6 col-lg-2",children:[a.jsx("label",{htmlFor:"items-per-page",className:"form-label small",children:"Items por pgina"}),a.jsxs("select",{id:"items-per-page",className:"form-select form-select-sm",value:me,onChange:R=>_e(Number(R.target.value)),children:[a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"10",children:"10"}),a.jsx("option",{value:"25",children:"25"}),a.jsx("option",{value:"50",children:"50"})]})]})]}),r&&a.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2 mb-3",children:[a.jsxs("span",{className:"badge rounded-pill badge-soft-primary",children:[a.jsx("i",{className:"bi bi-calendar-range me-1"}),Yn]}),(J||X)&&a.jsx("button",{className:"btn btn-link btn-sm p-0",onClick:Or,children:"Limpiar rango"})]}),!r&&(J||X)&&a.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2 mb-3 pb-2 border-bottom",children:[a.jsxs("span",{className:"badge rounded-pill badge-soft-info",children:[a.jsx("i",{className:"bi bi-funnel me-1"}),"Rango activo: ",J||"inicio","  ",X||"hoy"]}),a.jsxs("button",{className:"btn btn-link btn-sm p-0",onClick:()=>{q(""),P("")},children:[a.jsx("i",{className:"bi bi-x-circle me-1"}),"Limpiar rango"]})]}),a.jsxs("div",{className:"d-flex flex-column flex-sm-row justify-content-sm-end align-items-sm-center gap-2 pt-2 border-top",children:[a.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:rn,disabled:xe,children:[a.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Actualizar ahora"]}),a.jsx("small",{className:"text-muted",children:Dr})]}),a.jsxs("div",{className:"pt-3 border-top mt-3",children:[a.jsxs("button",{className:"btn btn-link btn-sm text-decoration-none p-0",onClick:()=>ee(!I),children:[a.jsx("i",{className:`bi bi-${I?"chevron-up":"chevron-down"} me-1`}),"Bsqueda avanzada"]}),I&&a.jsx("div",{className:"mt-2 p-2 bg-light rounded",children:a.jsxs("div",{className:"row g-2",children:[!r&&a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"search-all-history",checked:oe,onChange:R=>Cs(R.target.checked)}),a.jsxs("label",{className:"form-check-label small",htmlFor:"search-all-history",children:[a.jsx("i",{className:"bi bi-database me-1"}),a.jsx("strong",{children:"Buscar en todo el historial"}),a.jsx("span",{className:"text-muted ms-1",children:"(ltimos 7 das por defecto)"})]})]})}),!r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-md-3",children:[a.jsxs("label",{htmlFor:"advanced-fecha-inicio",className:"form-label small mb-1",children:[a.jsx("i",{className:"bi bi-calendar-range me-1"}),"Fecha desde"]}),a.jsx("input",{type:"date",id:"advanced-fecha-inicio",className:"form-control form-control-sm",value:J,onChange:R=>q(R.target.value),disabled:Gt,style:Gt?{opacity:.6,cursor:"not-allowed"}:{}})]}),a.jsxs("div",{className:"col-md-3",children:[a.jsxs("label",{htmlFor:"advanced-fecha-fin",className:"form-label small mb-1",children:[a.jsx("i",{className:"bi bi-calendar-range me-1"}),"Fecha hasta"]}),a.jsx("input",{type:"date",id:"advanced-fecha-fin",className:"form-control form-control-sm",value:X,min:J||void 0,onChange:R=>P(R.target.value),disabled:Gt,style:Gt?{opacity:.6,cursor:"not-allowed"}:{}})]})]}),Gt&&a.jsx("div",{className:"col-12",children:a.jsx("small",{className:"text-info",children:"Mientras el historial completo est activo se ignorarn los filtros de fecha."})}),a.jsxs("div",{className:"col-md-2",children:[a.jsxs("label",{htmlFor:"search-hora",className:"form-label small mb-1",children:[a.jsx("i",{className:"bi bi-clock me-1"}),"Hora"]}),a.jsx("input",{type:"time",id:"search-hora",className:"form-control form-control-sm",value:ne,onChange:R=>ce(R.target.value)})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsxs("label",{htmlFor:"search-personas-min",className:"form-label small mb-1",children:[a.jsx("i",{className:"bi bi-people me-1"}),"Pers. mn"]}),a.jsx("input",{type:"number",id:"search-personas-min",className:"form-control form-control-sm",min:"1",value:ge,onChange:R=>U(R.target.value),placeholder:"Min"})]}),a.jsxs("div",{className:"col-md-2",children:[a.jsxs("label",{htmlFor:"search-personas-max",className:"form-label small mb-1",children:[a.jsx("i",{className:"bi bi-people me-1"}),"Pers. mx"]}),a.jsx("input",{type:"number",id:"search-personas-max",className:"form-control form-control-sm",min:"1",value:b,onChange:R=>O(R.target.value),placeholder:"Max"})]}),a.jsx("div",{className:"col-12 mt-2",children:a.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:qn,children:[a.jsx("i",{className:"bi bi-x-circle me-1"}),"Limpiar filtros"]})})]})})]})]})}),Dt.length>0&&(d==="admin"||d==="cajero")&&a.jsxs("div",{className:"position-fixed bottom-0 start-50 translate-middle-x bg-primary text-white shadow-lg rounded-top-3 px-4 py-3 d-flex align-items-center gap-3",style:{zIndex:1050,minWidth:"400px",maxWidth:"90vw"},children:[a.jsxs("div",{className:"d-flex align-items-center gap-2 flex-grow-1",children:[a.jsx("i",{className:"bi bi-check-circle-fill fs-5"}),a.jsxs("span",{className:"fw-semibold",children:[Dt.length," reserva(s) seleccionada(s)"]})]}),a.jsxs("div",{className:"btn-group",role:"group",children:[a.jsxs("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>ll("activa"),title:"Cambiar a ACTIVA",children:[a.jsx("i",{className:"bi bi-check-circle me-1"}),"Activa"]}),a.jsxs("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>ll("pendiente"),title:"Cambiar a PENDIENTE",children:[a.jsx("i",{className:"bi bi-clock me-1"}),"Pendiente"]}),a.jsxs("button",{type:"button",className:"btn btn-sm btn-light",onClick:()=>ll("completada"),title:"Cambiar a COMPLETADA",children:[a.jsx("i",{className:"bi bi-check-all me-1"}),"Completada"]}),a.jsxs("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>ll("cancelada"),title:"Cambiar a CANCELADA",children:[a.jsx("i",{className:"bi bi-x-circle me-1"}),"Cancelar"]})]}),a.jsx("button",{type:"button",className:"btn btn-sm btn-outline-light",onClick:sl,title:"Limpiar seleccin",children:a.jsx("i",{className:"bi bi-x-lg"})})]}),a.jsx("div",{className:"card border-0 shadow-sm",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-between align-items-lg-center gap-3 mb-2",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"h6 mb-0",children:$a}),a.jsx("small",{className:"text-muted",children:r?"Mostrando segn los filtros aplicados":il})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 flex-wrap",children:[_s&&a.jsxs("button",{type:"button",className:"btn btn-primary btn-sm","aria-label":"Crear nueva reserva",title:"Crear nueva reserva",onClick:()=>c&&c("nueva-reserva"),children:[a.jsx("i",{className:"bi bi-plus-circle me-1"}),"Crear reserva"]}),xe&&a.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),a.jsxs("span",{className:"text-muted small",children:[Yt.length," reserva(s) encontrada(s)",Fa>1&&` - Pgina ${G} de ${Fa}`]})]})]}),ci&&a.jsxs("div",{className:"alert alert-light border-start border-primary py-2 px-3 small mb-3",children:[a.jsx("i",{className:"bi bi-search me-1"}),ci]}),Jt&&a.jsx("div",{className:"alert alert-danger py-2 small",children:Jt}),rl&&a.jsx("div",{className:"alert alert-info py-2 small",children:rl}),Ss==="calendar"?a.jsx($1,{fechaSeleccionada:T,onDiaClick:cn,onCrearReserva:()=>_s&&c&&c("nueva-reserva")}):a.jsxs(a.Fragment,{children:[xe?a.jsx("div",{className:"row g-3",children:Array.from({length:4}).map((R,ue)=>a.jsx("div",{className:"col-12 col-lg-6",children:a.jsxs("div",{className:"card p-3 skeleton-card",children:[a.jsx("div",{className:"placeholder-glow",children:a.jsx("span",{className:"placeholder col-4"})}),a.jsx("div",{className:"placeholder-glow mt-2",children:a.jsx("span",{className:"placeholder col-8"})}),a.jsx("div",{className:"placeholder-glow mt-3",children:a.jsx("span",{className:"placeholder col-12"})})]})},ue))}):at||ei==="cards"?a.jsx("div",{className:"row g-3",children:La.map((R,ue)=>{const Ae=(G-1)*me+ue+1,Ee=yt[R.id],Ke=Dt.includes(R.id),Ve=(R.estado||"").toLowerCase();return a.jsx("div",{className:"col-12 col-lg-6",children:a.jsx("div",{className:`card reserva-card h-100 border-0 shadow-sm reserva-card--${Ve} ${Ke?"reserva-card--selected":""}`,children:a.jsxs("div",{className:"card-body p-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"d-flex align-items-start gap-2",children:[(d==="admin"||d==="cajero")&&a.jsx("input",{type:"checkbox",className:"form-check-input mt-1",checked:Ke,onChange:()=>nl(R.id)}),a.jsxs("div",{children:[a.jsxs("div",{className:"small text-muted text-uppercase mb-1",children:["#",Ae,"  ",tl(R.fecha)]}),a.jsx("h6",{className:"mb-0",children:R.cliente}),(R.cliente_email||R.cliente_telefono)&&a.jsx("small",{className:"text-muted",children:R.cliente_email||R.cliente_telefono})]})]}),Pt(R)]}),a.jsxs("div",{className:"reserva-card__timeline mt-3",children:[a.jsxs("div",{className:"timeline-point",children:[a.jsx("span",{className:"timeline-dot timeline-dot--time",children:a.jsx("i",{className:"bi bi-clock"})}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Hora"}),a.jsxs("div",{className:"fw-semibold",children:[el(R.hora)," hrs"]})]})]}),a.jsxs("div",{className:"timeline-point",children:[a.jsx("span",{className:"timeline-dot timeline-dot--table",children:a.jsx("i",{className:"bi bi-table"})}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Mesa"}),a.jsx("div",{className:"fw-semibold",children:R.mesa})]})]}),a.jsxs("div",{className:"timeline-point",children:[a.jsx("span",{className:"timeline-dot timeline-dot--people",children:a.jsx("i",{className:"bi bi-people"})}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Personas"}),a.jsx("div",{className:"fw-semibold",children:R.personas})]})]})]}),R.notas&&a.jsxs("div",{className:"alert alert-light py-2 px-3 mb-2 border-start border-primary small bg-opacity-50",children:[a.jsx("i",{className:"bi bi-chat-left-text me-2"}),R.notas]}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-2 pt-2 border-top",children:[a.jsxs("div",{className:"small text-muted",children:[a.jsx("i",{className:"bi bi-calendar4-week me-1"}),tl(R.fecha),"  Mesa ",R.mesa]}),Ee?a.jsxs("button",{className:"btn btn-outline-primary btn-sm",disabled:!0,children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Procesando..."]}):Tr(R)]})]})})},R.id)})}):a.jsx("div",{className:"table-responsive d-none d-lg-block",style:{overflowX:"auto",overflowY:"visible"},children:a.jsxs("table",{className:"table table-hover align-middle",style:{marginBottom:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[(d==="admin"||d==="cajero")&&a.jsx("th",{style:{width:"40px"},children:a.jsx("input",{type:"checkbox",className:"form-check-input",checked:La.length>0&&Dt.length===La.length,onChange:R=>_r(R.target.checked),title:"Seleccionar todas las reservas en esta pgina"})}),a.jsx("th",{children:"#"}),a.jsxs("th",{role:"button",onClick:()=>Xa("cliente"),className:"user-select-none",children:["Cliente",Je==="cliente"&&a.jsx("i",{className:`bi bi-arrow-${vt==="asc"?"up":"down"} ms-1`})]}),a.jsxs("th",{role:"button",onClick:()=>Xa("mesa"),className:"user-select-none",children:["Mesa",Je==="mesa"&&a.jsx("i",{className:`bi bi-arrow-${vt==="asc"?"up":"down"} ms-1`})]}),a.jsxs("th",{role:"button",onClick:()=>Xa("fecha"),className:"user-select-none",children:["Fecha",Je==="fecha"&&a.jsx("i",{className:`bi bi-arrow-${vt==="asc"?"up":"down"} ms-1`})]}),a.jsxs("th",{role:"button",onClick:()=>Xa("hora"),className:"user-select-none",children:["Hora",Je==="hora"&&a.jsx("i",{className:`bi bi-arrow-${vt==="asc"?"up":"down"} ms-1`})]}),a.jsxs("th",{role:"button",onClick:()=>Xa("personas"),className:"user-select-none",children:["Personas",Je==="personas"&&a.jsx("i",{className:`bi bi-arrow-${vt==="asc"?"up":"down"} ms-1`})]}),a.jsxs("th",{role:"button",onClick:()=>Xa("estado"),className:"user-select-none",children:["Estado",Je==="estado"&&a.jsx("i",{className:`bi bi-arrow-${vt==="asc"?"up":"down"} ms-1`})]}),a.jsx("th",{className:"text-end",children:"Acciones"})]})}),a.jsxs("tbody",{children:[La.map((R,ue)=>{const Ae=(G-1)*me+ue+1,Ee=Dt.includes(R.id);return a.jsxs("tr",{className:Ee?"table-active":"",style:{position:"relative",isolation:"isolate"},children:[(d==="admin"||d==="cajero")&&a.jsx("td",{children:a.jsx("input",{type:"checkbox",className:"form-check-input",checked:Ee,onChange:()=>nl(R.id)})}),a.jsx("td",{children:Ae}),a.jsx("td",{children:R.cliente}),a.jsx("td",{children:R.mesa}),a.jsx("td",{children:tl(R.fecha)}),a.jsxs("td",{children:[el(R.hora)," hrs"]}),a.jsx("td",{children:R.personas}),a.jsx("td",{children:Pt(R)}),a.jsx("td",{className:"text-end",children:Tr(R)})]},R.id)}),Yt.length===0&&!xe&&a.jsx("tr",{children:a.jsx("td",{colSpan:d==="admin"||d==="cajero"?"9":"8",className:"text-center text-muted py-4",children:"No hay reservas para los filtros seleccionados."})})]})]})}),at&&Yt.length===0&&!xe&&a.jsxs("div",{className:"text-center text-muted py-4",children:[a.jsx("i",{className:"bi bi-inbox display-4 d-block mb-2"}),a.jsx("p",{children:"No hay reservas para los filtros seleccionados."})]}),Fa>1&&a.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 pt-3 border-top",children:[a.jsxs("div",{className:"text-muted small",children:["Mostrando ",(G-1)*me+1," a ",Math.min(G*me,Yt.length)," de ",Yt.length," reservas"]}),a.jsx("nav",{"aria-label":"Paginacin de reservas",children:a.jsx("ul",{className:"pagination pagination-sm mb-0",children:Array.from({length:Math.min(5,Fa)},(R,ue)=>{let Ae;return Fa<=5||G<=3?Ae=ue+1:G>=Fa-2?Ae=Fa-4+ue:Ae=G-2+ue,a.jsx("li",{className:`page-item ${G===Ae?"active":""}`,children:a.jsx("button",{className:"page-link",onClick:()=>re(Ae),children:Ae})},Ae)})})})]})]})]})}),j.reserva&&a.jsx(Vl,{isOpen:j.isOpen,onClose:()=>y({isOpen:!1,reserva:null}),title:a.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-3 w-100",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"fw-semibold d-block",children:["Reserva #",j.reserva.id]}),a.jsx("small",{className:"text-muted",children:"Detalle completo del cliente y su mesa"})]}),a.jsxs("span",{className:`estado-chip estado-chip--${(j.reserva.estado||"").toLowerCase()}`,children:[a.jsx("i",{className:`bi ${{ACTIVA:"bi-lightning-charge-fill",PENDIENTE:"bi-clock-history",COMPLETADA:"bi-check2-circle",CANCELADA:"bi-x-octagon-fill"}[j.reserva.estado]||"bi-info-circle"} me-2`}),j.reserva.estado]})]}),size:"xl",children:a.jsxs("div",{className:"reserva-detalle-content",children:[a.jsxs("div",{className:"modal-hero-gradient",children:[a.jsx("h3",{className:"mb-0",children:j.reserva.cliente}),a.jsxs("div",{className:"hero-badges",children:[a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-table"}),"Mesa ",j.reserva.mesa]}),a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-calendar3"}),new Date(j.reserva.fecha+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})]}),a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-clock"}),el(j.reserva.hora)," hrs"]}),a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-people-fill"}),j.reserva.personas," ",j.reserva.personas===1?"persona":"personas"]})]})]}),a.jsxs("div",{className:"timeline-container",children:[a.jsxs("div",{className:`timeline-step ${["ACTIVA","COMPLETADA","CANCELADA"].includes(j.reserva.estado)?"completed":""}`,children:[a.jsx("div",{className:"timeline-step-icon",children:a.jsx("i",{className:"bi bi-plus-circle-fill"})}),a.jsx("span",{className:"timeline-step-label",children:"Creada"}),a.jsx("div",{className:"timeline-connector"})]}),a.jsxs("div",{className:`timeline-step ${["ACTIVA","COMPLETADA"].includes(j.reserva.estado)?"completed":j.reserva.estado==="PENDIENTE"?"current":""}`,children:[a.jsx("div",{className:"timeline-step-icon",children:a.jsx("i",{className:"bi bi-check-circle-fill"})}),a.jsx("span",{className:"timeline-step-label",children:"Confirmada"}),a.jsx("div",{className:"timeline-connector"})]}),a.jsxs("div",{className:`timeline-step ${j.reserva.estado==="ACTIVA"?"current":j.reserva.estado==="COMPLETADA"?"completed":j.reserva.estado==="CANCELADA"?"current":""}`,children:[a.jsx("div",{className:"timeline-step-icon",children:a.jsx("i",{className:`bi ${j.reserva.estado==="COMPLETADA"?"bi-star-fill":j.reserva.estado==="CANCELADA"?"bi-x-circle-fill":"bi-lightning-charge-fill"}`})}),a.jsx("span",{className:"timeline-step-label",children:j.reserva.estado==="CANCELADA"?"Cancelada":j.reserva.estado==="COMPLETADA"?"Completada":"Activa"})]})]}),a.jsx("div",{className:"card compact-card mb-3",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"section-title mb-3",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2 flex-grow-1",children:[a.jsx("span",{className:"icon-circle bg-primary-subtle text-primary",children:a.jsx("i",{className:"bi bi-person-badge-fill"})}),a.jsxs("div",{children:[a.jsx("p",{className:"card-kicker text-uppercase mb-1",children:"Contacto"}),a.jsx("h6",{className:"mb-0",children:"Informacin del Cliente"})]})]}),(j.reserva.cliente_telefono||j.reserva.cliente_email)&&a.jsxs("div",{className:"d-flex gap-2",children:[j.reserva.cliente_telefono&&a.jsxs("a",{href:`tel:${j.reserva.cliente_telefono}`,className:"btn btn-outline-success btn-sm",title:"Llamar",children:[a.jsx("i",{className:"bi bi-telephone-fill"}),a.jsx("span",{className:"d-none d-lg-inline ms-1",children:"Llamar"})]}),j.reserva.cliente_email&&a.jsxs("a",{href:`mailto:${j.reserva.cliente_email}`,className:"btn btn-outline-primary btn-sm",title:"Enviar email",children:[a.jsx("i",{className:"bi bi-envelope-fill"}),a.jsx("span",{className:"d-none d-lg-inline ms-1",children:"Email"})]})]})]}),j.reserva.cliente_telefono&&a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Telfono"}),a.jsxs("span",{className:"info-value text-end",children:[a.jsx("i",{className:"bi bi-telephone me-1"}),j.reserva.cliente_telefono]})]}),j.reserva.cliente_email&&a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Email"}),a.jsxs("span",{className:"info-value text-end text-break",children:[a.jsx("i",{className:"bi bi-envelope me-1"}),j.reserva.cliente_email]})]}),j.reserva.cliente_rut&&a.jsxs("div",{className:"info-row mb-0",children:[a.jsx("span",{className:"info-label",children:"RUT"}),a.jsx("span",{className:"info-value",children:a.jsx("span",{className:"badge-soft",children:j.reserva.cliente_rut})})]})]})}),j.reserva.notas&&a.jsx("div",{className:"note-card",children:a.jsxs("div",{className:"d-flex align-items-start gap-3",children:[a.jsx("i",{className:"bi bi-chat-left-quote-fill fs-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 fw-semibold text-warning-emphasis",children:"Notas y Requerimientos"}),a.jsx("p",{className:"mb-0 fst-italic text-body",children:j.reserva.notas})]})]})}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center pt-3 mt-3 border-top reserva-actions",children:[a.jsxs("button",{className:"btn btn-outline-secondary",onClick:()=>y({isOpen:!1,reserva:null}),children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cerrar"]}),a.jsxs("div",{className:"d-flex gap-2",children:[(d==="cajero"||d==="admin")&&(()=>{const R=[{label:"ACTIVA",value:"activa",icon:"bi-check-circle",color:"success"},{label:"PENDIENTE",value:"pendiente",icon:"bi-clock",color:"warning"},{label:"COMPLETADA",value:"completada",icon:"bi-check-all",color:"info"},{label:"CANCELADA",value:"cancelada",icon:"bi-x-circle",color:"danger"}],ue=li(j.reserva.estado),Ae=R.filter(Ee=>ue.includes(Ee.value));return a.jsxs(xa,{align:"end",children:[a.jsx(xa.Toggle,{variant:"outline-primary",id:"dropdown-estado-modal",children:"Cambiar Estado"}),a.jsx(xa.Menu,{children:Ae.map(Ee=>a.jsxs(xa.Item,{onClick:()=>{y({isOpen:!1,reserva:null}),Ts(j.reserva.id,Ee.value)},children:[a.jsx("i",{className:`bi ${Ee.icon} me-2 text-${Ee.color}`}),"Cambiar a ",Ee.label]},Ee.value))})]})})(),(d==="admin"||d==="cajero")&&a.jsx("button",{className:"btn btn-primary",onClick:()=>al(j.reserva),disabled:Hn,children:Hn?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Cargando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-pencil-square me-2"}),"Editar Reserva"]})})]})]})]})}),za.reserva&&a.jsx(Vl,{isOpen:za.isOpen,onClose:()=>Un({isOpen:!1,reserva:null,loading:!1}),title:`Editar Reserva #${za.reserva.id}`,size:"lg",children:za.loading?a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"row g-3 placeholder-glow",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("div",{className:"placeholder col-4 mb-2",style:{height:"20px"}}),a.jsx("div",{className:"placeholder col-12",style:{height:"38px"}})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("div",{className:"placeholder col-6 mb-2",style:{height:"20px"}}),a.jsx("div",{className:"placeholder col-12",style:{height:"38px"}})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("div",{className:"placeholder col-5 mb-2",style:{height:"20px"}}),a.jsx("div",{className:"placeholder col-12",style:{height:"38px"}})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("div",{className:"placeholder col-3 mb-2",style:{height:"20px"}}),a.jsx("div",{className:"placeholder col-12",style:{height:"38px"}})]}),a.jsxs("div",{className:"col-12",children:[a.jsx("div",{className:"placeholder col-4 mb-2",style:{height:"20px"}}),a.jsx("div",{className:"placeholder col-12",style:{height:"80px"}})]})]}),a.jsxs("div",{className:"d-flex justify-content-center align-items-center mt-4 py-3",children:[a.jsx("div",{className:"spinner-border text-primary me-3",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),a.jsx("span",{className:"text-muted",children:"Cargando datos de la reserva..."})]})]}):a.jsxs("form",{onSubmit:ea,children:[a.jsxs("div",{className:"row g-3",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"edit-fecha",className:"form-label fw-semibold",children:["Fecha ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"date",className:"form-control",id:"edit-fecha",value:mt.fecha_reserva,min:new Date().toISOString().split("T")[0],required:!0,onChange:R=>{Va({...mt,fecha_reserva:R.target.value,hora_inicio:""}),ba(R.target.value,mt.num_personas)}})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"edit-personas",className:"form-label fw-semibold",children:["Nmero de Personas ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"number",className:"form-control",id:"edit-personas",value:mt.num_personas,min:"1",max:"50",required:!0,onChange:R=>{Va({...mt,num_personas:parseInt(R.target.value),hora_inicio:""}),mt.fecha_reserva&&ba(mt.fecha_reserva,parseInt(R.target.value))}})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"edit-hora",className:"form-label fw-semibold",children:["Hora de la Reserva ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-select",id:"edit-hora",value:mt.hora_inicio,required:!0,onChange:R=>Va({...mt,hora_inicio:R.target.value}),children:[a.jsx("option",{value:"",children:"Seleccione una hora"}),Is.map(R=>a.jsxs("option",{value:R,children:[R," hrs"]},R))]}),Is.length===0&&mt.fecha_reserva&&a.jsxs("div",{className:"form-text text-warning",children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"No hay horas disponibles para esta fecha y nmero de personas"]})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsxs("label",{htmlFor:"edit-mesa",className:"form-label fw-semibold",children:["Mesa ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("select",{className:"form-select",id:"edit-mesa",value:mt.mesa,required:!0,onChange:R=>Va({...mt,mesa:parseInt(R.target.value)}),children:[a.jsx("option",{value:"",children:"Seleccione una mesa"}),Es.filter(R=>R.capacidad>=mt.num_personas).map(R=>a.jsxs("option",{value:R.numero,children:["Mesa ",R.numero," (Capacidad: ",R.capacidad," personas)"]},R.id))]})]}),a.jsxs("div",{className:"col-12",children:[a.jsx("label",{htmlFor:"edit-notas",className:"form-label fw-semibold",children:"Notas Especiales"}),a.jsx("textarea",{className:"form-control",id:"edit-notas",rows:"3",placeholder:"Ej: Alergia a los frutos secos, silla para beb, etc.",value:mt.notas,onChange:R=>Va({...mt,notas:R.target.value})})]})]}),a.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4 pt-3 border-top",children:[a.jsxs("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>Un({isOpen:!1,reserva:null}),disabled:Hn,children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancelar"]}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Hn||Is.length===0,children:Hn?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Guardando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-lg me-2"}),"Guardar Cambios"]})})]})]})}),a.jsx(Zf,{isOpen:S.isOpen,onClose:()=>w({isOpen:!1,title:"",message:"",onConfirm:null}),onConfirm:S.onConfirm,title:S.title,message:S.message})]})}const Kb=m.createContext(null);function Sr(){const s=m.useContext(Kb);if(!s)throw new Error("useAuth debe usarse dentro de AuthProvider");return s}function B1({children:s}){const[i,r]=m.useState(null),[c,d]=m.useState(!0);m.useEffect(()=>{(()=>{try{if(g1()){const w=Kf();r(w)}}catch(w){console.error("Error al inicializar autenticacin:",w),Mv()}finally{d(!1)}})()},[]);const f=m.useCallback(async S=>{try{d(!0);const w=await v1(S),C={id:w.user_id,username:w.username,email:w.email,rol:w.rol,rol_display:w.rol_display,nombre_completo:w.nombre_completo};return r(C),C}catch(w){throw w}finally{d(!1)}},[]),h=m.useCallback(()=>{Mv(),r(null)},[]),x=m.useCallback(S=>{r(w=>{if(!w)return null;const C={...w,...S};return localStorage.setItem("user",JSON.stringify(C)),C})},[]),g=m.useCallback(async S=>{try{d(!0);const w={id:S.user_id,username:S.username,email:S.email,rol:S.rol,rol_display:S.rol_display,nombre_completo:S.nombre_completo};return r(w),w}catch(w){throw w}finally{d(!1)}},[]),p=m.useCallback(S=>i?(Array.isArray(S)?S:[S]).includes(i.rol):!1,[i]),j=m.useCallback(S=>{if(!i)return!1;const C={admin:["*"],cajero:["view_reservations","update_reservation_status","view_all_reservations"],mesero:["view_reservations","view_tables","update_table_status"],cliente:["create_reservation","view_own_reservations","cancel_own_reservation","update_profile"]}[i.rol]||[];return C.includes("*")?!0:C.includes(S)},[i]),y={user:i,isAuthenticated:!!i,isLoading:c,login:f,logout:h,updateUser:x,registerAndLogin:g,hasRole:p,hasPermission:j};return a.jsx(Kb.Provider,{value:y,children:s})}function or(s){if(!s||s.trim()==="")return{valido:!1,mensaje:"El RUT es requerido"};const i=s.replace(/\./g,"").replace(/-/g,"").replace(/\s/g,"").toUpperCase();if(i.length<2)return{valido:!1,mensaje:"RUT invlido: demasiado corto"};const r=i.slice(0,-1),c=i.slice(-1);if(!/^\d+$/.test(r))return{valido:!1,mensaje:"RUT invlido: debe contener solo nmeros"};let d=0,f=2;for(let g=r.length-1;g>=0;g--)d+=parseInt(r[g])*f,f=f<7?f+1:2;let x=(11-d%11).toString();return x==="11"?x="0":x==="10"&&(x="K"),c!==x?{valido:!1,mensaje:`RUT invlido: dgito verificador incorrecto. Debera ser ${x}`}:{valido:!0,mensaje:""}}function Jf(s){const i=s.replace(/\./g,"").replace(/-/g,"").replace(/\s/g,"").toUpperCase();if(i.length<=1)return i;const r=i.slice(0,-1),c=i.slice(-1);return`${r.replace(/\B(?=(\d{3})+(?!\d))/g,".")}-${c}`}function ur(s){if(!s||s.trim()==="")return{valido:!1,mensaje:"El telfono es requerido"};const i=s.replace(/\s/g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"");return/^(\+?56)?9\d{8}$/.test(i)?{valido:!0,mensaje:""}:{valido:!1,mensaje:"Formato de telfono invlido. Use formato: +56912345678 o 912345678"}}function If(s){let i=s.replace(/\s/g,"").replace(/-/g,"").replace(/\+/g,"");return i.startsWith("56")&&(i=i.slice(2)),i.startsWith("9")?(i=i.slice(0,9),i.length<=1?`+56 ${i}`:i.length<=5?`+56 ${i[0]} ${i.slice(1)}`:`+56 ${i[0]} ${i.slice(1,5)} ${i.slice(5)}`):s}function lo(s){return!s||s.trim()===""?{valido:!1,mensaje:"La contrasea es requerida"}:s.length<8?{valido:!1,mensaje:"La contrasea debe tener al menos 8 caracteres"}:{valido:!0,mensaje:""}}function io(s,i){return!i||i.trim()===""?{valido:!1,mensaje:"Debe confirmar la contrasea"}:s!==i?{valido:!1,mensaje:"Las contraseas no coinciden"}:{valido:!0,mensaje:""}}function df(s){return!s||s.trim()===""?{valido:!1,mensaje:"El email es requerido"}:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?{valido:!0,mensaje:""}:{valido:!1,mensaje:"Formato de email invlido"}}function kv(s){return!s||s.trim()===""?{valido:!1,mensaje:"El nombre de usuario es requerido"}:s.length<3?{valido:!1,mensaje:"El nombre de usuario debe tener al menos 3 caracteres"}:{valido:!0,mensaje:""}}function Zb(s,i=[]){if(!s||s==="")return{valido:!1,mensaje:"Debe seleccionar una mesa"};const r=parseInt(s);return isNaN(r)?{valido:!1,mensaje:"ID de mesa invlido"}:i.length>0&&!i.some(d=>d.id===r)?{valido:!1,mensaje:"La mesa seleccionada no est disponible"}:{valido:!0,mensaje:""}}function U1({onLoginSuccess:s}){const{login:i}=Sr(),[r,c]=m.useState("login"),[d,f]=m.useState(!1),[h,x]=m.useState(""),[g,p]=m.useState(""),[j,y]=m.useState(!1),[S,w]=m.useState(!1),[C,A]=m.useState({username:"",password:""}),[E,D]=m.useState({username:"",email:"",password:"",password_confirm:"",nombre:"",apellido:"",rut:"",telefono:"",email_perfil:""}),[T,L]=m.useState({}),_=X=>{const{name:P,value:te}=X.target;A(de=>({...de,[P]:te})),x("")},M=X=>{const{name:P,value:te}=X.target;let de=te;P==="rut"&&te&&(de=Jf(te)),P==="telefono"&&te&&(de=If(te)),D(pe=>({...pe,[P]:de})),x(""),H(P,de)},H=(X,P)=>{let te={valido:!0,mensaje:""};switch(X){case"username":te=kv(P);break;case"password":te=lo(P);break;case"password_confirm":te=io(E.password,P);break;case"email":te=df(P);break;case"rut":te=or(P);break;case"telefono":te=ur(P);break}L(de=>({...de,[X]:te.valido?"":te.mensaje}))},z=()=>{const X={},P=kv(E.username);P.valido||(X.username=P.mensaje);const te=df(E.email);te.valido||(X.email=te.mensaje);const de=lo(E.password);de.valido||(X.password=de.mensaje);const pe=io(E.password,E.password_confirm);pe.valido||(X.password_confirm=pe.mensaje),(!E.nombre||E.nombre.trim()==="")&&(X.nombre="El nombre es requerido"),(!E.apellido||E.apellido.trim()==="")&&(X.apellido="El apellido es requerido");const V=or(E.rut);V.valido||(X.rut=V.mensaje);const ne=ur(E.telefono);return ne.valido||(X.telefono=ne.mensaje),L(X),Object.keys(X).length===0},B=async X=>{if(X.preventDefault(),x(""),f(!0),!C.username||!C.password){x("Por favor ingrese usuario y contrasea"),f(!1);return}if(C.username.trim().length<3){x("El usuario debe tener al menos 3 caracteres"),f(!1);return}if(C.password.length<4){x("La contrasea debe tener al menos 4 caracteres"),f(!1);return}try{const P=await i(C);console.log("Login exitoso:",P),s&&s(P)}catch(P){const te=P.message||"Error al iniciar sesin";te.toLowerCase().includes("credenciales")||te.toLowerCase().includes("invalid")||te.toLowerCase().includes("401")?x("Usuario o contrasea incorrectos. Por favor verifica tus datos e intenta nuevamente."):x(te),console.error("Error en login:",P)}finally{f(!1)}},J=async X=>{if(X.preventDefault(),x(""),p(""),f(!0),!z()){x("Por favor corrija los errores en el formulario"),f(!1);return}try{const P=await x1(E);console.log("Registro exitoso:",P),p("Registro exitoso! Redirigiendo..."),setTimeout(()=>{s&&s(P)},1500)}catch(P){x(P.message||"Error al registrar usuario"),console.error("Error en registro:",P)}finally{f(!1)}},q=()=>{c(r==="login"?"register":"login"),x(""),p(""),L({})};return a.jsx(zt,{className:"py-5",children:a.jsx(Fe,{className:"justify-content-center align-items-center min-vh-100",children:a.jsx(ve,{lg:10,children:a.jsxs(Fe,{className:"g-4 align-items-stretch",children:[a.jsx(ve,{lg:5,children:a.jsxs("div",{className:"auth-hero h-100 rounded-4 shadow-sm p-4",children:[a.jsx("div",{className:"auth-hero__pill text-uppercase small",children:"Plataforma"}),a.jsx("h3",{className:"text-white fw-bold mt-3",children:"Gestiona tus reservas sin friccin"}),a.jsx("p",{className:"text-white-50 mb-4",children:"Centraliza tus turnos, confirma asistentes y da una bienvenida ms rpida a tus clientes."}),a.jsxs("ul",{className:"list-unstyled auth-checklist mb-4",children:[a.jsxs("li",{children:[a.jsx("i",{className:"bi bi-check-circle-fill me-2"}),"Confirmaciones en segundos"]}),a.jsxs("li",{children:[a.jsx("i",{className:"bi bi-check-circle-fill me-2"}),"Visin diaria y mensual"]}),a.jsxs("li",{children:[a.jsx("i",{className:"bi bi-check-circle-fill me-2"}),"Usuarios y roles listos"]})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 text-white-50 small",children:[a.jsx("i",{className:"bi bi-shield-lock"})," Datos protegidos y sesin segura"]})]})}),a.jsx(ve,{lg:7,children:a.jsx(fe,{className:"shadow auth-card h-100 border-0",children:a.jsxs(fe.Body,{className:"p-4",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-2 mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"fw-bold text-primary mb-0",children:"Sistema de Reservas"}),a.jsx("small",{className:"text-muted",children:r==="login"?"Ingresa para gestionar tus reservas":"Crea tu cuenta y reserva en minutos"})]}),a.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[a.jsx(be,{type:"button",variant:r==="login"?"primary":"outline-primary",onClick:()=>c("login"),children:"Ingresar"}),a.jsx(be,{type:"button",variant:r==="register"?"success":"outline-success",onClick:()=>c("register"),children:"Registrarse"})]})]}),h&&a.jsxs(st,{variant:"danger",children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),h.split(`
`).map((X,P)=>a.jsx("div",{children:X},P))]}),g&&a.jsxs(st,{variant:"success",children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),g]}),r==="login"&&a.jsxs(F,{onSubmit:B,children:[a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{htmlFor:"username",children:"Email o Usuario"}),a.jsxs(Pa,{children:[a.jsx(Pa.Text,{children:a.jsx("i",{className:"bi bi-person"})}),a.jsx(F.Control,{type:"text",id:"username",name:"username",value:C.username,onChange:_,placeholder:"tu@email.com o usuario",required:!0,autoFocus:!0})]})]}),a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{htmlFor:"password",children:"Contrasea"}),a.jsxs(Pa,{children:[a.jsx(Pa.Text,{children:a.jsx("i",{className:"bi bi-lock"})}),a.jsx(F.Control,{type:j?"text":"password",id:"password",name:"password",value:C.password,onChange:_,required:!0}),a.jsx(be,{variant:"outline-secondary",onClick:()=>y(!j),type:"button",children:a.jsx("i",{className:`bi ${j?"bi-eye-slash":"bi-eye"}`})})]})]}),a.jsx("div",{className:"d-grid mb-3",children:a.jsx(be,{type:"submit",variant:"primary",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-2"}),"Iniciando sesin..."]}):"Iniciar Sesin"})}),a.jsx("div",{className:"text-center",children:a.jsx(be,{variant:"link",className:"text-decoration-none",onClick:q,children:"No tienes cuenta? Regstrate aqu"})})]}),r==="register"&&a.jsxs(F,{onSubmit:J,children:[a.jsxs(Fe,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"nombre",children:["Nombre ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"nombre",name:"nombre",value:E.nombre,onChange:M,isInvalid:!!T.nombre,required:!0,autoFocus:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.nombre})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"apellido",children:["Apellido ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"apellido",name:"apellido",value:E.apellido,onChange:M,isInvalid:!!T.apellido,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.apellido})]})})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"telefono",children:["Telfono ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"telefono",name:"telefono",value:E.telefono,onChange:M,placeholder:"+56 9 1234 5678",isInvalid:!!T.telefono,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.telefono})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"rut",children:["RUT ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"rut",name:"rut",value:E.rut,onChange:M,placeholder:"12.345.678-9",isInvalid:!!T.rut,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.rut})]})})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"register-username",children:["Usuario ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"register-username",name:"username",value:E.username,onChange:M,isInvalid:!!T.username,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.username})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"register-email",children:["Email ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"email",id:"register-email",name:"email",value:E.email,onChange:M,isInvalid:!!T.email,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.email})]})})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"register-password",children:["Contrasea ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(Pa,{children:[a.jsx(Pa.Text,{children:a.jsx("i",{className:"bi bi-shield-lock"})}),a.jsx(F.Control,{type:j?"text":"password",id:"register-password",name:"password",value:E.password,onChange:M,isInvalid:!!T.password,required:!0}),a.jsx(be,{variant:"outline-secondary",onClick:()=>y(!j),type:"button",children:a.jsx("i",{className:`bi ${j?"bi-eye-slash":"bi-eye"}`})}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.password})]}),a.jsx(F.Text,{className:"text-muted",children:"Mnimo 8 caracteres"})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"password_confirm",children:["Confirmar Contrasea ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs(Pa,{children:[a.jsx(Pa.Text,{children:a.jsx("i",{className:"bi bi-lock-fill"})}),a.jsx(F.Control,{type:S?"text":"password",id:"password_confirm",name:"password_confirm",value:E.password_confirm,onChange:M,isInvalid:!!T.password_confirm,required:!0}),a.jsx(be,{variant:"outline-secondary",onClick:()=>w(!S),type:"button",children:a.jsx("i",{className:`bi ${S?"bi-eye-slash":"bi-eye"}`})}),a.jsx(F.Control.Feedback,{type:"invalid",children:T.password_confirm})]})]})})]}),a.jsx("div",{className:"d-grid mb-3",children:a.jsx(be,{type:"submit",variant:"success",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-2"}),"Registrando..."]}):"Crear Cuenta"})}),a.jsx("div",{className:"text-center",children:a.jsx(be,{variant:"link",className:"text-decoration-none",onClick:q,children:"Ya tienes cuenta? Inicia sesin"})})]}),a.jsx("div",{className:"mt-3 text-center",children:a.jsxs("small",{className:"text-muted",children:["Sistema de Gestin de Reservas - Restaurante",a.jsx("span",{className:"mx-2",children:""}),a.jsx("a",{href:"mailto:soporte@reservas.local",className:"text-decoration-none",children:"Soporte"}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("a",{href:"#",className:"text-decoration-none",children:"Poltica de privacidad"})]})})]})})})]})})})})}function Jb(s={},i={},r=300){const[c,d]=m.useState(s),[f,h]=m.useState({}),[x,g]=m.useState({}),[p,j]=m.useState(!1),y=m.useCallback((H,z)=>{const B=i[H];if(!B)return null;try{return B(z,c)||null}catch(J){return console.error(`Error validando campo ${H}:`,J),"Error de validacin"}},[i,c]),S=m.useCallback(()=>{const H={};let z=!1;return Object.keys(i).forEach(B=>{const J=y(B,c[B]);J&&(H[B]=J,z=!0)}),h(H),!z},[i,c,y]),w=m.useCallback(H=>{const{name:z,value:B,type:J,checked:q}=H.target,X=J==="checkbox"?q:B;if(d(P=>({...P,[z]:X})),x[z]){const P=y(z,X);h(te=>({...te,[z]:P}))}},[x,y]),C=m.useCallback(H=>{const{name:z}=H.target;g(J=>({...J,[z]:!0}));const B=y(z,c[z]);h(J=>({...J,[z]:B}))},[c,y]),A=m.useCallback(H=>async z=>{z&&z.preventDefault();const B=Object.keys(i).reduce((q,X)=>({...q,[X]:!0}),{});if(g(B),!!S()){j(!0);try{await H(c)}catch(q){throw console.error("Error en submit:",q),q}finally{j(!1)}}},[i,c,S]),E=m.useCallback(()=>{d(s),h({}),g({}),j(!1)},[s]),D=m.useCallback((H,z)=>{d(B=>({...B,[H]:z}))},[]),T=m.useCallback((H,z)=>{h(B=>({...B,[H]:z}))},[]),L=m.useCallback(H=>{d(z=>({...z,...H}))},[]),_=m.useMemo(()=>Object.keys(f).length===0&&Object.keys(x).length>0,[f,x]),M=m.useCallback(H=>x[H]?f[H]:null,[f,x]);return{values:c,errors:f,touched:x,isSubmitting:p,isValid:_,handleChange:w,handleBlur:C,handleSubmit:A,resetForm:E,setFieldValue:D,setFieldError:T,setFieldValues:L,getFieldError:M,validateAllFields:S}}function ps({width:s="100%",height:i="1rem",className:r="",variant:c="text"}){const d={width:s,height:c==="text"?i:s};return a.jsx("div",{className:`skeleton ${c==="circle"?"skeleton-circle":""} ${r}`,style:d,"aria-busy":"true","aria-label":"Cargando..."})}function H1(){return a.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:a.jsxs("div",{className:"card h-100 shadow-sm",children:[a.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[a.jsx(ps,{width:"60%",height:"1.5rem"}),a.jsx(ps,{width:"80px",height:"24px"})]}),a.jsxs("div",{className:"card-body",children:[a.jsx("div",{className:"mb-2",children:a.jsx(ps,{width:"90%"})}),a.jsx("div",{className:"mb-2",children:a.jsx(ps,{width:"70%"})}),a.jsx("div",{className:"mb-2",children:a.jsx(ps,{width:"50%"})})]})]})})}function q1({fields:s=4}){return a.jsxs("div",{children:[Array.from({length:s}).map((i,r)=>a.jsxs("div",{className:"mb-3",children:[a.jsx(ps,{width:"120px",height:"1rem",className:"mb-2"}),a.jsx(ps,{width:"100%",height:"38px"})]},r)),a.jsx(ps,{width:"150px",height:"38px"})]})}function Ib({isOpen:s,onClose:i,reservaData:r,clienteData:c,esInvitado:d=!1,reservasCount:f=1,isAdditionalReservation:h=!1}){if(!r)return console.error(" Modal: reservaData is null/undefined",{isOpen:s,reservaData:r}),null;console.log(" Modal rendering with:",{isOpen:s,reservaData:r,clienteData:c,esInvitado:d});const x=p=>{const j=new Date(p+"T00:00:00"),y=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],S=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],w=y[j.getDay()],C=j.getDate(),A=S[j.getMonth()],E=j.getFullYear();return`${w} ${C} de ${A} de ${E}`},g=p=>p?p.substring(0,5):"";return a.jsxs(Vl,{isOpen:s,onClose:i,title:"",size:"md",closeOnBackdrop:!1,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"rounded-circle bg-success d-inline-flex align-items-center justify-content-center",style:{width:"80px",height:"80px"},children:a.jsx("i",{className:"bi bi-check-lg text-white",style:{fontSize:"48px"}})})}),a.jsx("h3",{className:"fw-bold text-success mb-2",children:h?"Reserva Agregada!":"Reserva Confirmada!"}),a.jsx("p",{className:"text-muted mb-4",children:h?`Ahora tienes ${f} ${f===1?"reserva":"reservas"} activas`:"Tu reserva ha sido creada exitosamente"})]}),a.jsx("div",{className:"alert alert-info mb-4",children:a.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[a.jsx("i",{className:"bi bi-info-circle me-2"}),a.jsxs("strong",{children:["Nmero de Confirmacin: #",r.id||r.reserva_id]})]})}),a.jsxs("div",{className:"border rounded p-3 mb-4",children:[a.jsxs("h6",{className:"fw-bold mb-3",children:[a.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Detalles de la Reserva"]}),a.jsxs("div",{className:"row g-3",children:[a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-table me-2"}),"Mesa:"]}),a.jsxs("strong",{children:["Mesa ",r.mesa_numero||r.mesa," - Capacidad ",r.mesa_capacidad||r.num_personas," personas"]})]})}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-calendar3 me-2"}),"Fecha:"]}),a.jsx("strong",{children:x(r.fecha_reserva)})]})}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-clock me-2"}),"Horario:"]}),a.jsxs("strong",{children:[g(r.hora_inicio)," - ",g(r.hora_fin),a.jsx("span",{className:"text-muted ms-2",children:"(2 horas)"})]})]})}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-people me-2"}),"Personas:"]}),a.jsxs("strong",{children:[r.num_personas," ",r.num_personas===1?"persona":"personas"]})]})})]})]}),c&&a.jsxs("div",{className:"border rounded p-3 mb-4",children:[a.jsxs("h6",{className:"fw-bold mb-3",children:[a.jsx("i",{className:"bi bi-person me-2 text-primary"}),"Reserva a nombre de"]}),a.jsxs("div",{className:"row g-2",children:[a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("i",{className:"bi bi-person-circle me-2 text-muted mt-1"}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Nombre"}),a.jsxs("strong",{children:[c.nombre," ",c.apellido]})]})]})}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("i",{className:"bi bi-envelope me-2 text-muted mt-1"}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Email"}),a.jsx("strong",{children:c.email})]})]})}),c.telefono&&a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("i",{className:"bi bi-telephone me-2 text-muted mt-1"}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Telfono"}),a.jsx("strong",{children:c.telefono})]})]})})]})]}),a.jsx("div",{className:"alert alert-light border mb-4",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("i",{className:"bi bi-envelope-check text-primary me-2 mt-1",style:{fontSize:"20px"}}),a.jsxs("div",{children:[a.jsx("strong",{className:"d-block mb-1",children:"Confirmacin por Email"}),a.jsx("small",{className:"text-muted",children:d?"Recibirs un correo electrnico con un link para gestionar tu reserva.":"Recibirs un correo electrnico con la confirmacin de tu reserva."})]})]})}),a.jsx("div",{className:"d-grid",children:a.jsxs("button",{type:"button",className:"btn btn-primary btn-lg",onClick:i,children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),"Entendido"]})})]})}function G1({onReservaCreada:s}){const i=Zs(),{user:r}=Sr(),[c,d]=m.useState([]),[f,h]=m.useState(!0),[x,g]=m.useState(!1),[p,j]=m.useState([]),[y,S]=m.useState([]),[w,C]=m.useState([]),[A,E]=m.useState(!1),[D,T]=m.useState(null),L={mesa:U=>{if(!U)return"Debe seleccionar una mesa";const b=Zb(U,c);return b.valido?null:b.mensaje},fecha_reserva:U=>{if(!U)return"Debe seleccionar una fecha";const b=new Date().toISOString().split("T")[0];return U<b?"No se pueden crear reservas para fechas pasadas":null},hora_inicio:U=>U?y.includes(U)?"Esta hora ya no est disponible":null:"Debe seleccionar una hora",num_personas:(U,b)=>{if(!U||U<1)return"Debe especificar al menos 1 persona";if(b.mesa){const O=c.find(I=>I.id===parseInt(b.mesa));if(O&&parseInt(U)>O.capacidad)return`La mesa seleccionada tiene capacidad para ${O.capacidad} personas`}return null}},{values:_,touched:M,isSubmitting:H,handleChange:z,handleBlur:B,handleSubmit:J,setFieldValue:q,getFieldError:X}=Jb({mesa:"",fecha_reserva:"",hora_inicio:"",num_personas:"",notas:""},L,300);m.useEffect(()=>{P()},[]),m.useEffect(()=>{_.fecha_reserva&&_.num_personas?te():(j([]),S([]),C([]))},[_.fecha_reserva,_.num_personas]),m.useEffect(()=>{_.fecha_reserva&&_.hora_inicio&&de()},[_.fecha_reserva,_.hora_inicio]);const P=async()=>{try{h(!0);const U=await tn();d(U)}catch(U){console.error("Error al cargar mesas:",U),i.error("Error al cargar mesas")}finally{h(!1)}},te=async()=>{try{g(!0);const U=await so({fecha:_.fecha_reserva,personas:_.num_personas});console.log(" DEBUG - Horas disponibles:",U),console.log(" Horas disponibles:",U.horas_disponibles?.length||0,"horas"),console.log(" Horas NO disponibles:",U.horas_no_disponibles?.length||0,"horas",U.horas_no_disponibles),j(U.horas_disponibles||[]),S(U.horas_no_disponibles||[]),C(U.horas||[]),_.hora_inicio&&U.horas_no_disponibles?.includes(_.hora_inicio)&&(q("hora_inicio",""),i.warning("La hora seleccionada ya no est disponible. Por favor seleccione otra."))}catch(U){console.error("Error al cargar horas disponibles:",U),j([]),S([])}finally{g(!1)}},de=async()=>{try{const U=await tn({fecha:_.fecha_reserva,hora:_.hora_inicio});d(U),_.mesa&&!U.find(b=>b.id===parseInt(_.mesa))&&(q("mesa",""),i.warning("La mesa seleccionada ya no est disponible para esta fecha y hora. Por favor seleccione otra."))}catch(U){console.error("Error al cargar mesas disponibles:",U),P()}},pe=()=>{if(!_.mesa)return 20;const U=c.find(b=>b.id===parseInt(_.mesa));return U?U.capacidad:20},V=()=>{console.log(" Cerrando modal de confirmacin"),E(!1),setTimeout(()=>{if(T(null),s&&window._nuevaReserva)try{s(window._nuevaReserva),window._nuevaReserva=null}catch(U){console.error("Error al notificar componente padre:",U)}},300)},ne=J(async U=>{console.log(" INICIO handleSubmit - values:",U);try{const O=(await tn({fecha:U.fecha_reserva,hora:U.hora_inicio})).find(je=>je.id===parseInt(U.mesa));if(!O){i.error("Lo sentimos, la mesa seleccionada ya no est disponible. Por favor seleccione otra mesa."),await de();return}const I={mesa:parseInt(U.mesa),fecha_reserva:U.fecha_reserva,hora_inicio:U.hora_inicio,num_personas:parseInt(U.num_personas),notas:U.notas};console.log("Enviando reserva:",I);const ee=await j1(I);console.log(" API Response:",ee);const oe={id:ee.id,mesa_numero:ee.mesa_numero||ee.mesa,mesa_capacidad:O.capacidad,fecha_reserva:ee.fecha_reserva,hora_inicio:ee.hora_inicio,hora_fin:ee.hora_fin,num_personas:ee.num_personas};console.log(" Datos preparados para modal:",oe),T(oe),E(!0),console.log(" Modal abierto con datos de reserva"),i.success("Reserva creada exitosamente!");try{await P()}catch(je){console.error("Error al recargar mesas:",je)}window._nuevaReserva=ee}catch(b){console.error(" ERROR en handleSubmit:",b);const O=Fl(b);throw i.error(O),b}}),ce=()=>new Date().toISOString().split("T")[0],ge=()=>{const U=[];for(let b=12;b<=21;b++)for(let O=0;O<60;O+=30){const I=String(b).padStart(2,"0"),ee=String(O).padStart(2,"0"),oe=`${I}:${ee}`;U.push(oe)}return U};return f?a.jsxs(fe,{className:"shadow-sm",children:[a.jsx(fe.Header,{className:"bg-primary text-white",children:a.jsx("h5",{className:"mb-0",children:"Nueva Reserva"})}),a.jsx(fe.Body,{children:a.jsx(q1,{fields:5})})]}):a.jsxs(fe,{className:"shadow-sm",children:[a.jsx(fe.Header,{className:"bg-primary text-white",children:a.jsx("h5",{className:"mb-0",children:"Nueva Reserva"})}),a.jsx(fe.Body,{children:a.jsxs(F,{onSubmit:ne,children:[a.jsxs(Fe,{children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsx("label",{htmlFor:"mesa",className:"form-label",children:"Mesa *"}),a.jsxs("select",{id:"mesa",name:"mesa",className:`form-select ${X("mesa")?"is-invalid":M.mesa?"is-valid":""}`,value:_.mesa,onChange:z,onBlur:B,required:!0,children:[a.jsx("option",{value:"",children:"Seleccione una mesa"}),c.map(U=>a.jsxs("option",{value:U.id,children:["Mesa ",U.numero," - Capacidad: ",U.capacidad," personas (",U.estado,")"]},U.id))]}),X("mesa")&&a.jsx("div",{className:"invalid-feedback d-block",children:X("mesa")})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsx("label",{htmlFor:"num_personas",className:"form-label",children:"Nmero de Personas *"}),a.jsx("input",{type:"number",id:"num_personas",name:"num_personas",className:`form-control ${X("num_personas")?"is-invalid":M.num_personas?"is-valid":""}`,value:_.num_personas,onChange:z,onBlur:B,min:"1",max:pe(),required:!0}),X("num_personas")&&a.jsx("div",{className:"invalid-feedback d-block",children:X("num_personas")}),_.mesa&&!X("num_personas")&&a.jsxs("small",{className:"text-muted",children:["Capacidad mxima de la mesa: ",pe()," personas"]})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsx("label",{htmlFor:"fecha_reserva",className:"form-label",children:"Fecha *"}),a.jsx("input",{type:"date",id:"fecha_reserva",name:"fecha_reserva",className:`form-control ${X("fecha_reserva")?"is-invalid":M.fecha_reserva?"is-valid":""}`,value:_.fecha_reserva,onChange:z,onBlur:B,min:ce(),required:!0}),X("fecha_reserva")&&a.jsx("div",{className:"invalid-feedback d-block",children:X("fecha_reserva")})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsx("label",{htmlFor:"hora_inicio",className:"form-label",children:"Hora de la Reserva *"}),x?a.jsxs("div",{className:"form-control text-center",children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Consultando disponibilidad..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{id:"hora_inicio",name:"hora_inicio",className:`form-select ${X("hora_inicio")?"is-invalid":M.hora_inicio?"is-valid":""}`,value:_.hora_inicio,onChange:z,onBlur:B,disabled:!_.fecha_reserva||!_.num_personas||x,required:!0,children:[a.jsx("option",{value:"",children:_.fecha_reserva&&_.num_personas?"Seleccione una hora":"Primero seleccione fecha y nmero de personas"}),w.length>0?w.map(({hora:U,mesas_disponibles:b})=>{const O=b>0;return a.jsxs("option",{value:U,disabled:!O,children:[U," hrs - ",O?`${b} ${b===1?"mesa disponible":"mesas disponibles"}`:"No disponible"]},U)}):ge().map(U=>{const b=!y.includes(U);return a.jsxs("option",{value:U,disabled:!b,children:[U," hrs ",b?"":"(No disponible)"]},U)})]}),X("hora_inicio")&&a.jsx("div",{className:"invalid-feedback d-block",children:X("hora_inicio")})]}),a.jsxs("small",{className:"text-info d-block mt-1",children:[a.jsx("i",{className:"bi bi-info-circle me-1"}),"La reserva tendr una duracin de 2 horas"]}),_.fecha_reserva&&_.num_personas&&p.length===0&&y.length>0&&!x&&a.jsxs("small",{className:"text-warning d-block mt-1",children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"No hay horarios disponibles para esta fecha y nmero de personas. Intente con otra fecha."]})]}),a.jsxs("div",{className:"col-12 mb-3",children:[a.jsx("label",{htmlFor:"notas",className:"form-label",children:"Notas o Requerimientos Especiales"}),a.jsx("textarea",{id:"notas",name:"notas",className:"form-control",rows:"3",value:_.notas,onChange:z,placeholder:"Ej: Celebracin de cumpleaos, restricciones alimentarias, etc."})]})]}),a.jsx("div",{className:"d-grid gap-2",children:a.jsx(be,{type:"submit",variant:"primary",size:"lg",disabled:H,children:H?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-2"}),"Creando reserva..."]}):"Crear Reserva"})}),a.jsx("small",{className:"text-muted d-block mt-2",children:"* Campos obligatorios"})]})}),D&&a.jsx(Ib,{isOpen:A,onClose:V,reservaData:D,clienteData:r?{nombre:r.first_name||r.username||"Usuario",apellido:r.last_name||"",email:r.email,telefono:r.telefono||""}:null,esInvitado:!1})]})}function Y1(){const s=Zs(),[i,r]=m.useState([]),[c,d]=m.useState(!0),[f,h]=m.useState(""),[x,g]=m.useState("TODOS"),[p,j]=m.useState({isOpen:!1,reservaId:null,isLoading:!1}),y=m.useCallback(async()=>{try{d(!0);const T=await cr({estado:x!=="TODOS"?x:void 0});r(T),h("")}catch(T){h("Error al cargar reservas"),console.error(T)}finally{d(!1)}},[x]);m.useEffect(()=>{y();const T=setInterval(y,3e4);return()=>clearInterval(T)},[y]);const S=T=>{j({isOpen:!0,reservaId:T,isLoading:!1})},w=async()=>{try{j(T=>({...T,isLoading:!0})),await of({id:p.reservaId,nuevoEstado:"cancelada"}),await y(),s.success("Reserva cancelada exitosamente"),j({isOpen:!1,reservaId:null,isLoading:!1})}catch(T){const L=Fl(T);s.error(L),j(_=>({..._,isLoading:!1}))}},C=T=>`estado-chip estado-chip--${(T||"").toLowerCase()}`,A={PENDIENTE:"bi-clock-history",ACTIVA:"bi-lightning-charge-fill",COMPLETADA:"bi-check2-circle",CANCELADA:"bi-x-octagon-fill"},E=T=>{const[L,_,M]=T.split("-");return`${M}/${_}/${L}`},D=T=>T?T.substring(0,5):"";return c&&i.length===0?a.jsxs(zt,{fluid:!0,children:[a.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:a.jsx("h2",{className:"mb-0",children:"Mis Reservas"})}),a.jsx("div",{className:"mb-4",children:a.jsx(Pc,{children:["TODOS","PENDIENTE","ACTIVA","COMPLETADA","CANCELADA"].map(T=>a.jsx(be,{variant:"outline-primary",disabled:!0,children:T},T))})}),a.jsx(Fe,{children:[1,2,3].map(T=>a.jsx(H1,{},T))})]}):a.jsxs(zt,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h2",{className:"mb-0",children:"Mis Reservas"}),a.jsx(be,{variant:"outline-primary",size:"sm",onClick:y,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-1"}),"Actualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Actualizar"]})})]}),f&&a.jsx(st,{variant:"danger",dismissible:!0,onClose:()=>h(""),children:f}),a.jsx("div",{className:"mb-4",children:a.jsx(Pc,{children:["TODOS","PENDIENTE","ACTIVA","COMPLETADA","CANCELADA"].map(T=>a.jsx(be,{variant:x===T?"primary":"outline-primary",onClick:()=>g(T),children:T},T))})}),i.length===0?a.jsxs(st,{variant:"info",children:[a.jsx("i",{className:"bi bi-info-circle me-2"}),"No tiene reservas ",x!=="TODOS"?`en estado ${x.toLowerCase()}`:"","."]}):a.jsx(Fe,{children:i.map(T=>a.jsx(ve,{md:6,lg:4,className:"mb-3",children:a.jsx(fe,{className:"h-100 shadow-sm reserva-card",children:a.jsxs(fe.Body,{className:"d-flex flex-column h-100",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted small mb-1",children:"Mesa"}),a.jsx("h5",{className:"mb-0",children:T.mesa})]}),a.jsxs("span",{className:C(T.estado),children:[a.jsx("i",{className:`bi ${A[T.estado]||"bi-info-circle"} me-2`}),T.estado]})]}),a.jsxs("div",{className:"reserva-card__timeline",children:[a.jsx("div",{className:"reserva-card__timeline-icon",children:a.jsx("i",{className:"bi bi-calendar3"})}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-0 fw-semibold",children:E(T.fecha)}),a.jsx("small",{className:"text-muted",children:"Fecha reservada"})]})]}),a.jsxs("div",{className:"reserva-card__timeline",children:[a.jsx("div",{className:"reserva-card__timeline-icon text-primary",children:a.jsx("i",{className:"bi bi-clock-history"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"mb-0 fw-semibold",children:[D(T.hora)," hrs"]}),a.jsx("small",{className:"text-muted",children:"Horario estimado"})]})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 mt-3",children:[a.jsxs(Le,{pill:!0,bg:"",className:"badge-soft-primary",children:[a.jsx("i",{className:"bi bi-people-fill me-1"}),T.personas," ",T.personas===1?"persona":"personas"]}),a.jsxs(Le,{pill:!0,bg:"light",text:"muted",children:["ID #",T.id]})]}),T.estado==="PENDIENTE"?a.jsx("div",{className:"mt-auto pt-3",children:a.jsxs(be,{variant:"",className:"btn-soft-danger w-100",onClick:()=>S(T.id),children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancelar Reserva"]})}):a.jsxs("div",{className:"mt-auto pt-3 text-muted small",children:["ltima actualizacin: ",E(T.fecha)]})]})})},T.id))}),a.jsx(fe,{className:"mt-4",children:a.jsxs(fe.Body,{children:[a.jsx(fe.Title,{as:"h6",children:"Leyenda de Estados:"}),a.jsxs("div",{className:"d-flex flex-wrap gap-3",children:[a.jsxs("div",{children:[a.jsx(Le,{bg:"warning",className:"me-2",children:"PENDIENTE"}),a.jsx("small",{children:"Reserva confirmada, esperando llegada"})]}),a.jsxs("div",{children:[a.jsx(Le,{bg:"success",className:"me-2",children:"ACTIVA"}),a.jsx("small",{children:"Mesa ocupada actualmente"})]}),a.jsxs("div",{children:[a.jsx(Le,{bg:"secondary",className:"me-2",children:"COMPLETADA"}),a.jsx("small",{children:"Reserva finalizada"})]}),a.jsxs("div",{children:[a.jsx(Le,{bg:"danger",className:"me-2",children:"CANCELADA"}),a.jsx("small",{children:"Reserva cancelada"})]})]})]})}),a.jsx(Zf,{isOpen:p.isOpen,onClose:()=>j({isOpen:!1,reservaId:null,isLoading:!1}),onConfirm:w,title:"Cancelar Reserva",message:"Est seguro que desea cancelar esta reserva? Esta accin no se puede deshacer.",confirmText:"S, cancelar",cancelText:"No, mantener",confirmVariant:"danger",isLoading:p.isLoading})]})}function V1(){const[s,i]=m.useState(!1),[r,c]=m.useState(""),[d,f]=m.useState(""),[h,x]=m.useState(!1),g=Kf(),[p,j]=m.useState({nombre:"",apellido:"",telefono:"",rut:"",email:g?.email||""}),[y,S]=m.useState({});m.useEffect(()=>{w()},[]);const w=async()=>{try{c(""),f("");const L=await E1(),_=L.nombre_completo?L.nombre_completo.split(" "):["",""],M=_[0]||"",H=_.slice(1).join(" ")||"";j({nombre:M,apellido:H,telefono:L.telefono||"",rut:L.rut||"",email:L.email||""})}catch(L){c("Error al cargar el perfil"),console.error("Error al cargar perfil:",L)}},C=L=>{const{name:_,value:M}=L.target;let H=M;_==="rut"&&M&&(H=Jf(M)),_==="telefono"&&M&&(H=If(M)),j(z=>({...z,[_]:H})),c(""),h&&A(_,H)},A=(L,_)=>{let M={valido:!0,mensaje:""};switch(L){case"rut":_&&(M=or(_));break;case"telefono":_&&(M=ur(_));break}S(H=>({...H,[L]:M.valido?"":M.mensaje}))},E=()=>{const L={};if((!p.nombre||p.nombre.trim()==="")&&(L.nombre="El nombre es requerido"),(!p.apellido||p.apellido.trim()==="")&&(L.apellido="El apellido es requerido"),p.rut){const _=or(p.rut);_.valido||(L.rut=_.mensaje)}if(p.telefono){const _=ur(p.telefono);_.valido||(L.telefono=_.mensaje)}return S(L),Object.keys(L).length===0},D=async L=>{if(L.preventDefault(),c(""),f(""),!E()){c("Por favor corrija los errores en el formulario");return}i(!0);try{const _=await C1({nombre:p.nombre,apellido:p.apellido,telefono:p.telefono,rut:p.rut});f(_.message||"Perfil actualizado exitosamente"),x(!1),await w(),setTimeout(()=>f(""),3e3)}catch(_){c(_.message||"Error al actualizar el perfil"),console.error("Error al guardar:",_)}finally{i(!1)}},T=()=>{x(!1),c(""),f(""),S({}),w()};return a.jsx(zt,{fluid:!0,className:"py-4",children:a.jsx(Fe,{className:"justify-content-center",children:a.jsx(ve,{md:8,lg:6,children:a.jsxs(fe,{className:"shadow-sm",children:[a.jsx(fe.Header,{className:"bg-primary text-white",children:a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("h5",{className:"mb-0",children:[a.jsx("i",{className:"bi bi-person-circle me-2"}),"Mi Perfil"]}),h&&a.jsxs(Le,{bg:"warning",text:"dark",children:[a.jsx("i",{className:"bi bi-pencil-fill me-1"}),"Modo Edicin"]})]})}),a.jsxs(fe.Body,{className:"p-4",children:[r&&a.jsxs(st,{variant:"danger",dismissible:!0,onClose:()=>c(""),children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),r]}),d&&a.jsxs(st,{variant:"success",dismissible:!0,onClose:()=>f(""),children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),d]}),a.jsxs(F,{onSubmit:D,children:[a.jsxs(Fe,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"nombre",children:["Nombre ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"nombre",name:"nombre",value:p.nombre,onChange:C,disabled:!h,isInvalid:!!y.nombre,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:y.nombre})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"apellido",children:["Apellido ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",id:"apellido",name:"apellido",value:p.apellido,onChange:C,disabled:!h,isInvalid:!!y.apellido,required:!0}),a.jsx(F.Control.Feedback,{type:"invalid",children:y.apellido})]})})]}),a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{htmlFor:"email",children:"Email"}),a.jsx(F.Control,{type:"email",id:"email",name:"email",value:p.email,disabled:!0}),a.jsx(F.Text,{className:"text-muted",children:"El email no se puede modificar"})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{htmlFor:"telefono",children:"Telfono"}),a.jsx(F.Control,{type:"text",id:"telefono",name:"telefono",value:p.telefono,onChange:C,placeholder:"+56 9 1234 5678",disabled:!h,isInvalid:!!y.telefono}),a.jsx(F.Control.Feedback,{type:"invalid",children:y.telefono})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{htmlFor:"rut",children:"RUT"}),a.jsx(F.Control,{type:"text",id:"rut",name:"rut",value:p.rut,onChange:C,placeholder:"12.345.678-9",disabled:!h,isInvalid:!!y.rut}),a.jsx(F.Control.Feedback,{type:"invalid",children:y.rut})]})})]}),a.jsx("div",{className:"d-flex gap-2 mt-4",children:h?a.jsxs(a.Fragment,{children:[a.jsx(be,{type:"submit",variant:"success",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-2"}),"Guardando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),"Guardar Cambios"]})}),a.jsxs(be,{variant:"secondary",onClick:T,disabled:s,children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancelar"]})]}):a.jsxs(be,{variant:"primary",onClick:L=>{L.preventDefault(),L.stopPropagation(),x(!0)},type:"button",children:[a.jsx("i",{className:"bi bi-pencil me-2"}),"Editar Perfil"]})})]}),a.jsxs("div",{className:"mt-4 pt-4 border-top",children:[a.jsx("h6",{className:"text-muted",children:"Informacin de la cuenta"}),a.jsxs(Fe,{children:[a.jsxs(ve,{md:6,children:[a.jsx("small",{className:"text-muted d-block",children:"Usuario:"}),a.jsx("strong",{children:g?.username})]}),a.jsxs(ve,{md:6,children:[a.jsx("small",{className:"text-muted d-block",children:"Rol:"}),a.jsx(Le,{bg:"primary",children:g?.rol_display})]})]})]})]})]})})})})}async function F1(s){try{const i=await s.json();if(i.error)return i.error;if(i.message)return i.message;if(i.detail)return i.detail;if(typeof i=="object"&&!Array.isArray(i)){const r=Object.entries(i).map(([c,d])=>{const f=c==="non_field_errors"?"Error":c,h=Array.isArray(d)?d.join(", "):d;return`${f}: ${h}`}).join(`
`);if(r)return r}return JSON.stringify(i)}catch{try{return await s.text()}catch{return"Error desconocido del servidor"}}}function X1(s,i="completar la operacin"){if(s instanceof Error){if(s.message==="Failed to fetch"||s.message.includes("NetworkError"))return"Error de conexin. Por favor verifique su conexin a internet e intente nuevamente.";if(s.message.includes("timeout")||s.message.includes("timed out"))return"La operacin tard demasiado tiempo. Por favor intente nuevamente.";if(s.message)return s.message}return typeof s=="string"?s:`Error al ${i}. Por favor intente nuevamente.`}async function Q1(s,i,r,c={}){const{showAlert:d=!1,onError:f}=c;let h;return s instanceof Response?h=await F1(s):h=X1(s,i),console.error(`Error en ${i}:`,s),r&&typeof r=="function"&&r(h),d&&alert(`Error al ${i}: ${h}`),f&&typeof f=="function"&&f(h,s),h}function K1(){const s=Zs(),[i,r]=m.useState([]),[c,d]=m.useState([]),[f,h]=m.useState(!0),[x,g]=m.useState(""),[p,j]=m.useState("activos"),[y,S]=m.useState("TODAS"),[w,C]=m.useState({isOpen:!1,bloqueoId:null,isLoading:!1}),[A,E]=m.useState(!1),[D,T]=m.useState({mesas:[],fecha_inicio:"",fecha_fin:"",hora_inicio:"",hora_fin:"",motivo:"",categoria:"otro",notas:"",dia_completo:!1}),[L,_]=m.useState(!1),[M,H]=m.useState({}),z=[{value:"TODAS",label:"Todas las categoras"},{value:"mantenimiento",label:"Mantenimiento"},{value:"evento_privado",label:"Evento Privado"},{value:"reparacion",label:"Reparacin"},{value:"reserva_especial",label:"Reserva Especial"},{value:"otro",label:"Otro"}];m.useEffect(()=>{J(),B()},[p,y]);const B=async()=>{try{const b=await tn();d(b)}catch(b){console.error("Error al cargar mesas:",b)}},J=async()=>{try{h(!0);const b={};p==="activos"?b.solo_activos=!0:p==="inactivos"&&(b.activo=!1),y!=="TODAS"&&(b.categoria=y);const O=await uf(b);r(Array.isArray(O)?O:[]),g("")}catch(b){g("Error al cargar bloqueos: "+b.message),r([]),console.error(b)}finally{h(!1)}},q=b=>{C({isOpen:!0,bloqueoId:b,isLoading:!1})},X=async()=>{try{C(b=>({...b,isLoading:!0})),await Xd(w.bloqueoId),await J(),s.success("Bloqueo eliminado exitosamente"),C({isOpen:!1,bloqueoId:null,isLoading:!1})}catch(b){s.error("Error al eliminar bloqueo: "+b.message),C(O=>({...O,isLoading:!1}))}},P=async b=>{try{b.activo?(await R1(b.id),s.success("Bloqueo desactivado")):(await D1(b.id),s.success("Bloqueo activado")),await J()}catch(O){s.error("Error: "+O.message)}},te=()=>{T({mesas:[],fecha_inicio:"",fecha_fin:"",hora_inicio:"",hora_fin:"",motivo:"",categoria:"otro",notas:"",dia_completo:!1}),H({}),E(!0)},de=b=>{const{name:O,value:I,type:ee,checked:oe}=b.target;T(je=>({...je,[O]:ee==="checkbox"?oe:I}))},pe=b=>{T(O=>({...O,mesas:O.mesas.includes(b)?O.mesas.filter(I=>I!==b):[...O.mesas,b]}))},V=()=>{T(b=>({...b,mesas:b.mesas.length===c.length?[]:c.map(O=>O.id)}))},ne=async b=>{if(b.preventDefault(),H({}),D.mesas.length===0){H({mesas:"Debe seleccionar al menos una mesa"}),s.error("Debe seleccionar al menos una mesa");return}_(!0);const O=[];try{const I=D.mesas.map(async G=>{const re={mesa:parseInt(G),fecha_inicio:D.fecha_inicio,fecha_fin:D.fecha_fin,motivo:D.motivo,categoria:D.categoria,notas:D.notas};return D.dia_completo||(re.hora_inicio=D.hora_inicio,re.hora_fin=D.hora_fin),O1(re)}),ee=await Promise.allSettled(I),oe=ee.filter(G=>G.status==="fulfilled"),je=ee.filter(G=>G.status==="rejected");if(oe.forEach(G=>{G.value&&G.value.id&&O.push(G.value.id)}),je.length>0){O.length>0&&await Promise.all(O.map(re=>Xd(re).catch(me=>{console.error(`Error al eliminar bloqueo ${re} durante rollback:`,me)})));const G=je[0].reason;s.error(`Error: No se pudieron crear los bloqueos. ${G.message||"Error desconocido"}`),console.error("Errores al crear bloqueos:",je)}else{const G=D.mesas.length;s.success(`${G} mesa${G>1?"s":""} bloqueada${G>1?"s":""} exitosamente`),E(!1),await J()}}catch(I){s.error("Error inesperado al crear bloqueos: "+I.message),console.error(I),O.length>0&&await Promise.all(O.map(ee=>Xd(ee).catch(oe=>{console.error(`Error al eliminar bloqueo ${ee} durante rollback:`,oe)})))}finally{_(!1)}},ce=b=>{const[O,I,ee]=b.split("-");return`${ee}/${I}/${O}`},ge=b=>b?b.substring(0,5):"Da completo",U=b=>({mantenimiento:"warning",evento_privado:"info",reparacion:"danger",reserva_especial:"success",otro:"secondary"})[b]||"secondary";return f&&i.length===0?a.jsx(zt,{fluid:!0,children:a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary"}),a.jsx("p",{className:"mt-2",children:"Cargando bloqueos..."})]})}):a.jsxs(zt,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h2",{className:"mb-0",children:"Bloqueos de Mesas"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(be,{variant:"primary",size:"sm",onClick:te,children:[a.jsx("i",{className:"bi bi-plus-circle me-1"}),"Crear Bloqueo"]}),a.jsx(be,{variant:"outline-primary",size:"sm",onClick:J,disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-1"}),"Actualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Actualizar"]})})]})]}),x&&a.jsxs(st,{variant:"danger",dismissible:!0,onClose:()=>g(""),children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),x]}),a.jsxs(Fe,{className:"mb-4",children:[a.jsx(ve,{md:6,children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{children:"Estado"}),a.jsxs(F.Select,{value:p,onChange:b=>j(b.target.value),children:[a.jsx("option",{value:"todos",children:"Todos"}),a.jsx("option",{value:"activos",children:"Activos"}),a.jsx("option",{value:"inactivos",children:"Inactivos"})]})]})}),a.jsx(ve,{md:6,children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{children:"Categora"}),a.jsx(F.Select,{value:y,onChange:b=>S(b.target.value),children:z.map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))})]})})]}),!Array.isArray(i)||i.length===0?a.jsxs(st,{variant:"info",children:[a.jsx("i",{className:"bi bi-info-circle me-2"}),"No hay bloqueos ",p==="activos"?"activos":p==="inactivos"?"inactivos":"","."]}):a.jsx(fe,{className:"shadow-sm",children:a.jsx(fe.Body,{children:a.jsx("div",{className:"table-responsive",children:a.jsxs(vs,{hover:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Mesa"}),a.jsx("th",{children:"Fecha Inicio"}),a.jsx("th",{children:"Fecha Fin"}),a.jsx("th",{children:"Horario"}),a.jsx("th",{children:"Motivo"}),a.jsx("th",{children:"Categora"}),a.jsx("th",{children:"Estado"}),a.jsx("th",{children:"Acciones"})]})}),a.jsx("tbody",{children:i.map(b=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("strong",{children:["Mesa ",b.mesa_numero]})}),a.jsx("td",{children:ce(b.fecha_inicio)}),a.jsx("td",{children:ce(b.fecha_fin)}),a.jsx("td",{children:b.hora_inicio?a.jsxs("small",{children:[ge(b.hora_inicio)," - ",ge(b.hora_fin)]}):a.jsx(Le,{bg:"info",children:"Da completo"})}),a.jsx("td",{children:b.motivo}),a.jsx("td",{children:a.jsx(Le,{bg:U(b.categoria),children:b.categoria_display})}),a.jsx("td",{children:a.jsx(Le,{bg:b.activo?"success":"secondary",children:b.activo?"Activo":"Inactivo"})}),a.jsx("td",{children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(be,{size:"sm",variant:b.activo?"warning":"success",onClick:()=>P(b),children:[a.jsx("i",{className:`bi ${b.activo?"bi-pause":"bi-play"} me-1`}),b.activo?"Desactivar":"Activar"]}),a.jsxs(be,{size:"sm",variant:"danger",onClick:()=>q(b.id),children:[a.jsx("i",{className:"bi bi-trash me-1"}),"Eliminar"]})]})})]},b.id))})]})})})}),a.jsxs($e,{show:A,onHide:()=>E(!1),size:"lg",centered:!0,children:[a.jsx($e.Header,{closeButton:!0,children:a.jsxs($e.Title,{children:[a.jsx("i",{className:"bi bi-lock me-2"}),"Crear Bloqueo de Mesa"]})}),a.jsx($e.Body,{children:a.jsxs(F,{onSubmit:ne,children:[a.jsxs(Fe,{children:[a.jsx(ve,{md:12,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[a.jsxs(F.Label,{className:"mb-0",children:["Mesas ",a.jsx("span",{className:"text-danger",children:"*"}),a.jsxs(Le,{bg:"primary",className:"ms-2",children:[D.mesas.length," seleccionada(s)"]})]}),a.jsx(be,{variant:"link",size:"sm",onClick:V,className:"text-decoration-none",children:D.mesas.length===c.length?"Deseleccionar todas":"Seleccionar todas"})]}),a.jsx("div",{className:"border rounded p-3",style:{maxHeight:"200px",overflowY:"auto",backgroundColor:"#f8f9fa"},children:c.length===0?a.jsxs("div",{className:"text-center text-muted py-3",children:[a.jsx("i",{className:"bi bi-inbox"}),a.jsx("p",{className:"mb-0 small",children:"No hay mesas disponibles"})]}):a.jsx(Fe,{children:c.map(b=>a.jsx(ve,{md:6,className:"mb-2",children:a.jsx(F.Check,{type:"checkbox",id:`mesa-${b.id}`,label:`Mesa ${b.numero} (Cap: ${b.capacidad})`,checked:D.mesas.includes(b.id),onChange:()=>pe(b.id)})},b.id))})}),M.mesas&&a.jsx(F.Text,{className:"text-danger",children:M.mesas})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{children:["Categora ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Select,{name:"categoria",value:D.categoria,onChange:de,required:!0,children:z.filter(b=>b.value!=="TODAS").map(b=>a.jsx("option",{value:b.value,children:b.label},b.value))})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{children:["Fecha Inicio ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"date",name:"fecha_inicio",value:D.fecha_inicio,onChange:de,required:!0})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{children:["Fecha Fin ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"date",name:"fecha_fin",value:D.fecha_fin,onChange:de,required:!0})]})}),a.jsx(ve,{md:12,className:"mb-3",children:a.jsx(F.Check,{type:"checkbox",name:"dia_completo",label:"Bloqueo de da completo (no especificar horario)",checked:D.dia_completo,onChange:de})}),!D.dia_completo&&a.jsxs(a.Fragment,{children:[a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{children:["Hora Inicio ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"time",name:"hora_inicio",value:D.hora_inicio,onChange:de,required:!D.dia_completo})]})}),a.jsx(ve,{md:6,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{children:["Hora Fin ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"time",name:"hora_fin",value:D.hora_fin,onChange:de,required:!D.dia_completo})]})})]}),a.jsx(ve,{md:12,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsxs(F.Label,{children:["Motivo ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx(F.Control,{type:"text",name:"motivo",value:D.motivo,onChange:de,placeholder:"Ej: Mantenimiento programado, Evento privado...",maxLength:200,required:!0})]})}),a.jsx(ve,{md:12,className:"mb-3",children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{children:"Notas (opcional)"}),a.jsx(F.Control,{as:"textarea",rows:3,name:"notas",value:D.notas,onChange:de,placeholder:"Informacin adicional sobre el bloqueo...",maxLength:500}),a.jsx(F.Text,{className:"text-muted",children:"Mximo 500 caracteres"})]})})]}),a.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-3",children:[a.jsx(be,{variant:"secondary",onClick:()=>E(!1),disabled:L,children:"Cancelar"}),a.jsx(be,{type:"submit",variant:"primary",disabled:L||D.mesas.length===0,children:L?a.jsxs(a.Fragment,{children:[a.jsx(kt,{animation:"border",size:"sm",className:"me-2"}),"Creando ",D.mesas.length," bloqueo",D.mesas.length>1?"s":"","..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-circle me-1"}),"Crear ",D.mesas.length>0?`${D.mesas.length} `:"","Bloqueo",D.mesas.length>1?"s":""]})})]})]})})]}),a.jsx(Zf,{isOpen:w.isOpen,onClose:()=>C({isOpen:!1,bloqueoId:null,isLoading:!1}),onConfirm:X,title:"Eliminar Bloqueo",message:"Est seguro que desea eliminar este bloqueo? Esta accin no se puede deshacer.",confirmText:"S, eliminar",cancelText:"Cancelar",confirmVariant:"danger",isLoading:w.isLoading})]})}function Z1(){const[s,i]=m.useState("gestion"),[r,c]=m.useState([]),[d,f]=m.useState(!0),[h,x]=m.useState(""),[g,p]=m.useState("TODOS"),[j,y]=m.useState(null),[S,w]=m.useState(""),[C,A]=m.useState(()=>new Date().toISOString().slice(0,10)),[E,D]=m.useState(""),[T,L]=m.useState([]),[_,M]=m.useState([]),[H,z]=m.useState([]),[B,J]=m.useState(!0),[q,X]=m.useState({isOpen:!1,reserva:null});m.useEffect(()=>{P();const G=setInterval(P,3e4);return()=>clearInterval(G)},[]),m.useEffect(()=>{B&&(te(),de())},[C,B]),m.useEffect(()=>{pe();const G=setInterval(pe,3e4);return()=>clearInterval(G)},[]);const P=async()=>{try{f(!0);const G=await tn({fecha:B?C:void 0,hora:B?E:void 0});c(G),x("")}catch(G){x("Error al cargar mesas"),console.error(G)}finally{f(!1)}},te=async()=>{try{const G=await cr({fecha:C}),re=E?G.filter(me=>me.hora&&me.hora.startsWith(E)):G;L(re)}catch(G){console.error("Error al cargar reservas:",G),L([])}},de=async()=>{try{const G=await uf({activos_en_fecha:C});M(Array.isArray(G)?G:[])}catch(G){console.error("Error al cargar bloqueos:",G),M([])}},pe=async()=>{try{const G=new Date().toISOString().slice(0,10),re=await uf({activos_en_fecha:G,solo_activos:!0});z(Array.isArray(re)?re:[])}catch(G){console.error("Error al cargar bloqueos activos hoy:",G),z([])}},V=async(G,re)=>{const me=[...r],_e=r.find(De=>De.id===G);if(B&&(re==="disponible"||re==="ocupada")){const De=ce(_e?.numero||G);if(De.length>0&&(E?De.some(pt=>pt.hora&&pt.hora.startsWith(E)):!0)&&!window.confirm(`Esta mesa tiene reservas para ${C}${E?` a las ${E}`:""}. Seguro desea marcarla como ${re}?`))return}try{await y1({id:G,nuevoEstado:re});try{await P()}catch(De){console.error("Error al recargar mesas, restaurando vista anterior:",De),c(me),w("Estado actualizado, pero hubo un error al recargar. Actualice la pgina manualmente."),setTimeout(()=>w(""),5e3)}y(null),S||(w("Estado de la mesa actualizado correctamente"),setTimeout(()=>w(""),3e3))}catch(De){c(me),await Q1(De,"actualizar estado de la mesa",x)}},ne=G=>({disponible:"success",reservada:"warning",ocupada:"danger",limpieza:"info"})[G]||"secondary",ce=G=>{if(!B)return[];const re=`M${String(G).padStart(2,"0")}`;return T.filter(me=>me.mesa===re)},ge=G=>B?_.filter(re=>re.mesa_numero===G):[],U=G=>ge(G).length>0,b=(G,re)=>{const me=ge(G);return!re||me.length===0?me.length>0:me.some(_e=>!_e.hora_inicio||!_e.hora_fin?!0:re>=_e.hora_inicio.substring(0,5)&&re<=_e.hora_fin.substring(0,5))},O=G=>{if(B)return E?b(G,E):U(G);const re=new Date,me=re.toISOString().slice(0,10),_e=re.toTimeString().slice(0,5);return H.some(De=>{if(!De.activo||De.mesa_numero!==G||De.fecha_inicio>me||De.fecha_fin<me)return!1;if(!De.hora_inicio||!De.hora_fin)return!0;const ft=De.hora_inicio.substring(0,5),pt=De.hora_fin.substring(0,5);return _e>=ft&&_e<=pt})},I=G=>O(G.numero)?"danger":ne(G.estado),ee=G=>G?G.substring(0,5):"",oe=G=>{X({isOpen:!0,reserva:G})},je=g==="TODOS"?r:r.filter(G=>G.estado===g.toLowerCase());return d&&r.length===0?a.jsxs("div",{className:"text-center py-5",children:[a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),a.jsx("p",{className:"mt-2",children:"Cargando mesas..."})]}):a.jsxs("div",{className:"container-fluid",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted text-uppercase small mb-1",children:"Piso y disponibilidad"}),a.jsx("h2",{className:"mb-0",children:"Gestin de Mesas"}),a.jsx("small",{className:"text-muted",children:"Controla estados, bloqueos y reservas activas en un panel."})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx(Le,{bg:"success",className:"rounded-pill text-uppercase",children:"Activas"}),a.jsx(Le,{bg:"danger",className:"rounded-pill text-uppercase",children:"Bloqueos"})]})]}),a.jsxs(Qf,{activeKey:s,onSelect:G=>i(G),className:"mb-4 modern-tabs",children:[a.jsxs(no,{eventKey:"gestion",title:a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-grid-3x3 me-2"}),"Gestin de Mesas"]}),children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-2 mb-4",children:[a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs("div",{className:"badge bg-light text-dark border",children:[a.jsx("i",{className:"bi bi-calendar-check me-1"}),new Date(C+"T00:00:00").toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})]}),E&&a.jsxs("div",{className:"badge bg-info text-white",children:[a.jsx("i",{className:"bi bi-clock me-1"}),E]})]}),a.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:P,disabled:d,"aria-label":"Actualizar mesas",children:d?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Actualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Actualizar"]})})]}),h&&a.jsxs("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[h,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>x("")})]}),S&&a.jsxs("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[S,a.jsx("button",{type:"button",className:"btn-close",onClick:()=>w("")})]}),a.jsx("div",{className:"card border-0 shadow-sm mb-4 glass-panel",children:a.jsx("div",{className:"card-body",children:a.jsxs("div",{className:"row g-3",children:[a.jsxs("div",{className:"col-12",children:[a.jsx("label",{className:"form-label small fw-bold",children:"Filtrar por Estado Actual:"}),a.jsx("div",{className:"d-flex flex-wrap gap-2",children:["TODOS","DISPONIBLE","RESERVADA","OCUPADA","LIMPIEZA"].map(G=>{const re={TODOS:"secondary",DISPONIBLE:"success",RESERVADA:"warning",OCUPADA:"danger",LIMPIEZA:"info"};return a.jsxs("button",{type:"button",className:`filter-chip ${g===G?"filter-chip--active":""}`,onClick:()=>p(G),"aria-label":`Filtrar ${G.toLowerCase()}`,children:[a.jsx("i",{className:`bi ${G==="DISPONIBLE"?"bi-check-circle":G==="RESERVADA"?"bi-clock":G==="OCUPADA"?"bi-people-fill":G==="LIMPIEZA"?"bi-droplet":"bi-ui-checks"} me-1 text-${re[G]}`}),G]},G)})})]}),a.jsx("div",{className:"col-12 border-top pt-3",children:a.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-3",children:[a.jsxs("div",{className:"form-check form-switch mb-0",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"toggleDisponibilidad",checked:B,onChange:G=>J(G.target.checked)}),a.jsxs("label",{className:"form-check-label fw-bold",htmlFor:"toggleDisponibilidad",children:[a.jsx("i",{className:"bi bi-calendar3 me-2"}),"Ver disponibilidad por fecha/hora"]})]}),B&&a.jsxs("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[a.jsxs("span",{className:"badge rounded-pill bg-light text-dark",children:[a.jsx("i",{className:"bi bi-calendar-check me-1"}),new Date(C+"T00:00:00").toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})]}),E&&a.jsxs("span",{className:"badge rounded-pill bg-info text-white",children:[a.jsx("i",{className:"bi bi-clock me-1"}),E]}),a.jsx("button",{className:"btn btn-link btn-sm text-decoration-none",onClick:()=>{D(""),A(new Date().toISOString().slice(0,10))},children:"Limpiar filtros de tiempo"})]})]})}),B&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"fechaFiltro",className:"form-label small",children:"Fecha a consultar:"}),a.jsx("input",{type:"date",id:"fechaFiltro",className:"form-control",value:C,onChange:G=>A(G.target.value)})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx("label",{htmlFor:"horaFiltro",className:"form-label small",children:"Hora (opcional):"}),a.jsx("input",{type:"time",id:"horaFiltro",className:"form-control",value:E,onChange:G=>D(G.target.value)}),a.jsx("small",{className:"text-muted",children:"Filtra reservas y disponibilidad en una hora especfica"})]})]})]})})}),a.jsxs("div",{className:"row mb-4 g-3",children:[[{label:"Disponibles",color:"success",value:r.filter(G=>G.estado==="disponible").length,icon:"bi-check-circle"},{label:"Reservadas",color:"warning",value:r.filter(G=>G.estado==="reservada").length,icon:"bi-clock-history"},{label:"Ocupadas",color:"danger",value:r.filter(G=>G.estado==="ocupada").length,icon:"bi-people-fill"},{label:"Limpieza",color:"info",value:r.filter(G=>G.estado==="limpieza").length,icon:"bi-droplet"}].map(G=>a.jsx("div",{className:"col-6 col-md-3",children:a.jsx("div",{className:"card border-0 shadow-sm resumen-card",children:a.jsxs("div",{className:"card-body d-flex align-items-center gap-3",children:[a.jsx("div",{className:`resumen-card__icon text-${G.color}`,children:a.jsx("i",{className:`bi ${G.icon}`})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted small d-block",children:G.label}),a.jsx("span",{className:`h4 mb-0 fw-bold text-${G.color}`,children:G.value})]})]})})},G.label)),B&&_.length>0&&a.jsx("div",{className:"col-12 col-md-6",children:a.jsx("div",{className:"card border-danger bg-danger bg-opacity-10 shadow-sm h-100",children:a.jsxs("div",{className:"card-body d-flex align-items-center justify-content-between",children:[a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"resumen-card__icon text-danger",children:a.jsx("i",{className:"bi bi-lock-fill"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-danger small d-block",children:"Bloqueos en fecha"}),a.jsxs("span",{className:"h5 mb-0 text-danger fw-bold",children:[_.length," mesa(s)"]})]})]}),a.jsx("div",{className:"text-end",children:a.jsx("small",{className:"text-danger",children:new Date(C+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short"})})})]})})})]}),je.length===0?a.jsxs("div",{className:"alert alert-info",children:[a.jsx("i",{className:"bi bi-info-circle me-2"}),"No hay mesas ",g!=="TODOS"?`en estado ${g.toLowerCase()}`:"","."]}):a.jsx("div",{className:"row g-3",children:je.map(G=>a.jsx("div",{className:"col-md-6 col-lg-4 col-xl-3",children:a.jsx("div",{className:`card h-100 shadow-sm mesa-card mesa-card--${I(G)}`,children:a.jsxs("div",{className:"card-body p-3 d-flex flex-column h-100",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:"small text-muted",children:"Mesa"}),a.jsxs("h5",{className:"mb-0",children:["#",G.numero]})]}),a.jsx("span",{className:`badge bg-${I(G)}`,children:O(G.numero)?"BLOQUEADA":G.estado.toUpperCase()})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx("span",{className:"mesa-icon",children:a.jsx("i",{className:"bi bi-people"})}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Capacidad"}),a.jsxs("strong",{children:[G.capacidad," personas"]})]})]}),B&&a.jsxs("div",{className:"d-flex align-items-center gap-2 mb-2",children:[a.jsx("span",{className:"mesa-icon mesa-icon--calendar",children:a.jsx("i",{className:"bi bi-calendar3"})}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Fecha"}),a.jsx("strong",{children:new Date(C+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short"})}),E&&a.jsx("div",{className:"text-muted small",children:E})]})]}),B&&(()=>{const re=ge(G.numero),me=E?b(G.numero,E):re.length>0;return re.length>0&&me?a.jsxs("div",{className:"mb-3 border-top pt-2",children:[a.jsxs("div",{className:"alert alert-danger py-2 mb-2 small",children:[a.jsx("i",{className:"bi bi-lock-fill me-2"}),a.jsx("strong",{children:"Mesa Bloqueada"})]}),a.jsx("div",{className:"list-group list-group-flush small",children:re.map((_e,De)=>a.jsx("div",{className:"list-group-item px-0 py-2 border-0 bg-light",children:a.jsxs("div",{className:"d-flex align-items-start justify-content-between",children:[a.jsxs("div",{children:[a.jsx("i",{className:"bi bi-calendar-x text-danger me-1"}),a.jsx("strong",{className:"text-danger",children:_e.hora_inicio&&_e.hora_fin?`${ee(_e.hora_inicio)} - ${ee(_e.hora_fin)}`:"Da completo"}),a.jsxs("div",{className:"text-muted mt-1",style:{fontSize:"0.85em"},children:[a.jsx("i",{className:"bi bi-info-circle me-1"}),_e.motivo]}),_e.fecha_inicio!==_e.fecha_fin&&a.jsxs("div",{className:"text-muted mt-1",style:{fontSize:"0.8em"},children:[a.jsx("i",{className:"bi bi-calendar-range me-1"}),"Hasta ",new Date(_e.fecha_fin+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short"})]})]}),a.jsx("span",{className:"badge bg-danger",children:_e.categoria_display})]})},De))})]}):null})(),B&&a.jsx("div",{className:"mb-3",children:(()=>{const re=ce(G.numero),me=E?re.some(_e=>_e.hora&&_e.hora.startsWith(E)):re.length>0;return re.length>0?a.jsxs("div",{className:"mesa-reservas",children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("span",{className:"mesa-icon mesa-icon--warning",children:a.jsx("i",{className:"bi bi-calendar-event"})}),a.jsxs("div",{children:[a.jsx("small",{className:"text-muted d-block",children:"Reservas"}),a.jsxs("strong",{children:[re.length," reserva(s)"]})]})]}),a.jsx("span",{className:"badge bg-light text-muted border",children:E||"Todo el da"})]}),a.jsx("div",{className:"list-group list-group-flush small mt-2",children:re.map((_e,De)=>a.jsxs("button",{type:"button",className:"list-group-item list-group-item-action px-0 py-1 border-0",onClick:()=>oe(_e),title:"Ver detalle de reserva",children:[a.jsx("i",{className:"bi bi-clock text-muted me-1"}),a.jsx("strong",{children:_e.hora})," - ",_e.personas," pers.",a.jsx("span",{className:`badge ms-1 bg-${_e.estado==="ACTIVA"?"success":_e.estado==="PENDIENTE"?"warning":_e.estado==="COMPLETADA"?"info":"secondary"}`,children:_e.estado}),a.jsx("i",{className:"bi bi-eye ms-2 text-primary small"})]},De))})]}):a.jsxs("div",{className:`alert ${me?"alert-warning":"alert-success"} py-2 mb-0 small`,children:[a.jsx("i",{className:"bi bi-check-circle me-1"}),me?"Reservas fuera de la hora seleccionada":"Sin reservas para esta fecha"]})})()}),j===G.id?a.jsxs("div",{children:[O(G.numero)?a.jsxs("div",{className:"alert alert-danger py-2 mb-2 small",children:[a.jsx("i",{className:"bi bi-lock-fill me-2"}),a.jsx("strong",{children:"Mesa bloqueada."})," No se puede cambiar el estado mientras est activo el bloqueo."]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"mb-2",children:a.jsx("strong",{children:"Cambiar estado a:"})}),a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>V(G.id,"disponible"),disabled:G.estado==="disponible",children:"Disponible"}),a.jsx("button",{className:"btn btn-sm btn-warning",onClick:()=>V(G.id,"reservada"),disabled:G.estado==="reservada",children:"Reservada"}),a.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>V(G.id,"ocupada"),disabled:G.estado==="ocupada",children:"Ocupada"}),a.jsx("button",{className:"btn btn-sm btn-info",onClick:()=>V(G.id,"limpieza"),disabled:G.estado==="limpieza",children:"En Limpieza"})]})]}),a.jsx("div",{className:"d-grid mt-2",children:a.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>y(null),children:"Cancelar"})})]}):a.jsx("div",{className:"d-grid mt-auto",children:a.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>y(G.id),disabled:O(G.numero),children:[a.jsx("i",{className:"bi bi-pencil me-1"}),"Cambiar Estado"]})})]})})},G.id))}),a.jsx("div",{className:"card mt-4",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h6",{className:"card-title",children:"Leyenda de Estados:"}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-3",children:[a.jsx("span",{className:"badge bg-success me-2",children:"DISPONIBLE"}),a.jsx("small",{className:"text-muted",children:"Mesa lista para uso"})]}),a.jsxs("div",{className:"col-md-3",children:[a.jsx("span",{className:"badge bg-warning me-2",children:"RESERVADA"}),a.jsx("small",{className:"text-muted",children:"Mesa con reserva confirmada"})]}),a.jsxs("div",{className:"col-md-3",children:[a.jsx("span",{className:"badge bg-danger me-2",children:"OCUPADA"}),a.jsx("small",{className:"text-muted",children:"Mesa ocupada actualmente"})]}),a.jsxs("div",{className:"col-md-3",children:[a.jsx("span",{className:"badge bg-info me-2",children:"EN LIMPIEZA"}),a.jsx("small",{className:"text-muted",children:"Mesa siendo limpiada"})]})]})]})})]}),a.jsx(no,{eventKey:"bloqueos",title:a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-lock me-2"}),"Bloqueos de Mesas"]}),children:a.jsx(K1,{})})]}),q.reserva&&a.jsx(Vl,{isOpen:q.isOpen,onClose:()=>X({isOpen:!1,reserva:null}),title:null,size:"xl",children:a.jsxs("div",{className:"reserva-detalle-content",children:[a.jsxs("div",{className:"modal-hero-gradient",children:[a.jsx("h3",{className:"mb-0",children:q.reserva.cliente}),a.jsxs("div",{className:"hero-badges",children:[a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-table"}),"Mesa ",q.reserva.mesa]}),a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-calendar3"}),new Date(q.reserva.fecha+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})]}),a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-clock"}),ee(q.reserva.hora)," hrs"]}),a.jsxs("span",{className:"hero-badge",children:[a.jsx("i",{className:"bi bi-people-fill"}),q.reserva.personas," ",q.reserva.personas===1?"persona":"personas"]})]})]}),a.jsxs("div",{className:"timeline-container",children:[a.jsxs("div",{className:`timeline-step ${["ACTIVA","COMPLETADA","CANCELADA"].includes(q.reserva.estado)?"completed":""}`,children:[a.jsx("div",{className:"timeline-step-icon",children:a.jsx("i",{className:"bi bi-plus-circle-fill"})}),a.jsx("span",{className:"timeline-step-label",children:"Creada"}),a.jsx("div",{className:"timeline-connector"})]}),a.jsxs("div",{className:`timeline-step ${["ACTIVA","COMPLETADA"].includes(q.reserva.estado)?"completed":q.reserva.estado==="PENDIENTE"?"current":""}`,children:[a.jsx("div",{className:"timeline-step-icon",children:a.jsx("i",{className:"bi bi-check-circle-fill"})}),a.jsx("span",{className:"timeline-step-label",children:"Confirmada"}),a.jsx("div",{className:"timeline-connector"})]}),a.jsxs("div",{className:`timeline-step ${q.reserva.estado==="ACTIVA"?"current":q.reserva.estado==="COMPLETADA"?"completed":q.reserva.estado==="CANCELADA"?"current":""}`,children:[a.jsx("div",{className:"timeline-step-icon",children:a.jsx("i",{className:`bi ${q.reserva.estado==="COMPLETADA"?"bi-star-fill":q.reserva.estado==="CANCELADA"?"bi-x-circle-fill":"bi-lightning-charge-fill"}`})}),a.jsx("span",{className:"timeline-step-label",children:q.reserva.estado==="CANCELADA"?"Cancelada":q.reserva.estado==="COMPLETADA"?"Completada":"Activa"})]})]}),a.jsx("div",{className:"card compact-card mb-3",children:a.jsxs("div",{className:"card-body",children:[a.jsxs("div",{className:"section-title mb-3",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2 flex-grow-1",children:[a.jsx("span",{className:"icon-circle bg-primary-subtle text-primary",children:a.jsx("i",{className:"bi bi-person-badge-fill"})}),a.jsxs("div",{children:[a.jsx("p",{className:"card-kicker text-uppercase mb-1",children:"Contacto"}),a.jsx("h6",{className:"mb-0",children:"Informacin del Cliente"})]})]}),(q.reserva.cliente_telefono||q.reserva.cliente_email)&&a.jsxs("div",{className:"d-flex gap-2",children:[q.reserva.cliente_telefono&&a.jsxs("a",{href:`tel:${q.reserva.cliente_telefono}`,className:"btn btn-outline-success btn-sm",title:"Llamar",children:[a.jsx("i",{className:"bi bi-telephone-fill"}),a.jsx("span",{className:"d-none d-lg-inline ms-1",children:"Llamar"})]}),q.reserva.cliente_email&&a.jsxs("a",{href:`mailto:${q.reserva.cliente_email}`,className:"btn btn-outline-primary btn-sm",title:"Enviar email",children:[a.jsx("i",{className:"bi bi-envelope-fill"}),a.jsx("span",{className:"d-none d-lg-inline ms-1",children:"Email"})]})]})]}),q.reserva.cliente_telefono&&a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Telfono"}),a.jsxs("span",{className:"info-value text-end",children:[a.jsx("i",{className:"bi bi-telephone me-1"}),q.reserva.cliente_telefono]})]}),q.reserva.cliente_email&&a.jsxs("div",{className:"info-row",children:[a.jsx("span",{className:"info-label",children:"Email"}),a.jsxs("span",{className:"info-value text-end text-break",children:[a.jsx("i",{className:"bi bi-envelope me-1"}),q.reserva.cliente_email]})]}),q.reserva.cliente_rut&&a.jsxs("div",{className:"info-row mb-0",children:[a.jsx("span",{className:"info-label",children:"RUT"}),a.jsx("span",{className:"info-value",children:a.jsx("span",{className:"badge-soft",children:q.reserva.cliente_rut})})]})]})}),q.reserva.notas&&a.jsx("div",{className:"note-card",children:a.jsxs("div",{className:"d-flex align-items-start gap-3",children:[a.jsx("i",{className:"bi bi-chat-left-quote-fill fs-4"}),a.jsxs("div",{children:[a.jsx("p",{className:"mb-1 fw-semibold text-warning-emphasis",children:"Notas y Requerimientos"}),a.jsx("p",{className:"mb-0 fst-italic text-body",children:q.reserva.notas})]})]})}),a.jsx("div",{className:"d-flex justify-content-center align-items-center pt-3 mt-3 border-top reserva-actions",children:a.jsxs("button",{className:"btn btn-outline-secondary",onClick:()=>X({isOpen:!1,reserva:null}),children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cerrar"]})})]})})]})}function J1(){const[s,i]=m.useState([]),[r,c]=m.useState(!0),[d,f]=m.useState(""),[h,x]=m.useState("TODOS"),[g,p]=m.useState(null),[j,y]=m.useState(""),[S,w]=m.useState(1),[C,A]=m.useState(10);m.useEffect(()=>{E()},[]);const E=async()=>{try{c(!0);const B=await N1();i(B),f("")}catch(B){f("Error al cargar usuarios: "+B.message),console.error(B)}finally{c(!1)}},D=async B=>{if(!j){alert("Por favor seleccione un rol");return}if(confirm("Est seguro que desea cambiar el rol de este usuario?"))try{await S1({userId:B,nuevoRol:j}),await E(),p(null),y(""),alert("Rol actualizado correctamente")}catch(J){alert("Error al cambiar rol: "+J.message)}},T=B=>({admin:"bg-danger",cajero:"bg-primary",mesero:"bg-info",cliente:"bg-secondary"})[B]||"bg-secondary",L=B=>({admin:"bi-shield-fill-check",cajero:"bi-cash-coin",mesero:"bi-person-badge",cliente:"bi-person"})[B]||"bi-person",_=h==="TODOS"?s:s.filter(B=>B.rol===h.toLowerCase()),M=Math.ceil(_.length/C),H=m.useMemo(()=>{const B=(S-1)*C,J=B+C;return _.slice(B,J)},[_,S,C]);m.useEffect(()=>{w(1)},[h]);const z=B=>B?new Date(B).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Nunca";return r?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),a.jsx("p",{className:"mt-2",children:"Cargando usuarios..."})]}):a.jsxs(zt,{fluid:!0,children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsx("h2",{className:"mb-0",children:"Gestin de Usuarios"}),a.jsxs(be,{variant:"outline-primary",size:"sm",onClick:E,disabled:r,children:[a.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Actualizar"]})]}),d&&a.jsx(st,{variant:"danger",dismissible:!0,onClose:()=>f(""),children:d}),a.jsxs(Fe,{className:"mb-4",children:[a.jsx(ve,{md:3,children:a.jsx(fe,{className:"border-danger",children:a.jsxs(fe.Body,{className:"text-center",children:[a.jsx("i",{className:"bi bi-shield-fill-check fs-3 text-danger"}),a.jsx("h5",{className:"mt-2",children:s.filter(B=>B.rol==="admin").length}),a.jsx("small",{className:"text-muted",children:"Administradores"})]})})}),a.jsx(ve,{md:3,children:a.jsx(fe,{className:"border-primary",children:a.jsxs(fe.Body,{className:"text-center",children:[a.jsx("i",{className:"bi bi-cash-coin fs-3 text-primary"}),a.jsx("h5",{className:"mt-2",children:s.filter(B=>B.rol==="cajero").length}),a.jsx("small",{className:"text-muted",children:"Cajeros"})]})})}),a.jsx(ve,{md:3,children:a.jsx(fe,{className:"border-info",children:a.jsxs(fe.Body,{className:"text-center",children:[a.jsx("i",{className:"bi bi-person-badge fs-3 text-info"}),a.jsx("h5",{className:"mt-2",children:s.filter(B=>B.rol==="mesero").length}),a.jsx("small",{className:"text-muted",children:"Meseros"})]})})}),a.jsx(ve,{md:3,children:a.jsx(fe,{className:"border-secondary",children:a.jsxs(fe.Body,{className:"text-center",children:[a.jsx("i",{className:"bi bi-person fs-3 text-secondary"}),a.jsx("h5",{className:"mt-2",children:s.filter(B=>B.rol==="cliente").length}),a.jsx("small",{className:"text-muted",children:"Clientes"})]})})})]}),a.jsxs(Fe,{className:"mb-4 align-items-center",children:[a.jsx(ve,{md:8,children:a.jsx(Pc,{children:["TODOS","ADMIN","CAJERO","MESERO","CLIENTE"].map(B=>a.jsx(be,{variant:h===B?"primary":"outline-primary",onClick:()=>x(B),children:B},B))})}),a.jsx(ve,{md:4,children:a.jsxs("div",{className:"d-flex align-items-center justify-content-end",children:[a.jsx(F.Label,{htmlFor:"itemsPerPage",className:"me-2 small text-nowrap mb-0",children:"Items por pgina:"}),a.jsxs(F.Select,{id:"itemsPerPage",size:"sm",style:{width:"80px"},value:C,onChange:B=>A(Number(B.target.value)),children:[a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"10",children:"10"}),a.jsx("option",{value:"25",children:"25"}),a.jsx("option",{value:"50",children:"50"}),a.jsx("option",{value:"100",children:"100"})]})]})})]}),_.length===0?a.jsxs(st,{variant:"info",children:[a.jsx("i",{className:"bi bi-info-circle me-2"}),"No hay usuarios ",h!=="TODOS"?`con rol ${h.toLowerCase()}`:"","."]}):a.jsx(fe,{className:"shadow-sm",children:a.jsxs(fe.Body,{children:[a.jsx("div",{className:"table-responsive",children:a.jsxs(vs,{hover:!0,children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"ID"}),a.jsx("th",{children:"Usuario"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Nombre Completo"}),a.jsx("th",{children:"Rol"}),a.jsx("th",{children:"Fecha Registro"}),a.jsx("th",{children:"ltimo Login"}),a.jsx("th",{children:"Acciones"})]})}),a.jsx("tbody",{children:H.map(B=>a.jsxs("tr",{children:[a.jsx("td",{children:B.id}),a.jsxs("td",{children:[a.jsx("i",{className:`bi ${L(B.rol)} me-2`}),a.jsx("strong",{children:B.username})]}),a.jsx("td",{children:B.email}),a.jsx("td",{children:B.nombre_completo||a.jsx("em",{className:"text-muted",children:"-"})}),a.jsx("td",{children:a.jsx(Le,{bg:"",className:T(B.rol),children:B.rol_display})}),a.jsx("td",{children:a.jsx("small",{className:"text-muted",children:z(B.fecha_registro)})}),a.jsx("td",{children:a.jsx("small",{className:"text-muted",children:z(B.last_login)})}),a.jsx("td",{children:g===B.id?a.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[a.jsxs(F.Select,{size:"sm",value:j,onChange:J=>y(J.target.value),style:{width:"120px"},children:[a.jsx("option",{value:"",children:"Seleccionar..."}),a.jsx("option",{value:"admin",children:"Administrador"}),a.jsx("option",{value:"cajero",children:"Cajero"}),a.jsx("option",{value:"mesero",children:"Mesero"}),a.jsx("option",{value:"cliente",children:"Cliente"})]}),a.jsx(be,{size:"sm",variant:"success",onClick:()=>D(B.id),children:a.jsx("i",{className:"bi bi-check-lg"})}),a.jsx(be,{size:"sm",variant:"secondary",onClick:()=>{p(null),y("")},children:a.jsx("i",{className:"bi bi-x-lg"})})]}):a.jsxs(be,{size:"sm",variant:"outline-primary",onClick:()=>{p(B.id),y(B.rol)},children:[a.jsx("i",{className:"bi bi-pencil me-1"}),"Cambiar Rol"]})})]},B.id))})]})}),M>1&&a.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 pt-3 border-top",children:[a.jsxs("div",{className:"text-muted small",children:["Mostrando ",(S-1)*C+1," a ",Math.min(S*C,_.length)," de ",_.length," usuarios"]}),a.jsx(Av,{size:"sm",className:"mb-0",children:Array.from({length:Math.min(5,M)},(B,J)=>{let q;return M<=5||S<=3?q=J+1:S>=M-2?q=M-4+J:q=S-2+J,a.jsx(Av.Item,{active:S===q,onClick:()=>w(q),children:q},q)})})]})]})}),a.jsx(fe,{className:"mt-4",children:a.jsxs(fe.Body,{children:[a.jsx(fe.Title,{as:"h6",children:"Informacin de Roles:"}),a.jsxs(Fe,{children:[a.jsxs(ve,{md:3,children:[a.jsx(Le,{bg:"danger",className:"me-2",children:"ADMINISTRADOR"}),a.jsx("small",{className:"text-muted d-block",children:"Acceso completo al sistema"})]}),a.jsxs(ve,{md:3,children:[a.jsx(Le,{bg:"primary",className:"me-2",children:"CAJERO"}),a.jsx("small",{className:"text-muted d-block",children:"Gestiona reservas y visualiza estados"})]}),a.jsxs(ve,{md:3,children:[a.jsx(Le,{bg:"info",className:"me-2",children:"MESERO"}),a.jsx("small",{className:"text-muted d-block",children:"Consulta mesas y reservas"})]}),a.jsxs(ve,{md:3,children:[a.jsx(Le,{bg:"secondary",className:"me-2",children:"CLIENTE"}),a.jsx("small",{className:"text-muted d-block",children:"Crea y ve sus propias reservas"})]})]})]})})]})}function I1({isOpen:s,onClose:i,onConfirm:r,userData:c,reservasCount:d=0}){return c?a.jsxs(Vl,{isOpen:s,onClose:i,title:"",size:"md",closeOnBackdrop:!1,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"rounded-circle bg-info d-inline-flex align-items-center justify-content-center",style:{width:"80px",height:"80px"},children:a.jsx("i",{className:"bi bi-person-check-fill text-white",style:{fontSize:"48px"}})})}),a.jsx("h3",{className:"fw-bold text-dark mb-2",children:"Ya tienes una cuenta!"}),a.jsx("p",{className:"text-muted mb-4",children:"Encontramos una cuenta registrada con este correo electrnico"})]}),a.jsxs("div",{className:"border rounded p-3 mb-4",children:[a.jsxs("h6",{className:"fw-bold mb-3",children:[a.jsx("i",{className:"bi bi-person-circle me-2 text-primary"}),"Tu cuenta"]}),a.jsxs("div",{className:"row g-3",children:[a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-person me-2"}),"Nombre:"]}),a.jsx("strong",{children:c.nombre_completo})]})}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-envelope me-2"}),"Email:"]}),a.jsx("strong",{children:c.email})]})}),a.jsx("div",{className:"col-12",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{className:"text-muted",children:[a.jsx("i",{className:"bi bi-calendar-check me-2"}),"Reservas actuales:"]}),a.jsxs("strong",{children:[d," ",d===1?"reserva":"reservas"]})]})})]})]}),a.jsx("div",{className:"alert alert-warning mb-4",children:a.jsxs("div",{className:"d-flex align-items-start",children:[a.jsx("i",{className:"bi bi-question-circle me-2 mt-1"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Deseas agregar esta nueva reserva a tu perfil?"}),a.jsx("p",{className:"mb-0 mt-1 small",children:c.es_invitado?"La nueva reserva se agregar a tus reservas existentes.":"Podrs ver todas tus reservas en tu panel de control."})]})]})}),a.jsxs("div",{className:"d-flex gap-2 justify-content-end",children:[a.jsxs("button",{type:"button",className:"btn btn-outline-secondary",onClick:i,children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancelar"]}),a.jsxs("button",{type:"button",className:"btn btn-primary",onClick:r,children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),"S, confirmar"]})]})]}):null}function P1({onReservaExitosa:s}){const i=Zs(),[r,c]=m.useState([]),[d,f]=m.useState(!1),[h,x]=m.useState(!1),[g,p]=m.useState([]),[j,y]=m.useState([]),[S,w]=m.useState([]),[C,A]=m.useState(!1),[E,D]=m.useState(!1),[T,L]=m.useState(!1),[_,M]=m.useState(!1),[H,z]=m.useState(!1),[B,J]=m.useState(null),[q,X]=m.useState(null),[P,te]=m.useState(!1),[de,pe]=m.useState(!1),[V,ne]=m.useState(null),[ce,ge]=m.useState(null),U={fecha_reserva:se=>{if(!se)return"La fecha es requerida";if(!/^\d{4}-\d{2}-\d{2}$/.test(se))return"Formato de fecha invlido";const we=new Date(se+"T00:00:00");if(isNaN(we.getTime()))return"La fecha ingresada no es vlida";const yt=we.getFullYear(),Re=new Date().getFullYear();if(yt<Re)return"No se pueden crear reservas para aos pasados";if(yt>Re+2)return`El ao no puede ser mayor a ${Re+2}`;const Jt=new Date().toISOString().split("T")[0];return se<Jt?"No se pueden crear reservas para fechas pasadas":null},hora_inicio:se=>se?j.includes(se)?"Esta hora ya no est disponible":null:"La hora es requerida",num_personas:se=>!se||se<1?"Debe indicar al menos 1 persona":null,mesa:se=>{if(!se)return"Debe seleccionar una mesa";const xe=Zb(se,r);return xe.valido?null:xe.mensaje},nombre:se=>se?.trim()?null:"El nombre es requerido",apellido:se=>se?.trim()?null:"El apellido es requerido",email:se=>{const xe=df(se);return xe.valido?null:xe.mensaje},rut:se=>{const xe=or(se);return xe.valido?null:xe.mensaje},telefono:se=>{const xe=ur(se);return xe.valido?null:xe.mensaje},password:(se,xe)=>{if(!_)return null;if(!se||se.trim()==="")return"La contrasea es requerida para crear cuenta";const we=lo(se);return we.valido?null:we.mensaje},password_confirm:(se,xe)=>{if(!_)return null;if(!se||se.trim()==="")return"Debe confirmar la contrasea";const we=io(xe.password,se);return we.valido?null:we.mensaje}},{values:b,touched:O,isSubmitting:I,handleChange:ee,handleBlur:oe,handleSubmit:je,setFieldValue:G,getFieldError:re}=Jb({fecha_reserva:"",hora_inicio:"",num_personas:"",mesa:"",notas:"",nombre:"",apellido:"",telefono:"",rut:"",email:"",password:"",password_confirm:""},U,300),me=se=>{const{name:xe,value:we}=se.target;let yt=we;if(xe==="rut"&&we&&(yt=Jf(we)),xe==="telefono"&&we&&(yt=If(we)),xe==="fecha_reserva"&&we&&/^\d{4}-\d{2}-\d{2}$/.test(we)){const Oe=parseInt(we.split("-")[0]),at=new Date().getFullYear();if(Oe<at||Oe>at+2){i.warning(`El ao debe estar entre ${at} y ${at+2}`);return}}const Re={target:{name:xe,value:yt,type:se.target.type}};ee(Re),xe==="mesa"&&we&&A(!0)};m.useEffect(()=>{b.fecha_reserva&&b.num_personas?_e():(p([]),y([]),w([]))},[b.fecha_reserva,b.num_personas]),m.useEffect(()=>{b.fecha_reserva&&b.hora_inicio&&b.num_personas&&De()},[b.fecha_reserva,b.hora_inicio,b.num_personas]);const _e=async()=>{try{x(!0);const se=await so({fecha:b.fecha_reserva,personas:b.num_personas});console.log(" DEBUG - Horas disponibles:",se),console.log(" Horas disponibles:",se.horas_disponibles?.length||0,"horas"),console.log(" Horas NO disponibles:",se.horas_no_disponibles?.length||0,"horas",se.horas_no_disponibles),p(se.horas_disponibles||[]),y(se.horas_no_disponibles||[]),w(se.horas||[]),b.hora_inicio&&se.horas_no_disponibles?.includes(b.hora_inicio)&&(G("hora_inicio",""),i.warning("La hora seleccionada ya no est disponible. Por favor seleccione otra."))}catch(se){console.error("Error al cargar horas disponibles:",se),p([]),y([])}finally{x(!1)}},De=async()=>{try{f(!0);const xe=(await tn({fecha:b.fecha_reserva,hora:b.hora_inicio})).filter(we=>we.capacidad>=b.num_personas);c(xe),b.mesa&&!xe.find(we=>we.id===parseInt(b.mesa))&&(G("mesa",""),i.warning("La mesa seleccionada ya no est disponible para esta fecha y hora. Por favor seleccione otra."))}catch(se){console.error("Error al cargar mesas:",se)}finally{f(!1)}},ft=(se,xe)=>{const we=se?.reserva||{};return{id:we.id??se?.reserva_id??null,mesa_numero:we.mesa_numero??we.mesa??se?.mesa_numero??se?.mesa??xe.mesa,mesa_capacidad:we.mesa_capacidad??xe.num_personas,fecha_reserva:we.fecha_reserva??se?.fecha_reserva??xe.fecha_reserva,hora_inicio:we.hora_inicio??se?.hora_inicio??xe.hora_inicio,hora_fin:we.hora_fin??se?.hora_fin??null,num_personas:we.num_personas??se?.num_personas??xe.num_personas,reservas_count:se?.reservas_count??1,is_additional_reservation:se?.is_additional_reservation??!1}},pt=je(async se=>{console.log(" INICIO handleSubmit - values:",se);try{if(!(await tn({fecha:se.fecha_reserva,hora:se.hora_inicio})).filter(at=>at.capacidad>=se.num_personas).find(at=>at.id===parseInt(se.mesa))){i.error("Lo sentimos, la mesa seleccionada ya no est disponible. Por favor seleccione otra mesa."),await De();return}const Re=await Dv(se);if(console.log(" API Response:",Re),Re.requires_confirmation&&Re.user_exists){console.log(" Usuario existente detectado - mostrando modal de confirmacin"),ne({user_info:Re.user_info,reservas_count:Re.reservas_count}),ge(se),pe(!0);return}const Jt=ft(Re,se),Oe={nombre:se.nombre,apellido:se.apellido,email:se.email,telefono:se.telefono};console.log(" Datos preparados para modal:",{datosReserva:Jt,datosCliente:Oe,esInvitado:Re.es_invitado}),J(Jt),X(Oe),te(Re.es_invitado),z(!0),console.log(" Modal state set to true"),Re.is_additional_reservation?i.success(`Reserva creada exitosamente! Ahora tienes ${Re.reservas_count} reservas.`):i.success("Reserva creada exitosamente!"),window._reservaResult=Re}catch(xe){console.error(" ERROR en handleSubmit:",xe);const we=Fl(xe);throw i.error(we),xe}}),xt=()=>{z(!1),setTimeout(()=>{if(s&&window._reservaResult)try{s(window._reservaResult),window._reservaResult=null}catch(se){console.error("Error al redirigir:",se)}},300)},Ge=async()=>{console.log(" Usuario confirm agregar reserva a perfil existente"),pe(!1);try{const se={...ce,confirm_existing:!0},xe=await Dv(se);console.log(" Reserva creada con usuario existente:",xe);const we=ft(xe,ce),yt={nombre:ce.nombre,apellido:ce.apellido,email:ce.email,telefono:ce.telefono};J(we),X(yt),te(xe.es_invitado),z(!0),xe.is_additional_reservation?i.success(`Reserva agregada exitosamente! Ahora tienes ${xe.reservas_count} reservas.`):i.success("Reserva creada exitosamente!"),window._reservaResult=xe,ge(null),ne(null)}catch(se){console.error(" ERROR al confirmar usuario existente:",se);const xe=Fl(se);i.error(xe)}},Et=()=>{console.log(" Usuario cancel agregar reserva a perfil existente"),pe(!1),ge(null),ne(null),i.info("Reserva cancelada")},Je=()=>new Date().toISOString().split("T")[0],Ra=()=>{const se=new Date;return se.setFullYear(se.getFullYear()+2),se.toISOString().split("T")[0]},vt=()=>{const se=[];for(let xe=12;xe<=21;xe++)for(let we=0;we<60;we+=30){const yt=String(xe).padStart(2,"0"),Re=String(we).padStart(2,"0");se.push(`${yt}:${Re}`)}return se};return a.jsxs("div",{className:"container py-4",children:[a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-8 col-lg-6",children:a.jsx("div",{className:"card shadow",children:a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h2",{className:"fw-bold text-primary",children:"Hacer tu Reserva"}),a.jsx("p",{className:"text-muted",children:"Completa los datos para reservar tu mesa"})]}),a.jsxs("form",{onSubmit:pt,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h5",{className:"mb-3",children:"1. Detalles de tu Reserva"}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"fecha_reserva",className:"form-label",children:["Fecha ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"date",className:`form-control ${re("fecha_reserva")?"is-invalid":O.fecha_reserva?"is-valid":""}`,id:"fecha_reserva",name:"fecha_reserva",value:b.fecha_reserva,onChange:me,onBlur:oe,min:Je(),max:Ra(),required:!0}),re("fecha_reserva")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("fecha_reserva")})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"num_personas",className:"form-label",children:["Nmero de Personas ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"number",className:`form-control ${re("num_personas")?"is-invalid":O.num_personas?"is-valid":""}`,id:"num_personas",name:"num_personas",value:b.num_personas,onChange:me,onBlur:oe,min:"1",max:"20",required:!0}),re("num_personas")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("num_personas")})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"hora_inicio",className:"form-label",children:["Hora de la Reserva ",a.jsx("span",{className:"text-danger",children:"*"})]}),h?a.jsxs("div",{className:"text-center py-2",children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Consultando disponibilidad..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{className:`form-select ${re("hora_inicio")?"is-invalid":O.hora_inicio?"is-valid":""}`,id:"hora_inicio",name:"hora_inicio",value:b.hora_inicio,onChange:me,onBlur:oe,required:!0,disabled:!b.fecha_reserva||!b.num_personas||h,children:[a.jsx("option",{value:"",children:!b.fecha_reserva||!b.num_personas?"Primero seleccione fecha y nmero de personas":"Seleccione una hora"}),S.length>0?S.map(({hora:se,mesas_disponibles:xe})=>{const we=xe>0;return a.jsxs("option",{value:se,disabled:!we,children:[se," hrs - ",we?`${xe} ${xe===1?"mesa disponible":"mesas disponibles"}`:"No disponible"]},se)}):vt().map(se=>{const xe=!j.includes(se);return a.jsxs("option",{value:se,disabled:!xe,children:[se," hrs ",xe?"":"(No disponible)"]},se)})]}),re("hora_inicio")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("hora_inicio")})]}),a.jsxs("small",{className:"text-info d-block mt-1",children:[a.jsx("i",{className:"bi bi-info-circle me-1"}),"La reserva tendr una duracin de 2 horas"]}),b.fecha_reserva&&g.length===0&&j.length>0&&!h&&a.jsxs("small",{className:"text-warning d-block mt-1",children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-1"}),"No hay horarios disponibles para esta fecha. Intente con otra fecha."]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"mesa",className:"form-label",children:["Seleccionar Mesa ",a.jsx("span",{className:"text-danger",children:"*"})]}),d?a.jsxs("div",{className:"text-center py-2",children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Cargando mesas disponibles..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{className:`form-select ${re("mesa")?"is-invalid":O.mesa?"is-valid":""}`,id:"mesa",name:"mesa",value:b.mesa,onChange:me,onBlur:oe,required:!0,disabled:!b.fecha_reserva,children:[a.jsx("option",{value:"",children:"Seleccione una mesa"}),r.map(se=>a.jsxs("option",{value:se.id,children:["Mesa ",se.numero," - Capacidad: ",se.capacidad," personas"]},se.id))]}),re("mesa")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("mesa")})]}),!b.fecha_reserva||!b.hora_inicio||!b.num_personas?a.jsx("small",{className:"text-muted d-block mt-1",children:"Seleccione fecha, hora y nmero de personas para ver mesas disponibles"}):r.length===0&&!d?a.jsx("small",{className:"text-warning d-block mt-1",children:"No hay mesas disponibles para la capacidad seleccionada"}):null]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"notas",className:"form-label",children:"Notas Adicionales (Opcional)"}),a.jsx("textarea",{className:"form-control",id:"notas",name:"notas",value:b.notas,onChange:me,rows:"2",placeholder:"Ej: Preferencia de ubicacin, celebracin especial..."})]})]}),C&&a.jsxs("div",{className:"mb-4 border-top pt-4",children:[a.jsx("h5",{className:"mb-3",children:"2. Tus Datos"}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"nombre",className:"form-label",children:["Nombre ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:`form-control ${re("nombre")?"is-invalid":O.nombre?"is-valid":""}`,id:"nombre",name:"nombre",value:b.nombre,onChange:me,onBlur:oe,required:!0}),re("nombre")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("nombre")})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"apellido",className:"form-label",children:["Apellido ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:`form-control ${re("apellido")?"is-invalid":O.apellido?"is-valid":""}`,id:"apellido",name:"apellido",value:b.apellido,onChange:me,onBlur:oe,required:!0}),re("apellido")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("apellido")})]})]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"telefono",className:"form-label",children:["Telfono ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:`form-control ${re("telefono")?"is-invalid":O.telefono?"is-valid":""}`,id:"telefono",name:"telefono",value:b.telefono,onChange:me,onBlur:oe,placeholder:"+56 9 1234 5678",required:!0}),re("telefono")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("telefono")})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"rut",className:"form-label",children:["RUT ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"text",className:`form-control ${re("rut")?"is-invalid":O.rut?"is-valid":""}`,id:"rut",name:"rut",value:b.rut,onChange:me,onBlur:oe,placeholder:"12.345.678-9",required:!0}),re("rut")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("rut")})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"email",className:"form-label",children:["Email ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsx("input",{type:"email",className:`form-control ${re("email")?"is-invalid":O.email?"is-valid":""}`,id:"email",name:"email",value:b.email,onChange:me,onBlur:oe,required:!0}),re("email")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("email")}),a.jsx("small",{className:"text-muted",children:"Usars tu email para gestionar tu reserva"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"crearCuenta",checked:_,onChange:se=>M(se.target.checked)}),a.jsxs("label",{className:"form-check-label",htmlFor:"crearCuenta",children:[a.jsx("strong",{children:"Quiero crear una cuenta"})," para gestionar mis reservas ms fcilmente"]})]}),a.jsx("small",{className:"text-muted d-block mt-1",children:_?" Podrs ver todas tus reservas, modificarlas y recibir recordatorios":"Sin cuenta: recibirs un link por email para gestionar esta reserva"})]}),_&&a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"password",className:"form-label",children:["Contrasea ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{type:E?"text":"password",className:`form-control ${re("password")?"is-invalid":O.password?"is-valid":""}`,id:"password",name:"password",value:b.password,onChange:me,onBlur:oe,required:_,style:{paddingRight:"40px"}}),a.jsx("span",{onClick:()=>D(!E),style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer",color:"#6c757d"},role:"button",tabIndex:"-1",children:a.jsx("i",{className:`bi bi-eye${E?"-slash":""}`})})]}),re("password")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("password")}),a.jsx("small",{className:"text-muted",children:"Mnimo 8 caracteres"})]}),a.jsxs("div",{className:"col-md-6 mb-3",children:[a.jsxs("label",{htmlFor:"password_confirm",className:"form-label",children:["Confirmar Contrasea ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{type:T?"text":"password",className:`form-control ${re("password_confirm")?"is-invalid":O.password_confirm?"is-valid":""}`,id:"password_confirm",name:"password_confirm",value:b.password_confirm,onChange:me,onBlur:oe,required:_,style:{paddingRight:"40px"}}),a.jsx("span",{onClick:()=>L(!T),style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer",color:"#6c757d"},role:"button",tabIndex:"-1",children:a.jsx("i",{className:`bi bi-eye${T?"-slash":""}`})})]}),re("password_confirm")&&a.jsx("div",{className:"invalid-feedback d-block",children:re("password_confirm")})]})]})]}),a.jsx("div",{className:"d-grid",children:a.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:I||!C,children:I?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Procesando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),"Confirmar Reserva"]})})})]})]})})})}),B&&a.jsx(Ib,{isOpen:H,onClose:xt,reservaData:B,clienteData:q,esInvitado:P,reservasCount:B.reservas_count||1,isAdditionalReservation:B.is_additional_reservation||!1}),V&&a.jsx(I1,{isOpen:de,onClose:Et,onConfirm:Ge,userData:V.user_info,reservasCount:V.reservas_count})]})}function W1(){const{token:s}=Kv(),i=co(),r=Zs(),[c,d]=m.useState(!0),[f,h]=m.useState(null),[x,g]=m.useState(null),[p,j]=m.useState(!1),[y,S]=m.useState(null),[w,C]=m.useState(!1),[A,E]=m.useState(!1);m.useEffect(()=>{D()},[s]);const D=async()=>{try{d(!0),S(null);const _=await T1(s);h(_.reserva),g(_.cliente),j(_.puede_activar_cuenta)}catch(_){console.error("Error al cargar reserva:",_),S(_.message||"Error al cargar la reserva")}finally{d(!1)}},T=async()=>{try{C(!0),await _1(s),r.success("Reserva cancelada exitosamente"),setTimeout(()=>{i("/reserva")},2e3)}catch(_){console.error("Error al cancelar reserva:",_),r.error(_.message||"Error al cancelar la reserva")}finally{C(!1),E(!1)}},L=()=>{i(`/activar-cuenta/${s}`)};return c?a.jsx("div",{className:"container py-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsxs("div",{className:"col-md-6 text-center",children:[a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),a.jsx("p",{className:"mt-3",children:"Cargando informacin de tu reserva..."})]})})}):y?a.jsx("div",{className:"container py-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-8",children:a.jsx("div",{className:"card border-danger",children:a.jsxs("div",{className:"card-body text-center py-5",children:[a.jsx("i",{className:"bi bi-exclamation-triangle text-danger",style:{fontSize:"3rem"}}),a.jsx("h3",{className:"mt-3 text-danger",children:"Error al cargar la reserva"}),a.jsx("p",{className:"text-muted",children:y}),y.includes("expirado")&&a.jsx("small",{className:"text-muted d-block mt-2",children:"Los links de acceso son vlidos por 48 horas. Si necesitas ayuda, contacta al restaurante."}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{className:"btn btn-primary me-2",onClick:()=>i("/reserva"),children:[a.jsx("i",{className:"bi bi-calendar-plus me-2"}),"Hacer nueva reserva"]}),a.jsxs("button",{className:"btn btn-outline-secondary",onClick:()=>i("/"),children:[a.jsx("i",{className:"bi bi-house me-2"}),"Ir al inicio"]})]})]})})})})}):a.jsx("div",{className:"container py-4",children:a.jsx("div",{className:"row justify-content-center",children:a.jsxs("div",{className:"col-md-8 col-lg-6",children:[p&&a.jsx("div",{className:"alert alert-info mb-4",role:"alert",children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("i",{className:"bi bi-star-fill me-3",style:{fontSize:"2rem"}}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"alert-heading mb-1",children:"Crea tu cuenta!"}),a.jsx("p",{className:"mb-2",children:"Gestiona todas tus reservas fcilmente"}),a.jsxs("button",{className:"btn btn-sm btn-primary",onClick:L,children:[a.jsx("i",{className:"bi bi-person-plus me-2"}),"Activar mi cuenta"]})]})]})}),a.jsx("div",{className:"card shadow",children:a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("i",{className:"bi bi-check-circle-fill text-success",style:{fontSize:"3rem"}}),a.jsx("h2",{className:"fw-bold text-success mt-2",children:"Reserva Confirmada"}),a.jsx("p",{className:"text-muted",children:"Detalles de tu reserva"})]}),a.jsxs("div",{className:"border-top pt-4",children:[a.jsx("h5",{className:"mb-3",children:" Informacin de la Reserva"}),a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Mesa:"})}),a.jsx("div",{className:"col-6 text-end",children:f.mesa_numero})]}),a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Fecha:"})}),a.jsx("div",{className:"col-6 text-end",children:new Date(f.fecha_reserva).toLocaleDateString("es-CL")})]}),a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Hora:"})}),a.jsxs("div",{className:"col-6 text-end",children:[f.hora_inicio," - ",f.hora_fin]})]}),a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Personas:"})}),a.jsx("div",{className:"col-6 text-end",children:f.num_personas})]}),a.jsxs("div",{className:"row mb-3",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Estado:"})}),a.jsx("div",{className:"col-6 text-end",children:a.jsx("span",{className:`badge bg-${f.estado==="activa"?"success":"warning"}`,children:f.estado})})]}),f.notas&&a.jsx("div",{className:"row mb-3",children:a.jsxs("div",{className:"col-12",children:[a.jsx("strong",{children:"Notas:"}),a.jsx("p",{className:"text-muted mb-0 mt-1",children:f.notas})]})})]}),a.jsxs("div",{className:"border-top pt-4 mt-4",children:[a.jsx("h5",{className:"mb-3",children:" Datos del Cliente"}),a.jsxs("div",{className:"row mb-2",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Nombre:"})}),a.jsx("div",{className:"col-6 text-end",children:x.nombre_completo})]}),a.jsxs("div",{className:"row mb-2",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Email:"})}),a.jsx("div",{className:"col-6 text-end",children:x.email})]}),a.jsxs("div",{className:"row mb-2",children:[a.jsx("div",{className:"col-6",children:a.jsx("strong",{children:"Telfono:"})}),a.jsx("div",{className:"col-6 text-end",children:x.telefono})]})]}),a.jsxs("div",{className:"d-grid gap-2 mt-4",children:[A?a.jsxs("div",{className:"alert alert-warning",children:[a.jsx("p",{className:"mb-2",children:"Ests seguro que deseas cancelar esta reserva?"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("button",{className:"btn btn-danger flex-grow-1",onClick:T,disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Cancelando..."]}):"S, cancelar"}),a.jsx("button",{className:"btn btn-secondary flex-grow-1",onClick:()=>E(!1),disabled:w,children:"No, mantener"})]})]}):a.jsxs("button",{className:"btn btn-outline-danger",onClick:()=>E(!0),disabled:f.estado==="cancelada",children:[a.jsx("i",{className:"bi bi-x-circle me-2"}),"Cancelar Reserva"]}),a.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>i("/reserva"),children:[a.jsx("i",{className:"bi bi-calendar-plus me-2"}),"Hacer otra reserva"]})]})]})})]})})})}function ew(){const{token:s}=Kv(),i=co(),r=Zs(),{login:c}=Sr(),[d,f]=m.useState(!0),[h,x]=m.useState(!1),[g,p]=m.useState(!1),[j,y]=m.useState(""),[S,w]=m.useState(""),[C,A]=m.useState(null),[E,D]=m.useState({password:"",password_confirm:""}),[T,L]=m.useState({}),[_,M]=m.useState(!1),[H,z]=m.useState(!1);m.useEffect(()=>{B()},[s]);const B=async()=>{try{f(!0);const P=await w1(s);if(!P.valido){A("Token invlido o expirado"),p(!1);return}if(!P.es_invitado||P.token_usado){A("Esta cuenta ya ha sido activada"),p(!1);return}p(!0),y(P.email),w(P.nombre_completo)}catch(P){console.error("Error al verificar token:",P),A(P.message||"Error al verificar el token"),p(!1)}finally{f(!1)}},J=P=>{const{name:te,value:de}=P.target;D(pe=>({...pe,[te]:de})),T[te]&&L(pe=>({...pe,[te]:null}))},q=()=>{const P={},te=lo(E.password);te.valido||(P.password=te.mensaje);const de=io(E.password,E.password_confirm);return de.valido||(P.password_confirm=de.mensaje),L(P),Object.keys(P).length===0},X=async P=>{if(P.preventDefault(),!!q())try{x(!0);const te=await A1({token:s,password:E.password,password_confirm:E.password_confirm});r.success("Cuenta activada exitosamente! Bienvenido "),te.token&&(localStorage.setItem("token",te.token),localStorage.setItem("user",JSON.stringify({id:te.user_id,username:te.username,email:te.email,rol:te.rol,rol_display:te.rol_display,nombre_completo:te.nombre_completo})),setTimeout(()=>{window.location.href="/dashboard"},1e3))}catch(te){console.error("Error al activar cuenta:",te),r.error(te.message||"Error al activar la cuenta")}finally{x(!1)}};return d?a.jsx("div",{className:"container py-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsxs("div",{className:"col-md-6 text-center",children:[a.jsx("div",{className:"spinner-border text-primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Verificando..."})}),a.jsx("p",{className:"mt-3",children:"Verificando tu link de activacin..."})]})})}):C||!g?a.jsx("div",{className:"container py-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-8",children:a.jsx("div",{className:"card border-danger",children:a.jsxs("div",{className:"card-body text-center py-5",children:[a.jsx("i",{className:"bi bi-exclamation-triangle text-danger",style:{fontSize:"3rem"}}),a.jsx("h3",{className:"mt-3 text-danger",children:"No se puede activar la cuenta"}),a.jsx("p",{className:"text-muted",children:C}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{className:"btn btn-primary me-2",onClick:()=>i("/login"),children:[a.jsx("i",{className:"bi bi-box-arrow-in-right me-2"}),"Ir al Login"]}),a.jsxs("button",{className:"btn btn-outline-secondary",onClick:()=>i("/"),children:[a.jsx("i",{className:"bi bi-house me-2"}),"Ir al inicio"]})]})]})})})})}):a.jsx("div",{className:"container py-4",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-6 col-lg-5",children:a.jsx("div",{className:"card shadow",children:a.jsxs("div",{className:"card-body p-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("i",{className:"bi bi-person-check-fill text-primary",style:{fontSize:"3rem"}}),a.jsx("h2",{className:"fw-bold text-primary mt-2",children:"Activar tu Cuenta"}),a.jsx("p",{className:"text-muted",children:"ltimo paso! Crea tu contrasea"})]}),a.jsxs("div",{className:"alert alert-info mb-4",children:[a.jsxs("strong",{children:["Hola, ",S,"!"]}),a.jsxs("p",{className:"mb-0 mt-2",children:["Ests a punto de activar tu cuenta para ",a.jsx("strong",{children:j})]})]}),a.jsxs("form",{onSubmit:X,children:[a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"password",className:"form-label",children:["Contrasea ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{type:_?"text":"password",className:`form-control ${T.password?"is-invalid":""}`,id:"password",name:"password",value:E.password,onChange:J,required:!0,style:{paddingRight:"40px"}}),a.jsx("span",{onClick:()=>M(!_),style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer",color:"#6c757d"},role:"button",tabIndex:"-1",children:a.jsx("i",{className:`bi bi-eye${_?"-slash":""}`})})]}),T.password&&a.jsx("div",{className:"invalid-feedback d-block",children:T.password}),a.jsx("small",{className:"text-muted",children:"Mnimo 8 caracteres, incluye mayscula, minscula, nmero y carcter especial"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{htmlFor:"password_confirm",className:"form-label",children:["Confirmar Contrasea ",a.jsx("span",{className:"text-danger",children:"*"})]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{type:H?"text":"password",className:`form-control ${T.password_confirm?"is-invalid":""}`,id:"password_confirm",name:"password_confirm",value:E.password_confirm,onChange:J,required:!0,style:{paddingRight:"40px"}}),a.jsx("span",{onClick:()=>z(!H),style:{position:"absolute",right:"10px",top:"10px",cursor:"pointer",color:"#6c757d"},role:"button",tabIndex:"-1",children:a.jsx("i",{className:`bi bi-eye${H?"-slash":""}`})})]}),T.password_confirm&&a.jsx("div",{className:"invalid-feedback d-block",children:T.password_confirm})]}),a.jsxs("div",{className:"alert alert-success",children:[a.jsx("strong",{children:"Con tu cuenta podrs:"}),a.jsxs("ul",{className:"mb-0 mt-2",children:[a.jsx("li",{children:"Ver todas tus reservas en un solo lugar"}),a.jsx("li",{children:"Modificar o cancelar reservas fcilmente"}),a.jsx("li",{children:"Crear nuevas reservas ms rpido"}),a.jsx("li",{children:"Recibir recordatorios de tus reservas"})]})]}),a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner-border spinner-border-sm me-2"}),"Activando cuenta..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),"Activar mi cuenta"]})}),a.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>i("/"),disabled:h,children:"Cancelar"})]})]})]})})})})})}const Kt="https://your-backend-app.up.railway.app/api";function tw(){return localStorage.getItem("token")}function Zt(){const s=tw();return{"Content-Type":"application/json",...s&&{Authorization:`Token ${s}`}}}async function Oa(s){if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.detail||i.error||`Error ${s.status}`)}return s.json()}async function Pf(s=!0){const r=await fetch(`${Kt}/menu/categorias/${s?"?activa=true":""}`,{headers:Zt()});return Oa(r)}async function aw(s){const i=await fetch(`${Kt}/menu/categorias/`,{method:"POST",headers:Zt(),body:JSON.stringify(s)});return Oa(i)}async function nw(s,i){const r=await fetch(`${Kt}/menu/categorias/${s}/`,{method:"PATCH",headers:Zt(),body:JSON.stringify(i)});return Oa(r)}async function sw(s){const i=await fetch(`${Kt}/menu/categorias/${s}/`,{method:"DELETE",headers:Zt()});if(!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.detail||"Error al eliminar categora")}}async function Wf(s={}){const i=new URLSearchParams;s.categoria&&i.append("categoria",s.categoria),s.disponible!==void 0&&i.append("disponible",s.disponible),s.activo!==void 0&&i.append("activo",s.activo);const r=i.toString(),c=`${Kt}/menu/platos/${r?`?${r}`:""}`,d=await fetch(c,{headers:Zt()});return Oa(d)}async function lw(s){const i=await fetch(`${Kt}/menu/platos/`,{method:"POST",headers:Zt(),body:JSON.stringify(s)});return Oa(i)}async function iw(s,i){const r=await fetch(`${Kt}/menu/platos/${s}/`,{method:"PATCH",headers:Zt(),body:JSON.stringify(i)});return Oa(r)}async function rw(s){const i=await fetch(`${Kt}/menu/platos/${s}/`,{method:"DELETE",headers:Zt()});if(!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.detail||"Error al eliminar plato")}}async function Qd(s){const i=await fetch(`${Kt}/menu/platos/${s}/receta/`,{headers:Zt()});return Oa(i)}async function cw(s,i){const r=await fetch(`${Kt}/menu/platos/${s}/receta/`,{method:"POST",headers:Zt(),body:JSON.stringify(i)});return Oa(r)}async function Pb(s={}){const i=new URLSearchParams;s.activo!==void 0&&i.append("activo",s.activo),s.bajo_stock!==void 0&&i.append("bajo_stock",s.bajo_stock);const r=i.toString(),c=`${Kt}/menu/ingredientes/${r?`?${r}`:""}`,d=await fetch(c,{headers:Zt()});return Oa(d)}async function ow(){const s=await fetch(`${Kt}/menu/ingredientes/bajo-minimo/`,{headers:Zt()});return Oa(s)}async function uw(s){const i=await fetch(`${Kt}/menu/ingredientes/`,{method:"POST",headers:Zt(),body:JSON.stringify(s)});return Oa(i)}async function Lv(s,i){const r=await fetch(`${Kt}/menu/ingredientes/${s}/`,{method:"PATCH",headers:Zt(),body:JSON.stringify(i)});return Oa(r)}async function dw(s){const i=await fetch(`${Kt}/menu/ingredientes/${s}/`,{method:"DELETE",headers:Zt()});if(!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.detail||"Error al eliminar ingrediente")}}async function fw(s){const i=await fetch(`${Kt}/menu/recetas/${s}/`,{method:"DELETE",headers:Zt()});if(!i.ok){const r=await i.json().catch(()=>({}));throw new Error(r.detail||"Error al eliminar receta")}}function mw({onAgregarPlato:s,modoSeleccion:i=!1}){const[r,c]=m.useState([]),[d,f]=m.useState([]),[h,x]=m.useState(null),[g,p]=m.useState(!0),[j,y]=m.useState(null);m.useEffect(()=>{S()},[]);const S=async()=>{try{p(!0),y(null);const[C,A]=await Promise.all([Pf(!0),Wf({disponible:!0,activo:!0})]);c(C),f(A),C.length>0&&x(C[0].id)}catch(C){y(C.message)}finally{p(!1)}},w=h?d.filter(C=>C.categoria===h):d;return g?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary"}),a.jsx("p",{className:"mt-3 text-muted",children:"Cargando men..."})]}):j?a.jsxs(st,{variant:"danger",className:"m-3",children:[a.jsx(st.Heading,{children:"Error al cargar el men"}),a.jsx("p",{children:j}),a.jsx(be,{variant:"outline-danger",onClick:S,children:"Reintentar"})]}):a.jsxs(zt,{fluid:!0,className:"py-4",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("h2",{className:"fw-bold",children:[a.jsx("i",{className:"bi bi-book me-2"}),"Nuestro Men"]}),a.jsx("p",{className:"text-muted",children:"Descubre nuestra seleccin de platos"})]}),a.jsx(Xs,{variant:"pills",className:"justify-content-center mb-4 flex-wrap gap-2",activeKey:h,onSelect:C=>x(Number(C)),children:r.map(C=>a.jsx(Xs.Item,{children:a.jsxs(Xs.Link,{eventKey:C.id,className:"rounded-pill px-4",children:[C.nombre,a.jsx(Le,{bg:"light",text:"dark",className:"ms-2",children:d.filter(A=>A.categoria===C.id).length})]})},C.id))}),w.length===0?a.jsx(st,{variant:"info",className:"text-center",children:"No hay platos disponibles en esta categora"}):a.jsx(Fe,{xs:1,md:2,lg:3,xl:4,className:"g-4",children:w.map(C=>a.jsx(ve,{children:a.jsxs(fe,{className:"h-100 shadow-sm hover-shadow",children:[C.imagen?a.jsx(fe.Img,{variant:"top",src:C.imagen,alt:C.nombre,style:{height:"180px",objectFit:"cover"}}):a.jsx("div",{className:"bg-light d-flex align-items-center justify-content-center",style:{height:"180px"},children:a.jsx("i",{className:"bi bi-egg-fried text-muted",style:{fontSize:"4rem"}})}),a.jsxs(fe.Body,{className:"d-flex flex-column",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[a.jsx(fe.Title,{className:"mb-0 fw-semibold",children:C.nombre}),!C.disponible&&a.jsx(Le,{bg:"secondary",children:"Agotado"})]}),a.jsx(fe.Text,{className:"text-muted small flex-grow-1",children:C.descripcion||"Delicioso plato preparado con ingredientes frescos"}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-auto",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"h5 mb-0 text-primary fw-bold",children:["$",Number(C.precio).toLocaleString("es-CL")]}),C.tiempo_preparacion&&a.jsxs("small",{className:"text-muted ms-2",children:[a.jsx("i",{className:"bi bi-clock me-1"}),C.tiempo_preparacion," min"]})]}),i&&C.disponible&&a.jsx(be,{variant:"primary",size:"sm",onClick:()=>s?.(C),children:a.jsx("i",{className:"bi bi-plus-lg"})})]})]})]})},C.id))}),a.jsx("div",{className:"text-center mt-5 text-muted",children:a.jsxs("small",{children:[a.jsx("i",{className:"bi bi-info-circle me-1"}),"Los precios incluyen IVA. Disponibilidad sujeta a stock."]})})]})}function hw(){const[s,i]=m.useState([]),[r,c]=m.useState([]),[d,f]=m.useState([]),[h,x]=m.useState(!0),[g,p]=m.useState(null),[j,y]=m.useState(null),[S,w]=m.useState(!1),[C,A]=m.useState(!1),[E,D]=m.useState(!1),[T,L]=m.useState(null),[_,M]=m.useState(null),[H,z]=m.useState(null),[B,J]=m.useState([]),[q,X]=m.useState("platos");m.useEffect(()=>{P()},[]);const P=async()=>{try{x(!0),p(null);const[U,b,O]=await Promise.all([Pf(!1),Wf(),Pb()]);i(U),c(b),f(O)}catch(U){p(U.message)}finally{x(!1)}},te=async U=>{U.preventDefault();const b=new FormData(U.target),O={nombre:b.get("nombre"),descripcion:b.get("descripcion"),activa:b.get("activa")==="on",orden:parseInt(b.get("orden"))||0};try{T?(await nw(T.id,O),y("Categora actualizada")):(await aw(O),y("Categora creada")),w(!1),L(null),P()}catch(I){p(I.message)}},de=async U=>{if(confirm("Eliminar esta categora?"))try{await sw(U),y("Categora eliminada"),P()}catch(b){p(b.message)}},pe=async U=>{U.preventDefault();const b=new FormData(U.target),O={nombre:b.get("nombre"),descripcion:b.get("descripcion"),precio:parseFloat(b.get("precio")),categoria:parseInt(b.get("categoria")),tiempo_preparacion:parseInt(b.get("tiempo_preparacion"))||15,disponible:b.get("disponible")==="on",activo:b.get("activo")==="on"};try{_?(await iw(_.id,O),y("Plato actualizado")):(await lw(O),y("Plato creado")),A(!1),M(null),P()}catch(I){p(I.message)}},V=async U=>{if(confirm("Eliminar este plato?"))try{await rw(U),y("Plato eliminado"),P()}catch(b){p(b.message)}},ne=async U=>{try{z(U);const b=await Qd(U.id);J(b),D(!0)}catch(b){p(b.message)}},ce=async U=>{U.preventDefault();const b=new FormData(U.target),O={ingrediente:parseInt(b.get("ingrediente")),cantidad_requerida:parseFloat(b.get("cantidad"))};try{await cw(H.id,O);const I=await Qd(H.id);J(I),y("Ingrediente agregado a la receta"),U.target.reset()}catch(I){p(I.message)}},ge=async U=>{try{await fw(U);const b=await Qd(H.id);J(b),y("Ingrediente eliminado de la receta")}catch(b){p(b.message)}};return m.useEffect(()=>{if(j||g){const U=setTimeout(()=>{y(null),p(null)},3e3);return()=>clearTimeout(U)}},[j,g]),h?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary"}),a.jsx("p",{className:"mt-3 text-muted",children:"Cargando men..."})]}):a.jsxs(zt,{fluid:!0,children:[g&&a.jsx(st,{variant:"danger",dismissible:!0,onClose:()=>p(null),children:g}),j&&a.jsx(st,{variant:"success",dismissible:!0,onClose:()=>y(null),children:j}),a.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:a.jsxs("h3",{className:"mb-0",children:[a.jsx("i",{className:"bi bi-journal-text me-2"}),"Gestin del Men"]})}),a.jsxs(Qf,{activeKey:q,onSelect:X,className:"mb-4",children:[a.jsx(no,{eventKey:"platos",title:a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-egg-fried me-1"})," Platos"]}),children:a.jsxs(fe,{children:[a.jsxs(fe.Header,{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("span",{children:["Platos del Men (",r.length,")"]}),a.jsxs(be,{size:"sm",onClick:()=>{M(null),A(!0)},children:[a.jsx("i",{className:"bi bi-plus-lg me-1"})," Nuevo Plato"]})]}),a.jsx(fe.Body,{className:"p-0",children:a.jsxs(vs,{hover:!0,responsive:!0,className:"mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Nombre"}),a.jsx("th",{children:"Categora"}),a.jsx("th",{children:"Precio"}),a.jsx("th",{children:"Tiempo"}),a.jsx("th",{children:"Estado"}),a.jsx("th",{className:"text-end",children:"Acciones"})]})}),a.jsx("tbody",{children:r.map(U=>a.jsxs("tr",{children:[a.jsx("td",{className:"fw-medium",children:U.nombre}),a.jsx("td",{children:U.categoria_nombre}),a.jsxs("td",{children:["$",Number(U.precio).toLocaleString("es-CL")]}),a.jsxs("td",{children:[U.tiempo_preparacion," min"]}),a.jsxs("td",{children:[U.disponible?a.jsx(Le,{bg:"success",children:"Disponible"}):a.jsx(Le,{bg:"secondary",children:"No disponible"}),!U.activo&&a.jsx(Le,{bg:"dark",className:"ms-1",children:"Inactivo"})]}),a.jsxs("td",{className:"text-end",children:[a.jsx(be,{variant:"outline-info",size:"sm",className:"me-1",onClick:()=>ne(U),title:"Ver receta",children:a.jsx("i",{className:"bi bi-list-check"})}),a.jsx(be,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>{M(U),A(!0)},children:a.jsx("i",{className:"bi bi-pencil"})}),a.jsx(be,{variant:"outline-danger",size:"sm",onClick:()=>V(U.id),children:a.jsx("i",{className:"bi bi-trash"})})]})]},U.id))})]})})]})}),a.jsx(no,{eventKey:"categorias",title:a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-folder me-1"})," Categoras"]}),children:a.jsxs(fe,{children:[a.jsxs(fe.Header,{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("span",{children:["Categoras (",s.length,")"]}),a.jsxs(be,{size:"sm",onClick:()=>{L(null),w(!0)},children:[a.jsx("i",{className:"bi bi-plus-lg me-1"})," Nueva Categora"]})]}),a.jsx(fe.Body,{className:"p-0",children:a.jsxs(vs,{hover:!0,responsive:!0,className:"mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Orden"}),a.jsx("th",{children:"Nombre"}),a.jsx("th",{children:"Descripcin"}),a.jsx("th",{children:"Platos"}),a.jsx("th",{children:"Estado"}),a.jsx("th",{className:"text-end",children:"Acciones"})]})}),a.jsx("tbody",{children:s.sort((U,b)=>U.orden-b.orden).map(U=>a.jsxs("tr",{children:[a.jsx("td",{children:U.orden}),a.jsx("td",{className:"fw-medium",children:U.nombre}),a.jsx("td",{className:"text-muted small",children:U.descripcion||"-"}),a.jsx("td",{children:a.jsx(Le,{bg:"light",text:"dark",children:r.filter(b=>b.categoria===U.id).length})}),a.jsx("td",{children:U.activa?a.jsx(Le,{bg:"success",children:"Activa"}):a.jsx(Le,{bg:"secondary",children:"Inactiva"})}),a.jsxs("td",{className:"text-end",children:[a.jsx(be,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>{L(U),w(!0)},children:a.jsx("i",{className:"bi bi-pencil"})}),a.jsx(be,{variant:"outline-danger",size:"sm",onClick:()=>de(U.id),children:a.jsx("i",{className:"bi bi-trash"})})]})]},U.id))})]})})]})})]}),a.jsx($e,{show:S,onHide:()=>w(!1),children:a.jsxs(F,{onSubmit:te,children:[a.jsx($e.Header,{closeButton:!0,children:a.jsx($e.Title,{children:T?"Editar Categora":"Nueva Categora"})}),a.jsxs($e.Body,{children:[a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Nombre"}),a.jsx(F.Control,{name:"nombre",defaultValue:T?.nombre,required:!0})]}),a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Descripcin"}),a.jsx(F.Control,{as:"textarea",name:"descripcion",rows:2,defaultValue:T?.descripcion})]}),a.jsxs(Fe,{children:[a.jsx(ve,{children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Orden"}),a.jsx(F.Control,{type:"number",name:"orden",defaultValue:T?.orden||0})]})}),a.jsx(ve,{className:"d-flex align-items-end",children:a.jsx(F.Check,{type:"switch",name:"activa",label:"Activa",defaultChecked:T?.activa!==!1})})]})]}),a.jsxs($e.Footer,{children:[a.jsx(be,{variant:"secondary",onClick:()=>w(!1),children:"Cancelar"}),a.jsx(be,{variant:"primary",type:"submit",children:"Guardar"})]})]})}),a.jsx($e,{show:C,onHide:()=>A(!1),size:"lg",children:a.jsxs(F,{onSubmit:pe,children:[a.jsx($e.Header,{closeButton:!0,children:a.jsx($e.Title,{children:_?"Editar Plato":"Nuevo Plato"})}),a.jsxs($e.Body,{children:[a.jsxs(Fe,{children:[a.jsx(ve,{md:8,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Nombre"}),a.jsx(F.Control,{name:"nombre",defaultValue:_?.nombre,required:!0})]})}),a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Categora"}),a.jsxs(F.Select,{name:"categoria",defaultValue:_?.categoria,required:!0,children:[a.jsx("option",{value:"",children:"Seleccionar..."}),s.filter(U=>U.activa).map(U=>a.jsx("option",{value:U.id,children:U.nombre},U.id))]})]})})]}),a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Descripcin"}),a.jsx(F.Control,{as:"textarea",name:"descripcion",rows:2,defaultValue:_?.descripcion})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Precio ($)"}),a.jsx(F.Control,{type:"number",name:"precio",step:"1",min:"0",defaultValue:_?.precio,required:!0})]})}),a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Tiempo prep. (min)"}),a.jsx(F.Control,{type:"number",name:"tiempo_preparacion",min:"1",defaultValue:_?.tiempo_preparacion||15})]})}),a.jsxs(ve,{md:4,className:"d-flex flex-column justify-content-end pb-3",children:[a.jsx(F.Check,{type:"switch",name:"disponible",label:"Disponible",defaultChecked:_?.disponible!==!1,className:"mb-2"}),a.jsx(F.Check,{type:"switch",name:"activo",label:"Activo",defaultChecked:_?.activo!==!1})]})]})]}),a.jsxs($e.Footer,{children:[a.jsx(be,{variant:"secondary",onClick:()=>A(!1),children:"Cancelar"}),a.jsx(be,{variant:"primary",type:"submit",children:"Guardar"})]})]})}),a.jsxs($e,{show:E,onHide:()=>D(!1),size:"lg",children:[a.jsx($e.Header,{closeButton:!0,children:a.jsxs($e.Title,{children:["Receta: ",H?.nombre]})}),a.jsxs($e.Body,{children:[B.length>0?a.jsxs(vs,{size:"sm",className:"mb-4",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Ingrediente"}),a.jsx("th",{children:"Cantidad"}),a.jsx("th",{})]})}),a.jsx("tbody",{children:B.map(U=>a.jsxs("tr",{children:[a.jsx("td",{children:U.ingrediente_nombre}),a.jsxs("td",{children:[U.cantidad_requerida," ",U.unidad_medida]}),a.jsx("td",{className:"text-end",children:a.jsx(be,{variant:"outline-danger",size:"sm",onClick:()=>ge(U.id),children:a.jsx("i",{className:"bi bi-x"})})})]},U.id))})]}):a.jsx(st,{variant:"info",className:"mb-4",children:"Este plato no tiene ingredientes asignados"}),a.jsx(fe,{bg:"light",children:a.jsxs(fe.Body,{children:[a.jsx(fe.Title,{className:"h6",children:"Agregar Ingrediente"}),a.jsx(F,{onSubmit:ce,children:a.jsxs(Fe,{className:"align-items-end",children:[a.jsx(ve,{md:6,children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{children:"Ingrediente"}),a.jsxs(F.Select,{name:"ingrediente",required:!0,children:[a.jsx("option",{value:"",children:"Seleccionar..."}),d.filter(U=>U.activo&&!B.some(b=>b.ingrediente===U.id)).map(U=>a.jsxs("option",{value:U.id,children:[U.nombre," (",U.unidad_medida,")"]},U.id))]})]})}),a.jsx(ve,{md:4,children:a.jsxs(F.Group,{children:[a.jsx(F.Label,{children:"Cantidad"}),a.jsx(F.Control,{type:"number",name:"cantidad",step:"0.001",min:"0.001",required:!0})]})}),a.jsx(ve,{md:2,children:a.jsx(be,{type:"submit",variant:"primary",className:"w-100",children:a.jsx("i",{className:"bi bi-plus-lg"})})})]})})]})})]}),a.jsx($e.Footer,{children:a.jsx(be,{variant:"secondary",onClick:()=>D(!1),children:"Cerrar"})})]})]})}const pw=[{value:"gr",label:"Gramos (gr)"},{value:"kg",label:"Kilogramos (kg)"},{value:"un",label:"Unidades (un)"},{value:"lt",label:"Litros (lt)"},{value:"ml",label:"Mililitros (ml)"}];function xw(){const[s,i]=m.useState([]),[r,c]=m.useState([]),[d,f]=m.useState(!0),[h,x]=m.useState(null),[g,p]=m.useState(null),[j,y]=m.useState(!1),[S,w]=m.useState(null),[C,A]=m.useState(!1),[E,D]=m.useState(null),[T,L]=m.useState("todos");m.useEffect(()=>{_()},[]);const _=async()=>{try{f(!0),x(null);const[q,X]=await Promise.all([Pb(),ow()]);i(q),c(X)}catch(q){x(q.message)}finally{f(!1)}},M=async q=>{q.preventDefault();const X=new FormData(q.target),P={nombre:X.get("nombre"),descripcion:X.get("descripcion"),unidad_medida:X.get("unidad_medida"),cantidad_disponible:parseFloat(X.get("cantidad_disponible")),stock_minimo:parseFloat(X.get("stock_minimo")),precio_unitario:parseFloat(X.get("precio_unitario")),activo:X.get("activo")==="on"};try{S?(await Lv(S.id,P),p("Ingrediente actualizado")):(await uw(P),p("Ingrediente creado")),y(!1),w(null),_()}catch(te){x(te.message)}},H=async q=>{if(confirm("Eliminar este ingrediente?"))try{await dw(q),p("Ingrediente eliminado"),_()}catch(X){x(X.message)}},z=async q=>{q.preventDefault();const X=new FormData(q.target),P=X.get("tipo"),te=parseFloat(X.get("cantidad"));let de;if(P==="agregar"?de=parseFloat(E.cantidad_disponible)+te:de=parseFloat(E.cantidad_disponible)-te,de<0){x("La cantidad no puede ser negativa");return}try{await Lv(E.id,{cantidad_disponible:de}),p(`Stock actualizado: ${E.nombre}`),A(!1),D(null),_()}catch(pe){x(pe.message)}},B=s.filter(q=>T==="bajo_stock"?q.bajo_stock:T==="activos"?q.activo:!0),J=q=>{if(q.stock_minimo===0)return 100;const X=parseFloat(q.cantidad_disponible)/parseFloat(q.stock_minimo)*100;return Math.min(X,100)};return m.useEffect(()=>{if(g||h){const q=setTimeout(()=>{p(null),x(null)},3e3);return()=>clearTimeout(q)}},[g,h]),d?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary"}),a.jsx("p",{className:"mt-3 text-muted",children:"Cargando inventario..."})]}):a.jsxs(zt,{fluid:!0,children:[h&&a.jsx(st,{variant:"danger",dismissible:!0,onClose:()=>x(null),children:h}),g&&a.jsx(st,{variant:"success",dismissible:!0,onClose:()=>p(null),children:g}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("h3",{className:"mb-0",children:[a.jsx("i",{className:"bi bi-box-seam me-2"}),"Gestin de Stock"]}),a.jsxs(be,{onClick:()=>{w(null),y(!0)},children:[a.jsx("i",{className:"bi bi-plus-lg me-1"})," Nuevo Ingrediente"]})]}),a.jsxs(Fe,{className:"mb-4",children:[a.jsx(ve,{md:3,children:a.jsx(fe,{className:"text-center border-0 shadow-sm",children:a.jsxs(fe.Body,{children:[a.jsx("div",{className:"h2 mb-0 text-primary",children:s.length}),a.jsx("small",{className:"text-muted",children:"Total Ingredientes"})]})})}),a.jsx(ve,{md:3,children:a.jsx(fe,{className:"text-center border-0 shadow-sm",children:a.jsxs(fe.Body,{children:[a.jsx("div",{className:"h2 mb-0 text-success",children:s.filter(q=>q.activo).length}),a.jsx("small",{className:"text-muted",children:"Activos"})]})})}),a.jsx(ve,{md:3,children:a.jsx(fe,{className:"text-center border-0 shadow-sm",children:a.jsxs(fe.Body,{children:[a.jsx("div",{className:"h2 mb-0 text-danger",children:r.length}),a.jsx("small",{className:"text-muted",children:"Bajo Stock"})]})})}),a.jsx(ve,{md:3,children:a.jsx(fe,{className:"text-center border-0 shadow-sm",children:a.jsxs(fe.Body,{children:[a.jsx("div",{className:"h2 mb-0 text-warning",children:s.filter(q=>parseFloat(q.cantidad_disponible)===0).length}),a.jsx("small",{className:"text-muted",children:"Sin Stock"})]})})})]}),r.length>0&&a.jsxs(st,{variant:"warning",className:"mb-4",children:[a.jsx("i",{className:"bi bi-exclamation-triangle me-2"}),a.jsxs("strong",{children:[r.length," ingredientes"]})," tienen stock por debajo del mnimo:"," ",r.slice(0,3).map(q=>q.nombre).join(", "),r.length>3&&` y ${r.length-3} ms`]}),a.jsx(fe,{className:"mb-4",children:a.jsx(fe.Body,{className:"py-2",children:a.jsxs("div",{className:"d-flex gap-2",children:[a.jsxs(be,{variant:T==="todos"?"primary":"outline-primary",size:"sm",onClick:()=>L("todos"),children:["Todos (",s.length,")"]}),a.jsxs(be,{variant:T==="bajo_stock"?"danger":"outline-danger",size:"sm",onClick:()=>L("bajo_stock"),children:["Bajo Stock (",r.length,")"]}),a.jsxs(be,{variant:T==="activos"?"success":"outline-success",size:"sm",onClick:()=>L("activos"),children:["Activos (",s.filter(q=>q.activo).length,")"]})]})})}),a.jsx(fe,{children:a.jsx(fe.Body,{className:"p-0",children:a.jsxs(vs,{hover:!0,responsive:!0,className:"mb-0",children:[a.jsx("thead",{className:"table-light",children:a.jsxs("tr",{children:[a.jsx("th",{children:"Ingrediente"}),a.jsx("th",{children:"Stock Actual"}),a.jsx("th",{style:{width:"200px"},children:"Nivel"}),a.jsx("th",{children:"Stock Mnimo"}),a.jsx("th",{children:"Precio Unit."}),a.jsx("th",{children:"Estado"}),a.jsx("th",{className:"text-end",children:"Acciones"})]})}),a.jsx("tbody",{children:B.map(q=>{const X=J(q),P=q.bajo_stock?"danger":X<50?"warning":"success";return a.jsxs("tr",{children:[a.jsxs("td",{children:[a.jsx("div",{className:"fw-medium",children:q.nombre}),q.descripcion&&a.jsx("small",{className:"text-muted",children:q.descripcion})]}),a.jsxs("td",{className:"fw-semibold",children:[parseFloat(q.cantidad_disponible).toFixed(2)," ",q.unidad_medida]}),a.jsxs("td",{children:[a.jsx(qb,{now:X,variant:P,style:{height:"8px"}}),a.jsxs("small",{className:"text-muted",children:[X.toFixed(0),"% del mnimo"]})]}),a.jsxs("td",{children:[parseFloat(q.stock_minimo).toFixed(2)," ",q.unidad_medida]}),a.jsxs("td",{children:["$",Number(q.precio_unitario).toLocaleString("es-CL")]}),a.jsx("td",{children:q.bajo_stock?a.jsx(Le,{bg:"danger",children:"Bajo Stock"}):q.activo?a.jsx(Le,{bg:"success",children:"OK"}):a.jsx(Le,{bg:"secondary",children:"Inactivo"})}),a.jsxs("td",{className:"text-end",children:[a.jsx(be,{variant:"outline-success",size:"sm",className:"me-1",onClick:()=>{D(q),A(!0)},title:"Ajustar stock",children:a.jsx("i",{className:"bi bi-plus-slash-minus"})}),a.jsx(be,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>{w(q),y(!0)},children:a.jsx("i",{className:"bi bi-pencil"})}),a.jsx(be,{variant:"outline-danger",size:"sm",onClick:()=>H(q.id),children:a.jsx("i",{className:"bi bi-trash"})})]})]},q.id)})})]})})}),a.jsx($e,{show:j,onHide:()=>y(!1),size:"lg",children:a.jsxs(F,{onSubmit:M,children:[a.jsx($e.Header,{closeButton:!0,children:a.jsx($e.Title,{children:S?"Editar Ingrediente":"Nuevo Ingrediente"})}),a.jsxs($e.Body,{children:[a.jsxs(Fe,{children:[a.jsx(ve,{md:8,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Nombre"}),a.jsx(F.Control,{name:"nombre",defaultValue:S?.nombre,required:!0})]})}),a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Unidad de Medida"}),a.jsx(F.Select,{name:"unidad_medida",defaultValue:S?.unidad_medida||"un",required:!0,children:pw.map(q=>a.jsx("option",{value:q.value,children:q.label},q.value))})]})})]}),a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Descripcin"}),a.jsx(F.Control,{as:"textarea",name:"descripcion",rows:2,defaultValue:S?.descripcion})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Cantidad Disponible"}),a.jsx(F.Control,{type:"number",name:"cantidad_disponible",step:"0.001",min:"0",defaultValue:S?.cantidad_disponible||0,required:!0})]})}),a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Stock Mnimo"}),a.jsx(F.Control,{type:"number",name:"stock_minimo",step:"0.001",min:"0",defaultValue:S?.stock_minimo||0,required:!0})]})}),a.jsx(ve,{md:4,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Precio Unitario ($)"}),a.jsx(F.Control,{type:"number",name:"precio_unitario",step:"1",min:"0",defaultValue:S?.precio_unitario||0,required:!0})]})})]}),a.jsx(F.Check,{type:"switch",name:"activo",label:"Ingrediente activo",defaultChecked:S?.activo!==!1})]}),a.jsxs($e.Footer,{children:[a.jsx(be,{variant:"secondary",onClick:()=>y(!1),children:"Cancelar"}),a.jsx(be,{variant:"primary",type:"submit",children:"Guardar"})]})]})}),a.jsx($e,{show:C,onHide:()=>A(!1),children:a.jsxs(F,{onSubmit:z,children:[a.jsx($e.Header,{closeButton:!0,children:a.jsxs($e.Title,{children:["Ajustar Stock: ",E?.nombre]})}),a.jsxs($e.Body,{children:[a.jsxs(st,{variant:"info",className:"mb-3",children:["Stock actual: ",a.jsxs("strong",{children:[E?.cantidad_disponible," ",E?.unidad_medida]})]}),a.jsxs(Fe,{children:[a.jsx(ve,{md:6,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{children:"Tipo de Ajuste"}),a.jsxs(F.Select,{name:"tipo",required:!0,children:[a.jsx("option",{value:"agregar",children:"Agregar stock"}),a.jsx("option",{value:"restar",children:"Restar stock"})]})]})}),a.jsx(ve,{md:6,children:a.jsxs(F.Group,{className:"mb-3",children:[a.jsxs(F.Label,{children:["Cantidad (",E?.unidad_medida,")"]}),a.jsx(F.Control,{type:"number",name:"cantidad",step:"0.001",min:"0.001",required:!0})]})})]})]}),a.jsxs($e.Footer,{children:[a.jsx(be,{variant:"secondary",onClick:()=>A(!1),children:"Cancelar"}),a.jsx(be,{variant:"primary",type:"submit",children:"Aplicar Ajuste"})]})]})})]})}const em="https://your-backend-app.up.railway.app/api";function vw(){return localStorage.getItem("token")}function tm(){const s=vw();return{"Content-Type":"application/json",...s&&{Authorization:`Token ${s}`}}}async function am(s){if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.detail||i.error||`Error ${s.status}`)}return s.json()}const Kd={CREADO:{label:"Creado",color:"secondary",icon:"bi-clock"},URGENTE:{label:"Urgente",color:"danger",icon:"bi-exclamation-triangle"},EN_PREPARACION:{label:"En preparacin",color:"warning",icon:"bi-fire"},LISTO:{label:"Listo",color:"success",icon:"bi-check-lg"},ENTREGADO:{label:"Entregado",color:"info",icon:"bi-check-circle"},CANCELADO:{label:"Cancelado",color:"dark",icon:"bi-x-circle"}},gw={cocinero:{CREADO:["EN_PREPARACION","URGENTE"],URGENTE:["EN_PREPARACION"],EN_PREPARACION:["LISTO"]},mesero:{LISTO:["ENTREGADO"],CREADO:["CANCELADO"]},cajero:{CREADO:["EN_PREPARACION","URGENTE","CANCELADO"],URGENTE:["EN_PREPARACION","CANCELADO"],EN_PREPARACION:["LISTO","CANCELADO"],LISTO:["ENTREGADO"]},admin:"*"};function $v(s,i,r){if(s==="admin")return!0;const c=gw[s];if(!c)return!1;const d=c[i];return d&&d.includes(r)}async function bw(s){const i=await fetch(`${em}/cocina/pedidos/`,{method:"POST",headers:tm(),body:JSON.stringify(s)});return am(i)}async function jw(s,i){const r=await fetch(`${em}/cocina/pedidos/${s}/estado/`,{method:"POST",headers:tm(),body:JSON.stringify({estado:i})});return am(r)}async function yw(){const s=await fetch(`${em}/cocina/cola/`,{headers:tm()});return am(s)}function Nw(s,i={}){const{enabled:r=!0,onMessage:c,onOpen:d,onClose:f,onError:h,reconnectInterval:x=3e3,maxReconnectAttempts:g=5}=i,[p,j]=m.useState(!1),[y,S]=m.useState(null),[w,C]=m.useState("disconnected"),A=m.useRef(null),E=m.useRef(0),D=m.useRef(null),T=m.useCallback(()=>{const H=window.location.protocol==="https:"?"wss:":"ws:",z=window.location.host;return`${H}//${z}${s}`},[s]),L=m.useCallback(()=>{if(!r)return;const H=localStorage.getItem("token");if(!H){C("no_auth");return}try{C("connecting");const B=`${T()}?token=${H}`;A.current=new WebSocket(B),A.current.onopen=()=>{j(!0),C("connected"),E.current=0,d?.()},A.current.onmessage=J=>{try{const q=JSON.parse(J.data);S(q),c?.(q)}catch(q){console.error("Error parsing WebSocket message:",q)}},A.current.onclose=J=>{j(!1),C("disconnected"),f?.(J),r&&E.current<g&&(C("reconnecting"),D.current=setTimeout(()=>{E.current+=1,L()},x))},A.current.onerror=J=>{C("error"),h?.(J)}}catch(z){C("error"),h?.(z)}},[r,T,c,d,f,h,x,g]),_=m.useCallback(()=>{D.current&&clearTimeout(D.current),A.current&&(A.current.close(),A.current=null),j(!1),C("disconnected")},[]),M=m.useCallback(H=>A.current?.readyState===WebSocket.OPEN?(A.current.send(JSON.stringify(H)),!0):!1,[]);return m.useEffect(()=>(r&&L(),()=>{_()}),[r,L,_]),{isConnected:p,lastMessage:y,connectionStatus:w,sendMessage:M,connect:L,disconnect:_}}function Sw(s={}){const{onPedidoCreado:i,onPedidoActualizado:r,enabled:c=!0}=s,d=m.useCallback(f=>{switch(f.type){case"pedido_creado":i?.(f.data);break;case"pedido_actualizado":r?.(f.data);break;default:console.log("Mensaje WebSocket desconocido:",f)}},[i,r]);return Nw("/ws/cocina/",{enabled:c,onMessage:d})}function Ew(){const{user:s}=Sr(),[i,r]=m.useState([]),[c,d]=m.useState(!0),[f,h]=m.useState(null),[x,g]=m.useState("todos"),[p,j]=m.useState(null),[y,S]=m.useState(null),{isConnected:w,connectionStatus:C}=Sw({enabled:!0,onPedidoCreado:M=>{A()},onPedidoActualizado:M=>{r(H=>H.map(z=>z.id===M.id?{...z,...M}:z))}}),A=m.useCallback(async()=>{try{h(null);const M=await yw();r(M)}catch(M){h(M.message)}finally{d(!1)}},[]);m.useEffect(()=>{A();const M=setInterval(A,3e4);return()=>clearInterval(M)},[A]);const E=async(M,H)=>{if(!$v(s?.rol,M.estado,H)){h(`No tienes permiso para cambiar a ${Kd[H].label}`);return}try{S(M.id),await jw(M.id,H),await A()}catch(z){h(z.message)}finally{S(null)}},T=[...i.filter(M=>x==="urgentes"?M.estado==="URGENTE":x==="en_preparacion"?M.estado==="EN_PREPARACION":x==="creados"?M.estado==="CREADO":!0)].sort((M,H)=>M.estado==="URGENTE"&&H.estado!=="URGENTE"?-1:H.estado==="URGENTE"&&M.estado!=="URGENTE"?1:new Date(M.fecha_creacion)-new Date(H.fecha_creacion)),L=M=>{const H=Math.floor((new Date-new Date(M))/6e4);return H<60?`${H} min`:`${Math.floor(H/60)}h ${H%60}m`},_={total:i.length,urgentes:i.filter(M=>M.estado==="URGENTE").length,creados:i.filter(M=>M.estado==="CREADO").length,en_preparacion:i.filter(M=>M.estado==="EN_PREPARACION").length,listos:i.filter(M=>M.estado==="LISTO").length};return c?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary"}),a.jsx("p",{className:"mt-3 text-muted",children:"Cargando cola de cocina..."})]}):a.jsxs(zt,{fluid:!0,children:[f&&a.jsx(st,{variant:"danger",dismissible:!0,onClose:()=>h(null),children:f}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"mb-1",children:[a.jsx("i",{className:"bi bi-fire me-2 text-danger"}),"Panel de Cocina"]}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsxs(Le,{bg:w?"success":"secondary",children:[a.jsx("i",{className:`bi bi-${w?"wifi":"wifi-off"} me-1`}),w?"Conectado":C]}),a.jsxs("small",{className:"text-muted",children:["ltima actualizacin: ",new Date().toLocaleTimeString("es-CL")]})]})]}),a.jsxs(be,{variant:"outline-primary",onClick:A,children:[a.jsx("i",{className:"bi bi-arrow-clockwise me-1"}),"Actualizar"]})]}),a.jsxs(Fe,{className:"mb-4",children:[a.jsx(ve,{xs:6,md:3,lg:2,children:a.jsx(fe,{className:`text-center cursor-pointer ${x==="urgentes"?"border-danger border-2":""}`,onClick:()=>g(x==="urgentes"?"todos":"urgentes"),style:{cursor:"pointer"},children:a.jsxs(fe.Body,{className:"py-3",children:[a.jsx("div",{className:"h3 mb-0 text-danger",children:_.urgentes}),a.jsx("small",{className:"text-muted",children:"Urgentes"})]})})}),a.jsx(ve,{xs:6,md:3,lg:2,children:a.jsx(fe,{className:`text-center ${x==="creados"?"border-secondary border-2":""}`,onClick:()=>g(x==="creados"?"todos":"creados"),style:{cursor:"pointer"},children:a.jsxs(fe.Body,{className:"py-3",children:[a.jsx("div",{className:"h3 mb-0 text-secondary",children:_.creados}),a.jsx("small",{className:"text-muted",children:"Pendientes"})]})})}),a.jsx(ve,{xs:6,md:3,lg:2,children:a.jsx(fe,{className:`text-center ${x==="en_preparacion"?"border-warning border-2":""}`,onClick:()=>g(x==="en_preparacion"?"todos":"en_preparacion"),style:{cursor:"pointer"},children:a.jsxs(fe.Body,{className:"py-3",children:[a.jsx("div",{className:"h3 mb-0 text-warning",children:_.en_preparacion}),a.jsx("small",{className:"text-muted",children:"En Preparacin"})]})})}),a.jsx(ve,{xs:6,md:3,lg:2,children:a.jsx(fe,{className:"text-center",children:a.jsxs(fe.Body,{className:"py-3",children:[a.jsx("div",{className:"h3 mb-0 text-success",children:_.listos}),a.jsx("small",{className:"text-muted",children:"Listos"})]})})})]}),T.length===0?a.jsxs(st,{variant:"info",className:"text-center",children:[a.jsx("i",{className:"bi bi-inbox me-2"}),"No hay pedidos pendientes en la cola"]}):a.jsx(Fe,{xs:1,md:2,lg:3,xl:4,className:"g-3",children:T.map(M=>{const H=Kd[M.estado],z=L(M.fecha_creacion),B=M.estado==="URGENTE";return a.jsx(ve,{children:a.jsxs(fe,{className:`h-100 shadow-sm ${B?"border-danger border-2":""}`,children:[a.jsxs(fe.Header,{className:`bg-${H.color} text-white d-flex justify-content-between align-items-center`,children:[a.jsxs("div",{children:[a.jsxs("strong",{children:["Mesa ",M.mesa_numero]}),a.jsxs(Le,{bg:"light",text:"dark",className:"ms-2",children:["#",M.id]})]}),a.jsxs(Le,{bg:"light",text:"dark",children:[a.jsx("i",{className:"bi bi-clock me-1"}),z]})]}),a.jsxs(fe.Body,{children:[a.jsx("div",{className:"mb-3",children:a.jsxs(Le,{bg:H.color,className:"me-2",children:[a.jsx("i",{className:`${H.icon} me-1`}),H.label]})}),a.jsx("ul",{className:"list-unstyled mb-3",children:M.detalles?.map((J,q)=>a.jsxs("li",{className:"mb-1",children:[a.jsxs("strong",{children:[J.cantidad,"x"]})," ",J.plato_nombre,J.notas_especiales&&a.jsxs("small",{className:"text-muted d-block ms-3",children:[a.jsx("i",{className:"bi bi-chat-left-text me-1"}),J.notas_especiales]})]},q))}),M.notas&&a.jsx(st,{variant:"light",className:"py-2 mb-3",children:a.jsxs("small",{children:[a.jsx("i",{className:"bi bi-sticky me-1"}),M.notas]})}),a.jsx("div",{className:"d-flex flex-wrap gap-2",children:M.transiciones_permitidas?.map(J=>{const q=Kd[J];return $v(s?.rol,M.estado,J)?a.jsx(be,{variant:`outline-${q.color}`,size:"sm",disabled:y===M.id,onClick:()=>E(M,J),children:y===M.id?a.jsx(kt,{size:"sm"}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:`${q.icon} me-1`}),q.label]})},J):null})})]}),a.jsx(fe.Footer,{className:"bg-transparent small text-muted",children:a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsxs("span",{children:[a.jsx("i",{className:"bi bi-clock-history me-1"}),new Date(M.fecha_creacion).toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"})]}),a.jsxs("span",{children:["Total: $",Number(M.total||0).toLocaleString("es-CL")]})]})})]})},M.id)})}),x!=="todos"&&a.jsx("div",{className:"text-center mt-3",children:a.jsxs(be,{variant:"link",className:"text-muted",onClick:()=>g("todos"),children:[a.jsx("i",{className:"bi bi-x-circle me-1"}),"Quitar filtro - Ver todos los pedidos"]})})]})}function Cw({mesaPreseleccionada:s=null,reservaPreseleccionada:i=null,onPedidoCreado:r}){const[c,d]=m.useState([]),[f,h]=m.useState([]),[x,g]=m.useState([]),[p,j]=m.useState(!0),[y,S]=m.useState(null),[w,C]=m.useState(null),[A,E]=m.useState(s),[D,T]=m.useState([]),[L,_]=m.useState(""),[M,H]=m.useState(!1),[z,B]=m.useState(null),[J,q]=m.useState(!1),[X,P]=m.useState("");m.useEffect(()=>{te()},[]);const te=async()=>{try{j(!0),S(null);const[b,O,I]=await Promise.all([tn(),Pf(!0),Wf({disponible:!0,activo:!0})]);d(b),h(O),g(I),O.length>0&&B(O[0].id)}catch(b){S(b.message)}finally{j(!1)}},de=b=>{T(O=>O.find(ee=>ee.plato.id===b.id)?O.map(ee=>ee.plato.id===b.id?{...ee,cantidad:ee.cantidad+1}:ee):[...O,{plato:b,cantidad:1,notas:""}])},pe=b=>{T(O=>O.filter(I=>I.plato.id!==b))},V=(b,O)=>{if(O<1){pe(b);return}T(I=>I.map(ee=>ee.plato.id===b?{...ee,cantidad:O}:ee))},ne=(b,O)=>{T(I=>I.map(ee=>ee.plato.id===b?{...ee,notas:O}:ee))},ce=()=>D.reduce((b,O)=>b+parseFloat(O.plato.precio)*O.cantidad,0),ge=async()=>{if(!A){S("Debes seleccionar una mesa");return}if(D.length===0){S("El pedido debe tener al menos un plato");return}try{H(!0),S(null);const b={mesa:A,reserva:i||null,notas:L,detalles:D.map(I=>({plato:I.plato.id,cantidad:I.cantidad,notas:I.notas}))},O=await bw(b);C(`Pedido #${O.id} creado exitosamente`),q(!1),T([]),_(""),s||E(null),r?.(O)}catch(b){S(b.message)}finally{H(!1)}},U=x.filter(b=>{const O=!z||b.categoria===z,I=!X||b.nombre.toLowerCase().includes(X.toLowerCase());return O&&I});return m.useEffect(()=>{if(w){const b=setTimeout(()=>C(null),5e3);return()=>clearTimeout(b)}},[w]),p?a.jsxs("div",{className:"text-center py-5",children:[a.jsx(kt,{animation:"border",variant:"primary"}),a.jsx("p",{className:"mt-3 text-muted",children:"Cargando..."})]}):a.jsxs(zt,{fluid:!0,children:[y&&a.jsx(st,{variant:"danger",dismissible:!0,onClose:()=>S(null),children:y}),w&&a.jsxs(st,{variant:"success",dismissible:!0,onClose:()=>C(null),children:[a.jsx("i",{className:"bi bi-check-circle me-2"}),w]}),a.jsxs(Fe,{children:[a.jsx(ve,{lg:8,children:a.jsxs(fe,{className:"mb-4",children:[a.jsx(fe.Header,{children:a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsxs("h5",{className:"mb-0",children:[a.jsx("i",{className:"bi bi-book me-2"}),"Seleccionar Platos"]}),a.jsxs(Pa,{style:{width:"250px"},children:[a.jsx(Pa.Text,{children:a.jsx("i",{className:"bi bi-search"})}),a.jsx(F.Control,{placeholder:"Buscar plato...",value:X,onChange:b=>P(b.target.value)})]})]})}),a.jsx(fe.Body,{className:"border-bottom py-2",children:a.jsx("div",{className:"d-flex gap-2 flex-wrap",children:f.map(b=>a.jsx(be,{variant:z===b.id?"primary":"outline-primary",size:"sm",onClick:()=>B(b.id),children:b.nombre},b.id))})}),a.jsxs(fe.Body,{style:{maxHeight:"500px",overflowY:"auto"},children:[a.jsx(Fe,{xs:2,md:3,lg:4,className:"g-3",children:U.map(b=>{const O=D.find(I=>I.plato.id===b.id);return a.jsx(ve,{children:a.jsx(fe,{className:`h-100 cursor-pointer ${O?"border-primary border-2":""}`,onClick:()=>de(b),style:{cursor:"pointer"},children:a.jsxs(fe.Body,{className:"p-2 text-center",children:[a.jsx("div",{className:"mb-2",children:b.imagen?a.jsx("img",{src:b.imagen,alt:b.nombre,className:"rounded",style:{width:"60px",height:"60px",objectFit:"cover"}}):a.jsx("div",{className:"bg-light rounded d-flex align-items-center justify-content-center mx-auto",style:{width:"60px",height:"60px"},children:a.jsx("i",{className:"bi bi-egg-fried text-muted"})})}),a.jsx("div",{className:"fw-medium small",children:b.nombre}),a.jsxs("div",{className:"text-primary fw-bold",children:["$",Number(b.precio).toLocaleString("es-CL")]}),O&&a.jsxs(Le,{bg:"primary",className:"mt-1",children:["x",O.cantidad]})]})})},b.id)})}),U.length===0&&a.jsx("div",{className:"text-center text-muted py-5",children:"No se encontraron platos"})]})]})}),a.jsx(ve,{lg:4,children:a.jsxs(fe,{className:"sticky-top",style:{top:"20px"},children:[a.jsx(fe.Header,{className:"bg-primary text-white",children:a.jsxs("h5",{className:"mb-0",children:[a.jsx("i",{className:"bi bi-cart3 me-2"}),"Pedido Actual",D.length>0&&a.jsxs(Le,{bg:"light",text:"primary",className:"ms-2",children:[D.reduce((b,O)=>b+O.cantidad,0)," items"]})]})}),a.jsxs(fe.Body,{children:[a.jsxs(F.Group,{className:"mb-3",children:[a.jsxs(F.Label,{children:[a.jsx("i",{className:"bi bi-grid-3x3 me-1"}),"Mesa"]}),a.jsxs(F.Select,{value:A||"",onChange:b=>E(Number(b.target.value)||null),disabled:!!s,children:[a.jsx("option",{value:"",children:"Seleccionar mesa..."}),c.map(b=>a.jsxs("option",{value:b.id,children:["Mesa ",b.numero," (Cap. ",b.capacidad,")"]},b.id))]})]}),D.length===0?a.jsxs("div",{className:"text-center text-muted py-4",children:[a.jsx("i",{className:"bi bi-cart text-muted",style:{fontSize:"3rem"}}),a.jsx("p",{className:"mt-2",children:"Agrega platos al pedido"})]}):a.jsx(Sv,{variant:"flush",className:"mb-3",children:D.map(b=>a.jsxs(Sv.Item,{className:"px-0",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("div",{className:"fw-medium",children:b.plato.nombre}),a.jsxs("div",{className:"small text-muted",children:["$",Number(b.plato.precio).toLocaleString("es-CL")," c/u"]})]}),a.jsx("div",{className:"text-end",children:a.jsxs("div",{className:"fw-bold text-primary",children:["$",(parseFloat(b.plato.precio)*b.cantidad).toLocaleString("es-CL")]})})]}),a.jsxs("div",{className:"d-flex align-items-center gap-2 mt-2",children:[a.jsxs(ButtonGroup,{size:"sm",children:[a.jsx(be,{variant:"outline-secondary",onClick:O=>{O.stopPropagation(),V(b.plato.id,b.cantidad-1)},children:a.jsx("i",{className:"bi bi-dash"})}),a.jsx(be,{variant:"outline-secondary",disabled:!0,children:b.cantidad}),a.jsx(be,{variant:"outline-secondary",onClick:O=>{O.stopPropagation(),V(b.plato.id,b.cantidad+1)},children:a.jsx("i",{className:"bi bi-plus"})})]}),a.jsx(F.Control,{size:"sm",placeholder:"Notas...",value:b.notas,onChange:O=>ne(b.plato.id,O.target.value),className:"flex-grow-1"}),a.jsx(be,{variant:"outline-danger",size:"sm",onClick:()=>pe(b.plato.id),children:a.jsx("i",{className:"bi bi-trash"})})]})]},b.plato.id))}),D.length>0&&a.jsxs(F.Group,{className:"mb-3",children:[a.jsx(F.Label,{className:"small",children:"Notas del pedido"}),a.jsx(F.Control,{as:"textarea",rows:2,placeholder:"Instrucciones especiales...",value:L,onChange:b=>_(b.target.value)})]})]}),D.length>0&&a.jsxs(fe.Footer,{children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsx("span",{className:"h5 mb-0",children:"Total:"}),a.jsxs("span",{className:"h4 mb-0 text-primary fw-bold",children:["$",ce().toLocaleString("es-CL")]})]}),a.jsxs(be,{variant:"success",size:"lg",className:"w-100",onClick:()=>q(!0),disabled:!A||D.length===0,children:[a.jsx("i",{className:"bi bi-send me-2"}),"Enviar a Cocina"]})]})]})})]}),a.jsxs($e,{show:J,onHide:()=>q(!1),children:[a.jsx($e.Header,{closeButton:!0,children:a.jsx($e.Title,{children:"Confirmar Pedido"})}),a.jsxs($e.Body,{children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Mesa:"})," ",c.find(b=>b.id===A)?.numero]}),a.jsxs(vs,{size:"sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Plato"}),a.jsx("th",{className:"text-center",children:"Cant."}),a.jsx("th",{className:"text-end",children:"Subtotal"})]})}),a.jsx("tbody",{children:D.map(b=>a.jsxs("tr",{children:[a.jsxs("td",{children:[b.plato.nombre,b.notas&&a.jsx("small",{className:"text-muted d-block",children:b.notas})]}),a.jsx("td",{className:"text-center",children:b.cantidad}),a.jsxs("td",{className:"text-end",children:["$",(parseFloat(b.plato.precio)*b.cantidad).toLocaleString("es-CL")]})]},b.plato.id))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"fw-bold",children:[a.jsx("td",{colSpan:2,children:"Total"}),a.jsxs("td",{className:"text-end",children:["$",ce().toLocaleString("es-CL")]})]})})]}),L&&a.jsx(st,{variant:"info",className:"mb-0",children:a.jsxs("small",{children:[a.jsx("strong",{children:"Notas:"})," ",L]})})]}),a.jsxs($e.Footer,{children:[a.jsx(be,{variant:"secondary",onClick:()=>q(!1),children:"Cancelar"}),a.jsx(be,{variant:"success",onClick:ge,disabled:M,children:M?a.jsxs(a.Fragment,{children:[a.jsx(kt,{size:"sm",className:"me-2"}),"Enviando..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"bi bi-check-lg me-2"}),"Confirmar Pedido"]})})]})]})]})}const Qc=s=>s==="cliente"?"mis-reservas":"reservas-dia";function ww(){const{user:s,isAuthenticated:i,isLoading:r,logout:c,registerAndLogin:d}=Sr();co();const f=ys(),[h,x]=m.useState(!1),[g,p]=m.useState(()=>i?Qc(s?.rol):"reservas-dia"),[j,y]=m.useState(!1);m.useEffect(()=>{i&&s?.rol&&!j&&(p(Qc(s.rol)),y(!0)),!i&&j&&(y(!1),p("reservas-dia"))},[i,s?.rol,j]);const S=M=>{x(!1),p(Qc(M.rol))},w=()=>{c(),x(!1),p("reservas-dia")},C=M=>{d(M),x(!1),p(Qc(M.rol))},A=()=>s?{cliente:[{id:"mis-reservas",label:"Mis Reservas",icon:"bi-list-ul"},{id:"nueva-reserva",label:"Nueva Reserva",icon:"bi-plus-circle"},{id:"menu",label:"Men",icon:"bi-book"},{id:"mi-perfil",label:"Mi Perfil",icon:"bi-person-circle"}],mesero:[{id:"reservas-dia",label:"Reservas del Da",icon:"bi-calendar-day"},{id:"gestion-mesas",label:"Gestin de Mesas",icon:"bi-grid-3x3"},{id:"crear-pedido",label:"Crear Pedido",icon:"bi-cart-plus"},{id:"cocina",label:"Cocina",icon:"bi-fire"}],cajero:[{id:"reservas-dia",label:"Reservas del Da",icon:"bi-calendar-day"},{id:"todas-reservas",label:"Todas las Reservas",icon:"bi-list-check"},{id:"nueva-reserva",label:"Nueva Reserva",icon:"bi-plus-circle"},{id:"crear-pedido",label:"Crear Pedido",icon:"bi-cart-plus"},{id:"cocina",label:"Cocina",icon:"bi-fire"}],admin:[{id:"reservas-dia",label:"Reservas del Da",icon:"bi-calendar-day"},{id:"nueva-reserva",label:"Nueva Reserva",icon:"bi-plus-circle"},{id:"gestion-usuarios",label:"Usuarios",icon:"bi-people"},{id:"gestion-mesas",label:"Mesas",icon:"bi-grid-3x3"},{id:"gestion-menu",label:"Men",icon:"bi-journal-text"},{id:"gestion-stock",label:"Stock",icon:"bi-box-seam"},{id:"crear-pedido",label:"Crear Pedido",icon:"bi-cart-plus"},{id:"cocina",label:"Cocina",icon:"bi-fire"}]}[s.rol]||[]:[],E=()=>{switch(g){case"mis-reservas":return a.jsx(Y1,{});case"nueva-reserva":const M=()=>{s?.rol==="cliente"?p("mis-reservas"):p("reservas-dia")};return a.jsx(G1,{onReservaCreada:M});case"mi-perfil":return a.jsx(V1,{});case"reservas-dia":return a.jsx(zv,{user:s,onLogout:w,setActiveTab:p});case"todas-reservas":return a.jsx(zv,{user:s,onLogout:w,showAllReservations:!0,setActiveTab:p});case"gestion-mesas":return a.jsx(Z1,{});case"gestion-usuarios":return a.jsx(J1,{});case"menu":return a.jsx(mw,{});case"gestion-menu":return a.jsx(hw,{});case"gestion-stock":return a.jsx(xw,{});case"crear-pedido":return a.jsx(Cw,{onPedidoCreado:()=>p("cocina")});case"cocina":return a.jsx(Ew,{});default:return a.jsx(st,{variant:"warning",children:"Seccin no encontrada"})}};if(r)return a.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:a.jsxs("div",{className:"text-center",children:[a.jsx(kt,{animation:"border",variant:"primary",role:"status",style:{width:"3rem",height:"3rem"},children:a.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),a.jsx("p",{className:"mt-3 text-muted",children:"Verificando sesin..."})]})});const D=f.pathname;if(D.startsWith("/reserva/")||D.startsWith("/activar-cuenta/"))return a.jsxs(t0,{children:[a.jsx(Jd,{path:"/reserva/:token",element:a.jsx(W1,{})}),a.jsx(Jd,{path:"/activar-cuenta/:token",element:a.jsx(ew,{})})]});if(!i)return h?a.jsx("div",{className:"bg-light min-vh-100",children:a.jsx(U1,{onLoginSuccess:S})}):a.jsxs("div",{className:"bg-light min-vh-100",children:[a.jsx(Fc,{bg:"white",className:"shadow-sm",children:a.jsxs(zt,{fluid:!0,children:[a.jsxs(Fc.Brand,{className:"mb-0 h1",children:[a.jsx("i",{className:"bi bi-calendar-check me-2 text-primary"}),"Sistema de Reservas"]}),a.jsxs(be,{variant:"outline-primary",size:"sm",onClick:()=>x(!0),children:[a.jsx("i",{className:"bi bi-box-arrow-in-right me-1"}),"Iniciar Sesin"]})]})}),a.jsx(P1,{onReservaExitosa:C})]});const T=A(),L=new Date().toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long"}),_=T.find(M=>M.id===g)?.label||"Panel";return a.jsxs("div",{className:"bg-light min-vh-100",children:[a.jsx(Fc,{bg:"primary",variant:"dark",className:"shadow-sm app-navbar",children:a.jsxs(zt,{fluid:!0,children:[a.jsxs(Fc.Brand,{className:"mb-0 h1",children:[a.jsx("i",{className:"bi bi-calendar-check me-2"}),"Sistema de Reservas"]}),a.jsxs("div",{className:"d-flex align-items-center text-white",children:[a.jsxs("div",{className:"me-3",children:[a.jsx("i",{className:"bi bi-person-circle me-2"}),a.jsx("strong",{children:s?.username}),a.jsx(Le,{bg:"light",text:"primary",className:"ms-2",children:s?.rol_display})]}),a.jsxs(be,{variant:"outline-light",size:"sm",onClick:w,children:[a.jsx("i",{className:"bi bi-box-arrow-right me-1"}),"Salir"]})]})]})}),a.jsx("div",{className:"app-hero",children:a.jsx(zt,{fluid:!0,children:a.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-white-50 small text-uppercase mb-1",children:"Hoy"}),a.jsx("h2",{className:"text-white fw-semibold mb-1",children:L}),a.jsxs("div",{className:"d-flex flex-wrap gap-2 align-items-center",children:[a.jsx(Le,{bg:"light",text:"primary",className:"rounded-pill",children:s?.rol_display}),a.jsxs("span",{className:"text-white-50 small",children:["Vista actual: ",a.jsx("span",{className:"text-white fw-semibold",children:_})]})]})]}),a.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[a.jsxs("div",{className:"app-hero__card",children:[a.jsx("div",{className:"small text-white-50",children:"Usuario"}),a.jsx("div",{className:"text-white fw-semibold",children:s?.username})]}),a.jsxs("div",{className:"app-hero__card",children:[a.jsx("div",{className:"small text-white-50",children:"Pestaas habilitadas"}),a.jsx("div",{className:"text-white fw-semibold",children:T.length})]}),a.jsxs("div",{className:"app-hero__card",children:[a.jsx("div",{className:"small text-white-50",children:"Sesin"}),a.jsx("div",{className:"text-white fw-semibold",children:"Activa"})]})]})]})})}),a.jsx("div",{className:"bg-white border-bottom",children:a.jsx(zt,{fluid:!0,children:a.jsx(Xs,{variant:"tabs",className:"border-0",activeKey:g,children:T.map(M=>a.jsx(Xs.Item,{children:a.jsxs(Xs.Link,{eventKey:M.id,onClick:()=>p(M.id),style:{border:"none",borderBottom:g===M.id?"3px solid #0d6efd":"3px solid transparent",background:"transparent",color:g===M.id?"#0d6efd":"#6c757d"},children:[a.jsx("i",{className:`bi ${M.icon} me-2`}),M.label]})},M.id))})})}),a.jsx(zt,{fluid:!0,className:"py-4",children:E()})]})}uN.createRoot(document.getElementById("root")).render(a.jsx(Ht.StrictMode,{children:a.jsx(E0,{children:a.jsx(B1,{children:a.jsx(M1,{children:a.jsx(ww,{})})})})}));
